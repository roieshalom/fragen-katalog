var F1=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var WP=F1((n4,Tu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function CE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qd={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function q1(){if(I0)return Vl;I0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=t,Vl.jsx=i,Vl.jsxs=i,Vl}var O0;function H1(){return O0||(O0=1,Qd.exports=q1()),Qd.exports}var st=H1(),Yd={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function G1(){if(N0)return Lt;N0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function k(A,D,Z){this.props=A,this.context=D,this.refs=j,this.updater=Z||V}k.prototype.isReactComponent={},k.prototype.setState=function(A,D){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,D,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function tt(A,D,Z){this.props=A,this.context=D,this.refs=j,this.updater=Z||V}var nt=tt.prototype=new Q;nt.constructor=tt,U(nt,k.prototype),nt.isPureReactComponent=!0;var _t=Array.isArray,rt={H:null,A:null,T:null,S:null},gt=Object.prototype.hasOwnProperty;function O(A,D,Z,X,J,lt){return Z=lt.ref,{$$typeof:n,type:A,key:D,ref:Z!==void 0?Z:null,props:lt}}function R(A,D){return O(A.type,D,void 0,void 0,void 0,A.props)}function C(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function x(A){var D={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return D[Z]})}var N=/\/+/g;function B(A,D){return typeof A=="object"&&A!==null&&A.key!=null?x(""+A.key):D.toString(36)}function I(){}function It(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(D){A.status==="pending"&&(A.status="fulfilled",A.value=D)},function(D){A.status==="pending"&&(A.status="rejected",A.reason=D)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Dt(A,D,Z,X,J){var lt=typeof A;(lt==="undefined"||lt==="boolean")&&(A=null);var ut=!1;if(A===null)ut=!0;else switch(lt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(A.$$typeof){case n:case t:ut=!0;break;case v:return ut=A._init,Dt(ut(A._payload),D,Z,X,J)}}if(ut)return J=J(A),ut=X===""?"."+B(A,0):X,_t(J)?(Z="",ut!=null&&(Z=ut.replace(N,"$&/")+"/"),Dt(J,D,Z,"",function(Rt){return Rt})):J!=null&&(C(J)&&(J=R(J,Z+(J.key==null||A&&A.key===J.key?"":(""+J.key).replace(N,"$&/")+"/")+ut)),D.push(J)),1;ut=0;var dt=X===""?".":X+":";if(_t(A))for(var ft=0;ft<A.length;ft++)X=A[ft],lt=dt+B(X,ft),ut+=Dt(X,D,Z,lt,J);else if(ft=S(A),typeof ft=="function")for(A=ft.call(A),ft=0;!(X=A.next()).done;)X=X.value,lt=dt+B(X,ft++),ut+=Dt(X,D,Z,lt,J);else if(lt==="object"){if(typeof A.then=="function")return Dt(It(A),D,Z,X,J);throw D=String(A),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ut}function at(A,D,Z){if(A==null)return A;var X=[],J=0;return Dt(A,X,"","",function(lt){return D.call(Z,lt,J++)}),X}function ct(A){if(A._status===-1){var D=A._result;D=D(),D.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=D)}if(A._status===1)return A._result.default;throw A._result}var ht=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ot(){}return Lt.Children={map:at,forEach:function(A,D,Z){at(A,function(){D.apply(this,arguments)},Z)},count:function(A){var D=0;return at(A,function(){D++}),D},toArray:function(A){return at(A,function(D){return D})||[]},only:function(A){if(!C(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Lt.Component=k,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=tt,Lt.StrictMode=r,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(A){return function(){return A.apply(null,arguments)}},Lt.cloneElement=function(A,D,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=U({},A.props),J=A.key,lt=void 0;if(D!=null)for(ut in D.ref!==void 0&&(lt=void 0),D.key!==void 0&&(J=""+D.key),D)!gt.call(D,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&D.ref===void 0||(X[ut]=D[ut]);var ut=arguments.length-2;if(ut===1)X.children=Z;else if(1<ut){for(var dt=Array(ut),ft=0;ft<ut;ft++)dt[ft]=arguments[ft+2];X.children=dt}return O(A.type,J,void 0,void 0,lt,X)},Lt.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Lt.createElement=function(A,D,Z){var X,J={},lt=null;if(D!=null)for(X in D.key!==void 0&&(lt=""+D.key),D)gt.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(J[X]=D[X]);var ut=arguments.length-2;if(ut===1)J.children=Z;else if(1<ut){for(var dt=Array(ut),ft=0;ft<ut;ft++)dt[ft]=arguments[ft+2];J.children=dt}if(A&&A.defaultProps)for(X in ut=A.defaultProps,ut)J[X]===void 0&&(J[X]=ut[X]);return O(A,lt,void 0,void 0,null,J)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(A){return{$$typeof:d,render:A}},Lt.isValidElement=C,Lt.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:ct}},Lt.memo=function(A,D){return{$$typeof:g,type:A,compare:D===void 0?null:D}},Lt.startTransition=function(A){var D=rt.T,Z={};rt.T=Z;try{var X=A(),J=rt.S;J!==null&&J(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ot,ht)}catch(lt){ht(lt)}finally{rt.T=D}},Lt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Lt.use=function(A){return rt.H.use(A)},Lt.useActionState=function(A,D,Z){return rt.H.useActionState(A,D,Z)},Lt.useCallback=function(A,D){return rt.H.useCallback(A,D)},Lt.useContext=function(A){return rt.H.useContext(A)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(A,D){return rt.H.useDeferredValue(A,D)},Lt.useEffect=function(A,D){return rt.H.useEffect(A,D)},Lt.useId=function(){return rt.H.useId()},Lt.useImperativeHandle=function(A,D,Z){return rt.H.useImperativeHandle(A,D,Z)},Lt.useInsertionEffect=function(A,D){return rt.H.useInsertionEffect(A,D)},Lt.useLayoutEffect=function(A,D){return rt.H.useLayoutEffect(A,D)},Lt.useMemo=function(A,D){return rt.H.useMemo(A,D)},Lt.useOptimistic=function(A,D){return rt.H.useOptimistic(A,D)},Lt.useReducer=function(A,D,Z){return rt.H.useReducer(A,D,Z)},Lt.useRef=function(A){return rt.H.useRef(A)},Lt.useState=function(A){return rt.H.useState(A)},Lt.useSyncExternalStore=function(A,D,Z){return rt.H.useSyncExternalStore(A,D,Z)},Lt.useTransition=function(){return rt.H.useTransition()},Lt.version="19.0.0",Lt}var P0;function hp(){return P0||(P0=1,Yd.exports=G1()),Yd.exports}var yt=hp();const K1=CE(yt);var Xd={exports:{}},Ml={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Q1(){return L0||(L0=1,function(n){function t(at,ct){var ht=at.length;at.push(ct);t:for(;0<ht;){var Ot=ht-1>>>1,A=at[Ot];if(0<o(A,ct))at[Ot]=ct,at[ht]=A,ht=Ot;else break t}}function i(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var ct=at[0],ht=at.pop();if(ht!==ct){at[0]=ht;t:for(var Ot=0,A=at.length,D=A>>>1;Ot<D;){var Z=2*(Ot+1)-1,X=at[Z],J=Z+1,lt=at[J];if(0>o(X,ht))J<A&&0>o(lt,X)?(at[Ot]=lt,at[J]=ht,Ot=J):(at[Ot]=X,at[Z]=ht,Ot=Z);else if(J<A&&0>o(lt,ht))at[Ot]=lt,at[J]=ht,Ot=J;else break t}}return ct}function o(at,ct){var ht=at.sortIndex-ct.sortIndex;return ht!==0?ht:at.id-ct.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,S=3,V=!1,U=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function nt(at){for(var ct=i(g);ct!==null;){if(ct.callback===null)r(g);else if(ct.startTime<=at)r(g),ct.sortIndex=ct.expirationTime,t(p,ct);else break;ct=i(g)}}function _t(at){if(j=!1,nt(at),!U)if(i(p)!==null)U=!0,It();else{var ct=i(g);ct!==null&&Dt(_t,ct.startTime-at)}}var rt=!1,gt=-1,O=5,R=-1;function C(){return!(n.unstable_now()-R<O)}function x(){if(rt){var at=n.unstable_now();R=at;var ct=!0;try{t:{U=!1,j&&(j=!1,Q(gt),gt=-1),V=!0;var ht=S;try{e:{for(nt(at),E=i(p);E!==null&&!(E.expirationTime>at&&C());){var Ot=E.callback;if(typeof Ot=="function"){E.callback=null,S=E.priorityLevel;var A=Ot(E.expirationTime<=at);if(at=n.unstable_now(),typeof A=="function"){E.callback=A,nt(at),ct=!0;break e}E===i(p)&&r(p),nt(at)}else r(p);E=i(p)}if(E!==null)ct=!0;else{var D=i(g);D!==null&&Dt(_t,D.startTime-at),ct=!1}}break t}finally{E=null,S=ht,V=!1}ct=void 0}}finally{ct?N():rt=!1}}}var N;if(typeof tt=="function")N=function(){tt(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=x,N=function(){I.postMessage(null)}}else N=function(){k(x,0)};function It(){rt||(rt=!0,N())}function Dt(at,ct){gt=k(function(){at(n.unstable_now())},ct)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_continueExecution=function(){U||V||(U=!0,It())},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(at){switch(S){case 1:case 2:case 3:var ct=3;break;default:ct=S}var ht=S;S=ct;try{return at()}finally{S=ht}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(at,ct){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ht=S;S=at;try{return ct()}finally{S=ht}},n.unstable_scheduleCallback=function(at,ct,ht){var Ot=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ot+ht:Ot):ht=Ot,at){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ht+A,at={id:v++,callback:ct,priorityLevel:at,startTime:ht,expirationTime:A,sortIndex:-1},ht>Ot?(at.sortIndex=ht,t(g,at),i(p)===null&&at===i(g)&&(j?(Q(gt),gt=-1):j=!0,Dt(_t,ht-Ot))):(at.sortIndex=A,t(p,at),U||V||(U=!0,It())),at},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(at){var ct=S;return function(){var ht=S;S=ct;try{return at.apply(this,arguments)}finally{S=ht}}}}(Zd)),Zd}var U0;function Y1(){return U0||(U0=1,$d.exports=Q1()),$d.exports}var Wd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function X1(){if(k0)return an;k0=1;var n=hp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},an.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.0.0",an}var B0;function $1(){if(B0)return Wd.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wd.exports=X1(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Z1(){if(z0)return Ml;z0=1;var n=Y1(),t=hp(),i=$1();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),_t=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function gt(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case U:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return s=e.displayName||null,s!==null?s:R(e.type)||"Memo";case tt:s=e._payload,e=e._init;try{return R(e(s))}catch{}}return null}var C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,N,B;function I(e){if(N===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+B}var It=!1;function Dt(e,s){if(!e||It)return"";It=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var H=K}Reflect.construct(e,[],et)}else{try{et.call()}catch(K){H=K}e.call(et.prototype)}}else{try{throw Error()}catch(K){H=K}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var M=T.split(`
`),L=b.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===L.length)for(l=M.length-1,f=L.length-1;1<=l&&0<=f&&M[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==L[f]){var Y=`
`+M[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{It=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=Dt(e.type,!1),e;case 11:return e=Dt(e.type.render,!1),e;case 1:return e=Dt(e.type,!0),e;default:return""}}function ct(e){try{var s="";do s+=at(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function Ot(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function A(e){if(ht(e)!==e)throw Error(r(188))}function D(e){var s=e.alternate;if(!s){if(s=ht(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return A(f),e;if(m===l)return A(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=m;break}if(b===l){T=!0,l=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=f;break}if(b===l){T=!0,l=m,a=f;break}b=b.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function Z(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=Z(e),s!==null)return s;e=e.sibling}return null}var X=Array.isArray,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ut=[],dt=-1;function ft(e){return{current:e}}function Rt(e){0>dt||(e.current=ut[dt],ut[dt]=null,dt--)}function At(e,s){dt++,ut[dt]=e.current,e.current=s}var Pt=ft(null),Yt=ft(null),Wt=ft(null),Nt=ft(null);function le(e,s){switch(At(Wt,s),At(Yt,e),At(Pt,null),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?o0(s):0;break;default:if(e=e===8?s.parentNode:s,s=e.tagName,e=e.namespaceURI)e=o0(e),s=l0(e,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Rt(Pt),At(Pt,s)}function Te(){Rt(Pt),Rt(Yt),Rt(Wt)}function Ke(e){e.memoizedState!==null&&At(Nt,e);var s=Pt.current,a=l0(s,e.type);s!==a&&(At(Yt,e),At(Pt,a))}function nn(e){Yt.current===e&&(Rt(Pt),Rt(Yt)),Nt.current===e&&(Rt(Nt),Sl._currentValue=lt)}var vn=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,ms=n.unstable_cancelCallback,Ro=n.unstable_shouldYield,gr=n.unstable_requestPaint,Qe=n.unstable_now,ha=n.unstable_getCurrentPriorityLevel,me=n.unstable_ImmediatePriority,we=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,yr=n.unstable_LowPriority,ps=n.unstable_IdlePriority,vr=n.log,Li=n.unstable_setDisableYieldValue,li=null,sn=null;function Co(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(li,e,void 0,(e.current.flags&128)===128)}catch{}}function ui(e){if(typeof vr=="function"&&Li(e),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(li,e)}catch{}}var fn=Math.clz32?Math.clz32:Au,Do=Math.log,Eu=Math.LN2;function Au(e){return e>>>=0,e===0?32:31-(Do(e)/Eu|0)|0}var ci=128,gs=4194304;function ti(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,s){var a=e.pendingLanes;if(a===0)return 0;var l=0,f=e.suspendedLanes,m=e.pingedLanes,T=e.warmLanes;e=e.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=ti(a):(m&=b,m!==0?l=ti(m):e||(T=b&~T,T!==0&&(l=ti(T))))):(b=a&~f,b!==0?l=ti(b):m!==0?l=ti(m):e||(T=a&~T,T!==0&&(l=ti(T)))),l===0?0:s!==0&&s!==l&&(s&f)===0&&(f=l&-l,T=s&-s,f>=T||f===32&&(T&4194176)!==0)?s:l}function ys(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function fa(e,s){switch(e){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var e=ci;return ci<<=1,(ci&4194176)===0&&(ci=128),e}function vs(){var e=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),e}function da(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ee(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bu(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,M=e.expirationTimes,L=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-fn(a),et=1<<Y;b[Y]=0,M[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~et}l!==0&&_s(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function _s(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-fn(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function Ts(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-fn(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:R0(e.type))}function Es(e,s){var a=J.p;try{return J.p=e,s()}finally{J.p=a}}var hi=Math.random().toString(36).slice(2),Be="__reactFiber$"+hi,Me="__reactProps$"+hi,Ui="__reactContainer$"+hi,_r="__reactEvents$"+hi,ma="__reactListeners$"+hi,fi="__reactHandles$"+hi,Mo="__reactResources$"+hi,As="__reactMarker$"+hi;function Tr(e){delete e[Be],delete e[Me],delete e[_r],delete e[ma],delete e[fi]}function ei(e){var s=e[Be];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Ui]||a[Be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=h0(e);e!==null;){if(a=e[Be])return a;e=h0(e)}return s}e=a,a=e.parentNode}return null}function ki(e){if(e=e[Be]||e[Ui]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function bs(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function Ss(e){var s=e[Mo];return s||(s=e[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ue(e){e[As]=!0}var xo=new Set,pa={};function wn(e,s){_n(e,s),_n(e+"Capture",s)}function _n(e,s){for(pa[e]=s,e=0;e<s.length;e++)xo.add(s[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Oo={};function Ru(e){return vn.call(Oo,e)?!0:vn.call(Io,e)?!1:$h.test(e)?Oo[e]=!0:(Io[e]=!0,!1)}function ws(e,s,a){if(Ru(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Rs(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ln(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cu(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zh(e){var s=Cu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Er(e){e._valueTracker||(e._valueTracker=Zh(e))}function No(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Cu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bi=/[\n"\\]/g;function pe(e){return e.replace(Bi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cs(e,s,a,l,f,m,T,b){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+dn(s)):e.value!==""+dn(s)&&(e.value=""+dn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?ya(e,T,dn(s)):a!=null?ya(e,T,dn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+dn(b):e.removeAttribute("name")}function Ar(e,s,a,l,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,b||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function ya(e,s,a){s==="number"&&ga(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Xt(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function br(e,s,a){if(s!=null&&(s=""+dn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+dn(a):""}function Ds(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(X(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=dn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Un(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Wh.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Du(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Po(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&Po(e,m,s[m])}function Lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kn=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zi=null,ji=null;function Fi(e){var s=ki(e);if(s&&(e=s.stateNode)){var a=e[Me]||null;t:switch(e=s.stateNode,s.type){case"input":if(Cs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[Me]||null;if(!f)throw Error(r(90));Cs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&No(l)}break t;case"textarea":br(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Xt(e,!!a.multiple,s,!1)}}}var Uo=!1;function Vu(e,s,a){if(Uo)return e(s,a);Uo=!0;try{var l=e(s);return l}finally{if(Uo=!1,(zi!==null||ji!==null)&&(Tc(),zi&&(s=zi,e=ji,ji=zi=null,Fi(s),e)))for(s=0;s<e.length;s++)Fi(e[s])}}function Sr(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Bn=!1;if(Rn)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Bn=!1}var mi=null,Vs=null,qi=null;function ko(){if(qi)return qi;var e,s=Vs,a=s.length,l,f="value"in mi?mi.value:mi.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return qi=f.slice(e,1<l?1-l:void 0)}function pi(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Bo(){return!1}function ze(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gi:Bo,this.isPropagationStopped=Bo,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=ze(Jt),Rr=x({},Jt,{view:0,detail:0}),Mu=ze(Rr),Ta,Ea,yi,Cr=x({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(Ta=e.screenX-yi.screenX,Ea=e.screenY-yi.screenY):Ea=Ta=0,yi=e),Ta)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),zn=ze(Cr),xu=x({},Cr,{dataTransfer:0}),ef=ze(xu),Dr=x({},Rr,{relatedTarget:0}),Aa=ze(Dr),zo=x({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=ze(zo),Iu=x({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sa=ze(Iu),nf=x({},Jt,{data:0}),jo=ze(nf),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Nu[e])?!!s[e]:!1}function Mr(){return Fo}var Pu=x({},Rr,{key:function(e){if(e.key){var s=Vr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wa=ze(Pu),Lu=x({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=ze(Lu),Hi=x({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Uu=ze(Hi),ku=x({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=ze(ku),zu=x({},Cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=ze(zu),mn=x({},Jt,{newState:0,oldState:0}),ju=ze(mn),Fu=[9,13,27,32],vi=Rn&&"CompositionEvent"in window,c=null;Rn&&"documentMode"in document&&(c=document.documentMode);var y=Rn&&"TextEvent"in window&&!c,_=Rn&&(!vi||c&&8<c&&11>=c),w=" ",F=!1;function G(e,s){switch(e){case"keyup":return Fu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qt=!1;function xe(e,s){switch(e){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(F=!0,w);case"textInput":return e=s.data,e===w&&F?null:e;default:return null}}function Ht(e,s){if(qt)return e==="compositionend"||!vi&&G(e,s)?(e=ko(),qi=Vs=mi=null,qt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!je[e.type]:s==="textarea"}function Gi(e,s,a,l){zi?ji?ji.push(l):ji=[l]:zi=l,s=wc(s,"onChange"),0<s.length&&(a=new _a("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Ye=null,_i=null;function Ho(e){n0(e,0)}function qu(e){var s=bs(e);if(No(s))return e}function xg(e,s){if(e==="change")return s}var Ig=!1;if(Rn){var sf;if(Rn){var rf="oninput"in document;if(!rf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),rf=typeof Og.oninput=="function"}sf=rf}else sf=!1;Ig=sf&&(!document.documentMode||9<document.documentMode)}function Ng(){Ye&&(Ye.detachEvent("onpropertychange",Pg),_i=Ye=null)}function Pg(e){if(e.propertyName==="value"&&qu(_i)){var s=[];Gi(s,_i,e,va(e)),Vu(Ho,s)}}function vw(e,s,a){e==="focusin"?(Ng(),Ye=s,_i=a,Ye.attachEvent("onpropertychange",Pg)):e==="focusout"&&Ng()}function _w(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(_i)}function Tw(e,s){if(e==="click")return qu(s)}function Ew(e,s){if(e==="input"||e==="change")return qu(s)}function Aw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Cn=typeof Object.is=="function"?Object.is:Aw;function Go(e,s){if(Cn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vn.call(s,f)||!Cn(e[f],s[f]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,s){var a=Lg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lg(a)}}function kg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?kg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=ga(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=ga(e.document)}return s}function af(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function bw(e,s){var a=Bg(s);s=e.focusedElem;var l=e.selectionRange;if(a!==s&&s&&s.ownerDocument&&kg(s.ownerDocument.documentElement,s)){if(l!==null&&af(s)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(a,s.value.length);else if(a=(e=s.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=s.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=Ug(s,m);var T=Ug(s,l);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(e),a.extend(T.node,T.offset)):(e.setEnd(T.node,T.offset),a.addRange(e)))}}for(e=[],a=s;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)a=e[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Sw=Rn&&"documentMode"in document&&11>=document.documentMode,Ca=null,of=null,Ko=null,lf=!1;function zg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ca==null||Ca!==ga(l)||(l=Ca,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=wc(of,"onSelect"),0<l.length&&(s=new _a("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ca)))}function xr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Da={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},uf={},jg={};Rn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Ir(e){if(uf[e])return uf[e];if(!Da[e])return e;var s=Da[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in jg)return uf[e]=s[a];return e}var Fg=Ir("animationend"),qg=Ir("animationiteration"),Hg=Ir("animationstart"),ww=Ir("transitionrun"),Rw=Ir("transitionstart"),Cw=Ir("transitioncancel"),Gg=Ir("transitionend"),Kg=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ni(e,s){Kg.set(e,s),wn(s,[e])}var jn=[],Va=0,cf=0;function Hu(){for(var e=Va,s=cf=Va=0;s<e;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var m=jn[s];if(jn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Yg(a,f,m)}}function Gu(e,s,a,l){jn[Va++]=e,jn[Va++]=s,jn[Va++]=a,jn[Va++]=l,cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hf(e,s,a,l){return Gu(e,s,a,l),Ku(e)}function Ms(e,s){return Gu(e,null,null,s),Ku(e)}function Yg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;f&&s!==null&&e.tag===3&&(m=e.stateNode,f=31-fn(a),m=m.hiddenUpdates,e=m[f],e===null?m[f]=[s]:e.push(s),s.lane=a|536870912)}function Ku(e){if(50<yl)throw yl=0,yd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ma={},Xg=new WeakMap;function Fn(e,s){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ct(s)},Xg.set(e,s),s)}return{value:e,source:s,stack:ct(s)}}var xa=[],Ia=0,Qu=null,Yu=0,qn=[],Hn=0,Or=null,Ki=1,Qi="";function Nr(e,s){xa[Ia++]=Yu,xa[Ia++]=Qu,Qu=e,Yu=s}function $g(e,s,a){qn[Hn++]=Ki,qn[Hn++]=Qi,qn[Hn++]=Or,Or=e;var l=Ki;e=Qi;var f=32-fn(l)-1;l&=~(1<<f),a+=1;var m=32-fn(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ki=1<<32-fn(s)+f|a<<f|l,Qi=m+e}else Ki=1<<m|a<<f|l,Qi=e}function ff(e){e.return!==null&&(Nr(e,1),$g(e,1,0))}function df(e){for(;e===Qu;)Qu=xa[--Ia],xa[Ia]=null,Yu=xa[--Ia],xa[Ia]=null;for(;e===Or;)Or=qn[--Hn],qn[Hn]=null,Qi=qn[--Hn],qn[Hn]=null,Ki=qn[--Hn],qn[Hn]=null}var pn=null,Xe=null,$t=!1,ii=null,Ti=!1,mf=Error(r(519));function Pr(e){var s=Error(r(418,""));throw Xo(Fn(s,e)),mf}function Zg(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Be]=e,s[Me]=l,a){case"dialog":Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":case"embed":Ft("load",s);break;case"video":case"audio":for(a=0;a<_l.length;a++)Ft(_l[a],s);break;case"source":Ft("error",s);break;case"img":case"image":case"link":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"input":Ft("invalid",s),Ar(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Er(s);break;case"select":Ft("invalid",s);break;case"textarea":Ft("invalid",s),Ds(s,l.value,l.defaultValue,l.children),Er(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||a0(s.textContent,a)?(l.popover!=null&&(Ft("beforetoggle",s),Ft("toggle",s)),l.onScroll!=null&&Ft("scroll",s),l.onScrollEnd!=null&&Ft("scrollend",s),l.onClick!=null&&(s.onclick=Rc),s=!0):s=!1,s||Pr(e)}function Wg(e){for(pn=e.return;pn;)switch(pn.tag){case 3:case 27:Ti=!0;return;case 5:case 13:Ti=!1;return;default:pn=pn.return}}function Qo(e){if(e!==pn)return!1;if(!$t)return Wg(e),$t=!0,!1;var s=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nd(e.type,e.memoizedProps)),a=!a),a&&(s=!0),s&&Xe&&Pr(e),Wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){Xe=ri(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}Xe=null}}else Xe=pn?ri(e.stateNode.nextSibling):null;return!0}function Yo(){Xe=pn=null,$t=!1}function Xo(e){ii===null?ii=[e]:ii.push(e)}var $o=Error(r(460)),Jg=Error(r(474)),pf={then:function(){}};function ty(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xu(){}function ey(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Xu,Xu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,e===$o?Error(r(483)):e;default:if(typeof s.status=="string")s.then(Xu,Xu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,e===$o?Error(r(483)):e}throw Zo=s,$o}}var Zo=null;function ny(){if(Zo===null)throw Error(r(459));var e=Zo;return Zo=null,e}var Oa=null,Wo=0;function $u(e){var s=Wo;return Wo+=1,Oa===null&&(Oa=[]),ey(Oa,e,s)}function Jo(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Zu(e,s){throw s.$$typeof===u?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function iy(e){var s=e._init;return s(e._payload)}function sy(e){function s(z,P){if(e){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!e)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Fs(z,P),z.index=0,z.sibling=null,z}function m(z,P,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=33554434,P):q):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function T(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function b(z,P,q,$){return P===null||P.tag!==6?(P=ud(q,z.mode,$),P.return=z,P):(P=f(P,q),P.return=z,P)}function M(z,P,q,$){var pt=q.type;return pt===p?Y(z,P,q.props.children,$,q.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===tt&&iy(pt)===P.type)?(P=f(P,q.props),Jo(P,q),P.return=z,P):(P=pc(q.type,q.key,q.props,null,z.mode,$),Jo(P,q),P.return=z,P)}function L(z,P,q,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=cd(q,z.mode,$),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function Y(z,P,q,$,pt){return P===null||P.tag!==7?(P=Gr(q,z.mode,$,pt),P.return=z,P):(P=f(P,q),P.return=z,P)}function et(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ud(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return q=pc(P.type,P.key,P.props,null,z.mode,q),Jo(q,P),q.return=z,q;case d:return P=cd(P,z.mode,q),P.return=z,P;case tt:var $=P._init;return P=$(P._payload),et(z,P,q)}if(X(P)||gt(P))return P=Gr(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return et(z,$u(P),q);if(P.$$typeof===V)return et(z,fc(z,P),q);Zu(z,P)}return null}function H(z,P,q,$){var pt=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:b(z,P,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===pt?M(z,P,q,$):null;case d:return q.key===pt?L(z,P,q,$):null;case tt:return pt=q._init,q=pt(q._payload),H(z,P,q,$)}if(X(q)||gt(q))return pt!==null?null:Y(z,P,q,$,null);if(typeof q.then=="function")return H(z,P,$u(q),$);if(q.$$typeof===V)return H(z,P,fc(z,q),$);Zu(z,q)}return null}function K(z,P,q,$,pt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(q)||null,b(P,z,""+$,pt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return z=z.get($.key===null?q:$.key)||null,M(P,z,$,pt);case d:return z=z.get($.key===null?q:$.key)||null,L(P,z,$,pt);case tt:var Bt=$._init;return $=Bt($._payload),K(z,P,q,$,pt)}if(X($)||gt($))return z=z.get(q)||null,Y(P,z,$,pt,null);if(typeof $.then=="function")return K(z,P,q,$u($),pt);if($.$$typeof===V)return K(z,P,q,fc(P,$),pt);Zu(P,$)}return null}function vt(z,P,q,$){for(var pt=null,Bt=null,Tt=P,St=P=0,He=null;Tt!==null&&St<q.length;St++){Tt.index>St?(He=Tt,Tt=null):He=Tt.sibling;var Zt=H(z,Tt,q[St],$);if(Zt===null){Tt===null&&(Tt=He);break}e&&Tt&&Zt.alternate===null&&s(z,Tt),P=m(Zt,P,St),Bt===null?pt=Zt:Bt.sibling=Zt,Bt=Zt,Tt=He}if(St===q.length)return a(z,Tt),$t&&Nr(z,St),pt;if(Tt===null){for(;St<q.length;St++)Tt=et(z,q[St],$),Tt!==null&&(P=m(Tt,P,St),Bt===null?pt=Tt:Bt.sibling=Tt,Bt=Tt);return $t&&Nr(z,St),pt}for(Tt=l(Tt);St<q.length;St++)He=K(Tt,z,St,q[St],$),He!==null&&(e&&He.alternate!==null&&Tt.delete(He.key===null?St:He.key),P=m(He,P,St),Bt===null?pt=He:Bt.sibling=He,Bt=He);return e&&Tt.forEach(function(Xs){return s(z,Xs)}),$t&&Nr(z,St),pt}function Mt(z,P,q,$){if(q==null)throw Error(r(151));for(var pt=null,Bt=null,Tt=P,St=P=0,He=null,Zt=q.next();Tt!==null&&!Zt.done;St++,Zt=q.next()){Tt.index>St?(He=Tt,Tt=null):He=Tt.sibling;var Xs=H(z,Tt,Zt.value,$);if(Xs===null){Tt===null&&(Tt=He);break}e&&Tt&&Xs.alternate===null&&s(z,Tt),P=m(Xs,P,St),Bt===null?pt=Xs:Bt.sibling=Xs,Bt=Xs,Tt=He}if(Zt.done)return a(z,Tt),$t&&Nr(z,St),pt;if(Tt===null){for(;!Zt.done;St++,Zt=q.next())Zt=et(z,Zt.value,$),Zt!==null&&(P=m(Zt,P,St),Bt===null?pt=Zt:Bt.sibling=Zt,Bt=Zt);return $t&&Nr(z,St),pt}for(Tt=l(Tt);!Zt.done;St++,Zt=q.next())Zt=K(Tt,z,St,Zt.value,$),Zt!==null&&(e&&Zt.alternate!==null&&Tt.delete(Zt.key===null?St:Zt.key),P=m(Zt,P,St),Bt===null?pt=Zt:Bt.sibling=Zt,Bt=Zt);return e&&Tt.forEach(function(j1){return s(z,j1)}),$t&&Nr(z,St),pt}function ve(z,P,q,$){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:t:{for(var pt=q.key;P!==null;){if(P.key===pt){if(pt=q.type,pt===p){if(P.tag===7){a(z,P.sibling),$=f(P,q.props.children),$.return=z,z=$;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===tt&&iy(pt)===P.type){a(z,P.sibling),$=f(P,q.props),Jo($,q),$.return=z,z=$;break t}a(z,P);break}else s(z,P);P=P.sibling}q.type===p?($=Gr(q.props.children,z.mode,$,q.key),$.return=z,z=$):($=pc(q.type,q.key,q.props,null,z.mode,$),Jo($,q),$.return=z,z=$)}return T(z);case d:t:{for(pt=q.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),$=f(P,q.children||[]),$.return=z,z=$;break t}else{a(z,P);break}else s(z,P);P=P.sibling}$=cd(q,z.mode,$),$.return=z,z=$}return T(z);case tt:return pt=q._init,q=pt(q._payload),ve(z,P,q,$)}if(X(q))return vt(z,P,q,$);if(gt(q)){if(pt=gt(q),typeof pt!="function")throw Error(r(150));return q=pt.call(q),Mt(z,P,q,$)}if(typeof q.then=="function")return ve(z,P,$u(q),$);if(q.$$typeof===V)return ve(z,P,fc(z,q),$);Zu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),$=f(P,q),$.return=z,z=$):(a(z,P),$=ud(q,z.mode,$),$.return=z,z=$),T(z)):a(z,P)}return function(z,P,q,$){try{Wo=0;var pt=ve(z,P,q,$);return Oa=null,pt}catch(Tt){if(Tt===$o)throw Tt;var Bt=Yn(29,Tt,null,z.mode);return Bt.lanes=$,Bt.return=z,Bt}finally{}}}var Lr=sy(!0),ry=sy(!1),Na=ft(null),Wu=ft(0);function ay(e,s){e=ss,At(Wu,e),At(Na,s),ss=e|s.baseLanes}function gf(){At(Wu,ss),At(Na,Na.current)}function yf(){ss=Wu.current,Rt(Na),Rt(Wu)}var Gn=ft(null),Ei=null;function xs(e){var s=e.alternate;At(Oe,Oe.current&1),At(Gn,e),Ei===null&&(s===null||Na.current!==null||s.memoizedState!==null)&&(Ei=e)}function oy(e){if(e.tag===22){if(At(Oe,Oe.current),At(Gn,e),Ei===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Ei=e)}}else Is()}function Is(){At(Oe,Oe.current),At(Gn,Gn.current)}function Yi(e){Rt(Gn),Ei===e&&(Ei=null),Rt(Oe)}var Oe=ft(0);function Ju(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Vw=n.unstable_scheduleCallback,Mw=n.unstable_NormalPriority,Ne={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new Dw,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&Vw(Mw,function(){e.controller.abort()})}var el=null,_f=0,Pa=0,La=null;function xw(e,s){if(el===null){var a=el=[];_f=0,Pa=wd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,s.then(ly,ly),s}function ly(){if(--_f===0&&el!==null){La!==null&&(La.status="fulfilled");var e=el;el=null,Pa=0,La=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Iw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var uy=C.S;C.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xw(e,s),uy!==null&&uy(e,s)};var Ur=ft(null);function Tf(){var e=Ur.current;return e!==null?e:se.pooledCache}function tc(e,s){s===null?At(Ur,Ur.current):At(Ur,s.pool)}function cy(){var e=Tf();return e===null?null:{parent:Ne._currentValue,pool:e}}var Os=0,Ut=null,ee=null,Re=null,ec=!1,Ua=!1,kr=!1,nc=0,nl=0,ka=null,Ow=0;function Ae(){throw Error(r(321))}function Ef(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Cn(e[a],s[a]))return!1;return!0}function Af(e,s,a,l,f,m){return Os=m,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=e===null||e.memoizedState===null?Br:Ns,kr=!1,m=a(l,f),kr=!1,Ua&&(m=fy(s,a,l,f)),hy(e),m}function hy(e){C.H=Ai;var s=ee!==null&&ee.next!==null;if(Os=0,Re=ee=Ut=null,ec=!1,nl=0,ka=null,s)throw Error(r(300));e===null||Fe||(e=e.dependencies,e!==null&&hc(e)&&(Fe=!0))}function fy(e,s,a,l){Ut=e;var f=0;do{if(Ua&&(ka=null),nl=0,Ua=!1,25<=f)throw Error(r(301));if(f+=1,Re=ee=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=zr,m=s(a,l)}while(Ua);return m}function Nw(){var e=C.H,s=e.useState()[0];return s=typeof s.then=="function"?il(s):s,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Ut.flags|=1024),s}function bf(){var e=nc!==0;return nc=0,e}function Sf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function wf(e){if(ec){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ec=!1}Os=0,Re=ee=Ut=null,Ua=!1,nl=nc=0,ka=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ut.memoizedState=Re=e:Re=Re.next=e,Re}function Ce(){if(ee===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var s=Re===null?Ut.memoizedState:Re.next;if(s!==null)Re=s,ee=e;else{if(e===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Re===null?Ut.memoizedState=Re=e:Re=Re.next=e}return Re}var ic;ic=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function il(e){var s=nl;return nl+=1,ka===null&&(ka=[]),e=ey(ka,e,s),s=Ut,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Br:Ns),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===V)return rn(e)}throw Error(r(438,String(e)))}function Rf(e){var s=null,a=Ut.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ic(),Ut.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=_t;return s.index++,a}function Xi(e,s){return typeof s=="function"?s(e):s}function rc(e){var s=Ce();return Cf(s,ee,e)}function Cf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var b=T=null,M=null,L=s,Y=!1;do{var et=L.lane&-536870913;if(et!==L.lane?(Gt&et)===et:(Os&et)===et){var H=L.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),et===Pa&&(Y=!0);else if((Os&H)===H){L=L.next,H===Pa&&(Y=!0);continue}else et={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},M===null?(b=M=et,T=m):M=M.next=et,Ut.lanes|=H,qs|=H;et=L.action,kr&&a(m,et),m=L.hasEagerState?L.eagerState:a(m,et)}else H={lane:et,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},M===null?(b=M=H,T=m):M=M.next=H,Ut.lanes|=et,qs|=et;L=L.next}while(L!==null&&L!==s);if(M===null?T=m:M.next=b,!Cn(m,e.memoizedState)&&(Fe=!0,Y&&(a=La,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var s=Ce(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Cn(m,s.memoizedState)||(Fe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function dy(e,s,a){var l=Ut,f=Ce(),m=$t;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Cn((ee||f).memoizedState,a);if(T&&(f.memoizedState=a,Fe=!0),f=f.queue,xf(gy.bind(null,l,f,e),[e]),f.getSnapshot!==s||T||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ba(9,py.bind(null,l,f,a,s),{destroy:void 0},null),se===null)throw Error(r(349));m||(Os&60)!==0||my(l,s,a)}return a}function my(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ut.updateQueue,s===null?(s=ic(),Ut.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function py(e,s,a,l){s.value=a,s.getSnapshot=l,yy(s)&&vy(e)}function gy(e,s,a){return a(function(){yy(s)&&vy(e)})}function yy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Cn(e,a)}catch{return!0}}function vy(e){var s=Ms(e,2);s!==null&&gn(s,e,2)}function Vf(e){var s=Tn();if(typeof e=="function"){var a=e;if(e=a(),kr){ui(!0);try{a()}finally{ui(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},s}function _y(e,s,a,l){return e.baseState=a,Cf(e,ee,typeof l=="function"?l:Xi)}function Pw(e,s,a,l,f){if(lc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};C.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,Ty(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ty(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=C.T,T={};C.T=T;try{var b=a(f,l),M=C.S;M!==null&&M(T,b),Ey(e,s,b)}catch(L){Mf(e,s,L)}finally{C.T=m}}else try{m=a(f,l),Ey(e,s,m)}catch(L){Mf(e,s,L)}}function Ey(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(e,s,l)},function(l){return Mf(e,s,l)}):Ay(e,s,a)}function Ay(e,s,a){s.status="fulfilled",s.value=a,by(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,Ty(e,a)))}function Mf(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,by(s),s=s.next;while(s!==l)}e.action=null}function by(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Sy(e,s){return s}function wy(e,s){if($t){var a=se.formState;if(a!==null){t:{var l=Ut;if($t){if(Xe){e:{for(var f=Xe,m=Ti;f.nodeType!==8;){if(!m){f=null;break e}if(f=ri(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xe=ri(f.nextSibling),l=f.data==="F!";break t}}Pr(l)}l=!1}l&&(s=a[0])}}return a=Tn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:s},a.queue=l,a=qy.bind(null,Ut,l),l.dispatch=a,l=Vf(!1),m=Lf.bind(null,Ut,!1,l.queue),l=Tn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=Pw.bind(null,Ut,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function Ry(e){var s=Ce();return Cy(s,ee,e)}function Cy(e,s,a){s=Cf(e,s,Sy)[0],e=rc(Xi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?il(s):s;var l=Ce(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(Ut.flags|=2048,Ba(9,Lw.bind(null,f,a),{destroy:void 0},null)),[s,m,e]}function Lw(e,s){e.action=s}function Dy(e){var s=Ce(),a=ee;if(a!==null)return Cy(s,a,e);Ce(),s=s.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Ba(e,s,a,l){return e={tag:e,create:s,inst:a,deps:l,next:null},s=Ut.updateQueue,s===null&&(s=ic(),Ut.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Vy(){return Ce().memoizedState}function ac(e,s,a,l){var f=Tn();Ut.flags|=e,f.memoizedState=Ba(1|s,a,{destroy:void 0},l===void 0?null:l)}function oc(e,s,a,l){var f=Ce();l=l===void 0?null:l;var m=f.memoizedState.inst;ee!==null&&l!==null&&Ef(l,ee.memoizedState.deps)?f.memoizedState=Ba(s,a,m,l):(Ut.flags|=e,f.memoizedState=Ba(1|s,a,m,l))}function My(e,s){ac(8390656,8,e,s)}function xf(e,s){oc(2048,8,e,s)}function xy(e,s){return oc(4,2,e,s)}function Iy(e,s){return oc(4,4,e,s)}function Oy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Ny(e,s,a){a=a!=null?a.concat([e]):null,oc(4,4,Oy.bind(null,s,e),a)}function If(){}function Py(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ef(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Ly(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ef(s,l[1]))return l[0];if(l=e(),kr){ui(!0);try{e()}finally{ui(!1)}}return a.memoizedState=[l,s],l}function Of(e,s,a){return a===void 0||(Os&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=kv(),Ut.lanes|=e,qs|=e,a)}function Uy(e,s,a,l){return Cn(a,s)?a:Na.current!==null?(e=Of(e,a,l),Cn(e,s)||(Fe=!0),e):(Os&42)===0?(Fe=!0,e.memoizedState=a):(e=kv(),Ut.lanes|=e,qs|=e,s)}function ky(e,s,a,l,f){var m=J.p;J.p=m!==0&&8>m?m:8;var T=C.T,b={};C.T=b,Lf(e,!1,s,a);try{var M=f(),L=C.S;if(L!==null&&L(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=Iw(M,l);sl(e,s,Y,xn(e))}else sl(e,s,l,xn(e))}catch(et){sl(e,s,{then:function(){},status:"rejected",reason:et},xn())}finally{J.p=m,C.T=T}}function Uw(){}function Nf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=By(e).queue;ky(e,f,s,lt,a===null?Uw:function(){return zy(e),a(l)})}function By(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:lt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function zy(e){var s=By(e).next.queue;sl(e,s,{},xn())}function Pf(){return rn(Sl)}function jy(){return Ce().memoizedState}function Fy(){return Ce().memoizedState}function kw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();e=Us(a);var l=ks(s,e,a);l!==null&&(gn(l,s,a),ol(l,s,a)),s={cache:vf()},e.payload=s;return}s=s.return}}function Bw(e,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?Hy(s,a):(a=hf(e,s,a,l),a!==null&&(gn(a,e,l),Gy(a,s,l)))}function qy(e,s,a){var l=xn();sl(e,s,a,l)}function sl(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))Hy(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,Cn(b,T))return Gu(e,s,f,0),se===null&&Hu(),!1}catch{}finally{}if(a=hf(e,s,f,l),a!==null)return gn(a,e,l),Gy(a,s,l),!0}return!1}function Lf(e,s,a,l){if(l={lane:2,revertLane:wd(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(s)throw Error(r(479))}else s=hf(e,a,l,2),s!==null&&gn(s,e,2)}function lc(e){var s=e.alternate;return e===Ut||s!==null&&s===Ut}function Hy(e,s){Ua=ec=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Gy(e,s,a){if((a&4194176)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Ts(e,a)}}var Ai={readContext:rn,use:sc,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae};Ai.useCacheRefresh=Ae,Ai.useMemoCache=Ae,Ai.useHostTransitionStatus=Ae,Ai.useFormState=Ae,Ai.useActionState=Ae,Ai.useOptimistic=Ae;var Br={readContext:rn,use:sc,useCallback:function(e,s){return Tn().memoizedState=[e,s===void 0?null:s],e},useContext:rn,useEffect:My,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,ac(4194308,4,Oy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return ac(4194308,4,e,s)},useInsertionEffect:function(e,s){ac(4,2,e,s)},useMemo:function(e,s){var a=Tn();s=s===void 0?null:s;var l=e();if(kr){ui(!0);try{e()}finally{ui(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Tn();if(a!==void 0){var f=a(s);if(kr){ui(!0);try{a(s)}finally{ui(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Bw.bind(null,Ut,e),[l.memoizedState,e]},useRef:function(e){var s=Tn();return e={current:e},s.memoizedState=e},useState:function(e){e=Vf(e);var s=e.queue,a=qy.bind(null,Ut,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,s){var a=Tn();return Of(a,e,s)},useTransition:function(){var e=Vf(!1);return e=ky.bind(null,Ut,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Ut,f=Tn();if($t){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),se===null)throw Error(r(349));(Gt&60)!==0||my(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,My(gy.bind(null,l,m,e),[e]),l.flags|=2048,Ba(9,py.bind(null,l,m,a,s),{destroy:void 0},null),a},useId:function(){var e=Tn(),s=se.identifierPrefix;if($t){var a=Qi,l=Ki;a=(l&~(1<<32-fn(l)-1)).toString(32)+a,s=":"+s+"R"+a,a=nc++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Ow++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},useCacheRefresh:function(){return Tn().memoizedState=kw.bind(null,Ut)}};Br.useMemoCache=Rf,Br.useHostTransitionStatus=Pf,Br.useFormState=wy,Br.useActionState=wy,Br.useOptimistic=function(e){var s=Tn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Lf.bind(null,Ut,!0,a),a.dispatch=s,[e,s]};var Ns={readContext:rn,use:sc,useCallback:Py,useContext:rn,useEffect:xf,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Iy,useMemo:Ly,useReducer:rc,useRef:Vy,useState:function(){return rc(Xi)},useDebugValue:If,useDeferredValue:function(e,s){var a=Ce();return Uy(a,ee.memoizedState,e,s)},useTransition:function(){var e=rc(Xi)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:il(e),s]},useSyncExternalStore:dy,useId:jy};Ns.useCacheRefresh=Fy,Ns.useMemoCache=Rf,Ns.useHostTransitionStatus=Pf,Ns.useFormState=Ry,Ns.useActionState=Ry,Ns.useOptimistic=function(e,s){var a=Ce();return _y(a,ee,e,s)};var zr={readContext:rn,use:sc,useCallback:Py,useContext:rn,useEffect:xf,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Iy,useMemo:Ly,useReducer:Df,useRef:Vy,useState:function(){return Df(Xi)},useDebugValue:If,useDeferredValue:function(e,s){var a=Ce();return ee===null?Of(a,e,s):Uy(a,ee.memoizedState,e,s)},useTransition:function(){var e=Df(Xi)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:il(e),s]},useSyncExternalStore:dy,useId:jy};zr.useCacheRefresh=Fy,zr.useMemoCache=Rf,zr.useHostTransitionStatus=Pf,zr.useFormState=Dy,zr.useActionState=Dy,zr.useOptimistic=function(e,s){var a=Ce();return ee!==null?_y(a,ee,e,s):(a.baseState=e,[e,a.queue.dispatch])};function Uf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={isMounted:function(e){return(e=e._reactInternals)?ht(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var l=xn(),f=Us(l);f.payload=s,a!=null&&(f.callback=a),s=ks(e,f,l),s!==null&&(gn(s,e,l),ol(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=xn(),f=Us(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ks(e,f,l),s!==null&&(gn(s,e,l),ol(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=xn(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=ks(e,l,a),s!==null&&(gn(s,e,a),ol(s,e,a))}};function Ky(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Go(a,l)||!Go(f,m):!0}function Qy(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&kf.enqueueReplaceState(s,s.state,null)}function jr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=x({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var uc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yy(e){uc(e)}function Xy(e){console.error(e)}function $y(e){uc(e)}function cc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bf(e,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(e,s)},a}function Wy(e){return e=Us(e),e.tag=3,e}function Jy(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){Zy(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Zy(s,a,l),typeof f!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function zw(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&al(s,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Ei===null?Td():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===pf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Ad(e,l,f)),!1;case 22:return a.flags|=65536,l===pf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Ad(e,l,f)),!1}throw Error(r(435,a.tag))}return Ad(e,l,f),Td(),!1}if($t)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==mf&&(e=Error(r(422),{cause:l}),Xo(Fn(e,a)))):(l!==mf&&(s=Error(r(423),{cause:l}),Xo(Fn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Fn(l,a),f=Bf(e.stateNode,l,f),td(e,f),ye!==4&&(ye=2)),!1;var m=Error(r(520),{cause:l});if(m=Fn(m,a),pl===null?pl=[m]:pl.push(m),ye!==4&&(ye=2),s===null)return!0;l=Fn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Bf(a.stateNode,l,e),td(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hs===null||!Hs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Jy(f,e,a,l),td(a,f),!1}a=a.return}while(a!==null);return!1}var tv=Error(r(461)),Fe=!1;function $e(e,s,a,l){s.child=e===null?ry(s,null,a,l):Lr(s,e.child,a,l)}function ev(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return qr(s),l=Af(e,s,a,T,m,f),b=bf(),e!==null&&!Fe?(Sf(e,s,f),$i(e,s,f)):($t&&b&&ff(s),s.flags|=1,$e(e,s,l,f),s.child)}function nv(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!ld(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,iv(e,s,m,l,f)):(e=pc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Yf(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(T,l)&&e.ref===s.ref)return $i(e,s,f)}return s.flags|=1,e=Fs(m,l),e.ref=s.ref,e.return=s,s.child=e}function iv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Go(m,l)&&e.ref===s.ref)if(Fe=!1,s.pendingProps=l=m,Yf(e,f))(e.flags&131072)!==0&&(Fe=!0);else return s.lanes=e.lanes,$i(e,s,f)}return zf(e,s,a,l,f)}function sv(e,s,a){var l=s.pendingProps,f=l.children,m=(s.stateNode._pendingVisibility&2)!==0,T=e!==null?e.memoizedState:null;if(rl(e,s),l.mode==="hidden"||m){if((s.flags&128)!==0){if(l=T!==null?T.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return rv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(s,T!==null?T.cachePool:null),T!==null?ay(s,T):gf(),oy(s);else return s.lanes=s.childLanes=536870912,rv(e,s,T!==null?T.baseLanes|a:a,a)}else T!==null?(tc(s,T.cachePool),ay(s,T),Is(),s.memoizedState=null):(e!==null&&tc(s,null),gf(),Is());return $e(e,s,f,a),s.child}function rv(e,s,a,l){var f=Tf();return f=f===null?null:{parent:Ne._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&tc(s,null),gf(),oy(s),e!==null&&al(e,s,l,!0),null}function rl(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=2097664)}}function zf(e,s,a,l,f){return qr(s),a=Af(e,s,a,l,void 0,f),l=bf(),e!==null&&!Fe?(Sf(e,s,f),$i(e,s,f)):($t&&l&&ff(s),s.flags|=1,$e(e,s,a,f),s.child)}function av(e,s,a,l,f,m){return qr(s),s.updateQueue=null,a=fy(s,l,a,f),hy(e),l=bf(),e!==null&&!Fe?(Sf(e,s,m),$i(e,s,m)):($t&&l&&ff(s),s.flags|=1,$e(e,s,a,m),s.child)}function ov(e,s,a,l,f){if(qr(s),s.stateNode===null){var m=Ma,T=a.contextType;typeof T=="object"&&T!==null&&(m=rn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=kf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Wf(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?rn(T):Ma,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Uf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&kf.enqueueReplaceState(m,m.state,null),ul(s,l,m,f),ll(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var b=s.memoizedProps,M=jr(a,b);m.props=M;var L=m.context,Y=a.contextType;T=Ma,typeof Y=="object"&&Y!==null&&(T=rn(Y));var et=a.getDerivedStateFromProps;Y=typeof et=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||L!==T)&&Qy(s,m,l,T),Ls=!1;var H=s.memoizedState;m.state=H,ul(s,l,m,f),ll(),L=s.memoizedState,b||H!==L||Ls?(typeof et=="function"&&(Uf(s,a,et,l),L=s.memoizedState),(M=Ls||Ky(s,a,M,l,H,L,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=L),m.props=l,m.state=L,m.context=T,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Jf(e,s),T=s.memoizedProps,Y=jr(a,T),m.props=Y,et=s.pendingProps,H=m.context,L=a.contextType,M=Ma,typeof L=="object"&&L!==null&&(M=rn(L)),b=a.getDerivedStateFromProps,(L=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==et||H!==M)&&Qy(s,m,l,M),Ls=!1,H=s.memoizedState,m.state=H,ul(s,l,m,f),ll();var K=s.memoizedState;T!==et||H!==K||Ls||e!==null&&e.dependencies!==null&&hc(e.dependencies)?(typeof b=="function"&&(Uf(s,a,b,l),K=s.memoizedState),(Y=Ls||Ky(s,a,Y,l,H,K,M)||e!==null&&e.dependencies!==null&&hc(e.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=M,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,rl(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Lr(s,e.child,null,f),s.child=Lr(s,null,a,f)):$e(e,s,a,f),s.memoizedState=m.state,e=s.child):e=$i(e,s,f),e}function lv(e,s,a,l){return Yo(),s.flags|=256,$e(e,s,a,l),s.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Ff(e){return{baseLanes:e,cachePool:cy()}}function qf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Xn),e}function uv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if($t){if(f?xs(s):Is(),$t){var b=Xe,M;if(M=b){t:{for(M=b,b=Ti;M.nodeType!==8;){if(!b){b=null;break t}if(M=ri(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(s.memoizedState={dehydrated:b,treeContext:Or!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912},M=Yn(18,null,null,0),M.stateNode=b,M.return=s,s.child=M,pn=s,Xe=null,M=!0):M=!1}M||Pr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?s.lanes=16:s.lanes=536870912,null;Yi(s)}return b=l.children,l=l.fallback,f?(Is(),f=s.mode,b=Gf({mode:"hidden",children:b},f),l=Gr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=Ff(a),f.childLanes=qf(e,T,a),s.memoizedState=jf,l):(xs(s),Hf(s,b))}if(M=e.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(m)s.flags&256?(xs(s),s.flags&=-257,s=Kf(e,s,a)):s.memoizedState!==null?(Is(),s.child=e.child,s.flags|=128,s=null):(Is(),f=l.fallback,b=s.mode,l=Gf({mode:"visible",children:l.children},b),f=Gr(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Lr(s,e.child,null,a),l=s.child,l.memoizedState=Ff(a),l.childLanes=qf(e,T,a),s.memoizedState=jf,s=f);else if(xs(s),b.data==="$!"){if(T=b.nextSibling&&b.nextSibling.dataset,T)var L=T.dgst;T=L,l=Error(r(419)),l.stack="",l.digest=T,Xo({value:l,source:null,stack:null}),s=Kf(e,s,a)}else if(Fe||al(e,s,a,!1),T=(a&e.childLanes)!==0,Fe||T){if(T=se,T!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane)throw M.retryLane=l,Ms(e,l),gn(T,e,l),tv}b.data==="$?"||Td(),s=Kf(e,s,a)}else b.data==="$?"?(s.flags|=128,s.child=e.child,s=e1.bind(null,e),b._reactRetry=s,s=null):(e=M.treeContext,Xe=ri(b.nextSibling),pn=s,$t=!0,ii=null,Ti=!1,e!==null&&(qn[Hn++]=Ki,qn[Hn++]=Qi,qn[Hn++]=Or,Ki=e.id,Qi=e.overflow,Or=s),s=Hf(s,l.children),s.flags|=4096);return s}return f?(Is(),f=l.fallback,b=s.mode,M=e.child,L=M.sibling,l=Fs(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&31457280,L!==null?f=Fs(L,f):(f=Gr(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=e.child.memoizedState,b===null?b=Ff(a):(M=b.cachePool,M!==null?(L=Ne._currentValue,M=M.parent!==L?{parent:L,pool:L}:M):M=cy(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=qf(e,T,a),s.memoizedState=jf,l):(xs(s),a=e.child,e=a.sibling,a=Fs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function Hf(e,s){return s=Gf({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Gf(e,s){return Pv(e,s,0,null)}function Kf(e,s,a){return Lr(s,e.child,null,a),e=Hf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function cv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),$f(e.return,s,a)}function Qf(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function hv(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if($e(e,s,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cv(e,a,s);else if(e.tag===19)cv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(At(Oe,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Qf(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Ju(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Qf(s,!0,a,null,m);break;case"together":Qf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $i(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(al(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Fs(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Fs(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Yf(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&hc(e)))}function jw(e,s,a){switch(s.tag){case 3:le(s,s.stateNode.containerInfo),Ps(s,Ne,e.memoizedState.cache),Yo();break;case 27:case 5:Ke(s);break;case 4:le(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?uv(e,s,a):(xs(s),e=$i(e,s,a),e!==null?e.sibling:null);xs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(al(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return hv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),At(Oe,Oe.current),l)break;return null;case 22:case 23:return s.lanes=0,sv(e,s,a);case 24:Ps(s,Ne,e.memoizedState.cache)}return $i(e,s,a)}function fv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Fe=!0;else{if(!Yf(e,a)&&(s.flags&128)===0)return Fe=!1,jw(e,s,a);Fe=(e.flags&131072)!==0}else Fe=!1,$t&&(s.flags&1048576)!==0&&$g(s,Yu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")ld(l)?(e=jr(l,e),s.tag=1,s=ov(null,s,l,e,a)):(s.tag=0,s=zf(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===U){s.tag=11,s=ev(null,s,l,e,a);break t}else if(f===Q){s.tag=14,s=nv(null,s,l,e,a);break t}}throw s=R(l)||l,Error(r(306,s,""))}}return s;case 0:return zf(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=jr(l,s.pendingProps),ov(e,s,l,f,a);case 3:t:{if(le(s,s.stateNode.containerInfo),e===null)throw Error(r(387));var m=s.pendingProps;f=s.memoizedState,l=f.element,Jf(e,s),ul(s,m,null,a);var T=s.memoizedState;if(m=T.cache,Ps(s,Ne,m),m!==f.cache&&Zf(s,[Ne],a,!0),ll(),m=T.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=lv(e,s,m,a);break t}else if(m!==l){l=Fn(Error(r(424)),s),Xo(l),s=lv(e,s,m,a);break t}else for(Xe=ri(s.stateNode.containerInfo.firstChild),pn=s,$t=!0,ii=null,Ti=!0,a=ry(s,null,m,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yo(),m===l){s=$i(e,s,a);break t}$e(e,s,m,a)}s=s.child}return s;case 26:return rl(e,s),e===null?(a=p0(s.type,null,s.pendingProps,null))?s.memoizedState=a:$t||(a=s.type,e=s.pendingProps,l=Cc(Wt.current).createElement(a),l[Be]=s,l[Me]=e,Ze(l,a,e),ue(l),s.stateNode=l):s.memoizedState=p0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ke(s),e===null&&$t&&(l=s.stateNode=f0(s.type,s.pendingProps,Wt.current),pn=s,Ti=!0,Xe=ri(l.firstChild)),l=s.pendingProps.children,e!==null||$t?$e(e,s,l,a):s.child=Lr(s,null,l,a),rl(e,s),s.child;case 5:return e===null&&$t&&((f=l=Xe)&&(l=y1(l,s.type,s.pendingProps,Ti),l!==null?(s.stateNode=l,pn=s,Xe=ri(l.firstChild),Ti=!1,f=!0):f=!1),f||Pr(s)),Ke(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,Nd(f,m)?l=null:T!==null&&Nd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Af(e,s,Nw,null,null,a),Sl._currentValue=f),rl(e,s),$e(e,s,l,a),s.child;case 6:return e===null&&$t&&((e=a=Xe)&&(a=v1(a,s.pendingProps,Ti),a!==null?(s.stateNode=a,pn=s,Xe=null,e=!0):e=!1),e||Pr(s)),null;case 13:return uv(e,s,a);case 4:return le(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Lr(s,null,l,a):$e(e,s,l,a),s.child;case 11:return ev(e,s,s.type,s.pendingProps,a);case 7:return $e(e,s,s.pendingProps,a),s.child;case 8:return $e(e,s,s.pendingProps.children,a),s.child;case 12:return $e(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ps(s,s.type,l.value),$e(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=rn(f),l=l(f),s.flags|=1,$e(e,s,l,a),s.child;case 14:return nv(e,s,s.type,s.pendingProps,a);case 15:return iv(e,s,s.type,s.pendingProps,a);case 19:return hv(e,s,a);case 22:return sv(e,s,a);case 24:return qr(s),l=rn(Ne),e===null?(f=Tf(),f===null&&(f=se,m=vf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},Wf(s),Ps(s,Ne,f)):((e.lanes&a)!==0&&(Jf(e,s),ul(s,null,null,a),ll()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ps(s,Ne,l)):(l=m.cache,Ps(s,Ne,l),l!==f.cache&&Zf(s,[Ne],a,!0))),$e(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Xf=ft(null),Fr=null,Zi=null;function Ps(e,s,a){At(Xf,s._currentValue),s._currentValue=a}function Wi(e){e._currentValue=Xf.current,Rt(Xf)}function $f(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Zf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var b=m;m=f;for(var M=0;M<s.length;M++)if(b.context===s[M]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),$f(m.return,a,e),l||(T=null);break t}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),$f(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function al(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=f.type;Cn(f.pendingProps.value,T.value)||(e!==null?e.push(b):e=[b])}}else if(f===Nt.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}f=f.return}e!==null&&Zf(s,e,a,l),s.flags|=262144}function hc(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Fr=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return dv(Fr,e)}function fc(e,s){return Fr===null&&qr(e),dv(e,s)}function dv(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zi===null){if(e===null)throw Error(r(308));Zi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Zi=Zi.next=s;return a}var Ls=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Ku(e),Yg(e,null,a),s}return Gu(e,l,s,a),Ku(e)}function ol(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Ts(e,a)}}function td(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var ed=!1;function ll(){if(ed){var e=La;if(e!==null)throw e}}function ul(e,s,a,l){ed=!1;var f=e.updateQueue;Ls=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,L=M.next;M.next=null,T===null?m=L:T.next=L,T=M;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==T&&(b===null?Y.firstBaseUpdate=L:b.next=L,Y.lastBaseUpdate=M))}if(m!==null){var et=f.baseState;T=0,Y=L=M=null,b=m;do{var H=b.lane&-536870913,K=H!==b.lane;if(K?(Gt&H)===H:(l&H)===H){H!==0&&H===Pa&&(ed=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var vt=e,Mt=b;H=s;var ve=a;switch(Mt.tag){case 1:if(vt=Mt.payload,typeof vt=="function"){et=vt.call(ve,et,H);break t}et=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Mt.payload,H=typeof vt=="function"?vt.call(ve,et,H):vt,H==null)break t;et=x({},et,H);break t;case 2:Ls=!0}}H=b.callback,H!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(L=Y=K,M=et):Y=Y.next=K,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(M=et),f.baseState=M,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),qs|=T,e.lanes=T,e.memoizedState=et}}function mv(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function pv(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mv(a[e],s)}function cl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){ie(s,s.return,b)}}function Bs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=s;var M=a;try{b()}catch(L){ie(f,M,L)}}}l=l.next}while(l!==m)}}catch(L){ie(s,s.return,L)}}function gv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{pv(s,a)}catch(l){ie(e,e.return,l)}}}function yv(e,s,a){a.props=jr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,s,l)}}function Hr(e,s){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(m){ie(e,s,m)}}function Dn(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(e,s,f)}else a.current=null}function vv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(e,e.return,f)}}function _v(e,s,a){try{var l=e.stateNode;f1(l,e.type,a,s),l[Me]=s}catch(f){ie(e,e.return,f)}}function Tv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function nd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function id(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Rc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(id(e,s,a),e=e.sibling;e!==null;)id(e,s,a),e=e.sibling}function dc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(dc(e,s,a),e=e.sibling;e!==null;)dc(e,s,a),e=e.sibling}var Ji=!1,ge=!1,sd=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,qe=null,Av=!1;function Fw(e,s){if(e=e.containerInfo,Id=Oc,e=Bg(e),af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,b=-1,M=-1,L=0,Y=0,et=e,H=null;e:for(;;){for(var K;et!==a||f!==0&&et.nodeType!==3||(b=T+f),et!==m||l!==0&&et.nodeType!==3||(M=T+l),et.nodeType===3&&(T+=et.nodeValue.length),(K=et.firstChild)!==null;)H=et,et=K;for(;;){if(et===e)break e;if(H===a&&++L===f&&(b=T),H===m&&++Y===l&&(M=T),(K=et.nextSibling)!==null)break;et=H,H=et.parentNode}et=K}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:e,selectionRange:a},Oc=!1,qe=s;qe!==null;)if(s=qe,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,qe=e;else for(;qe!==null;){switch(s=qe,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var vt=jr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){ie(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,qe=e;break}qe=s.return}return vt=Av,Av=!1,vt}function bv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(e,a),l&4&&cl(5,a);break;case 1:if(es(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(b){ie(a,a.return,b)}else{var f=jr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ie(a,a.return,b)}}l&64&&gv(a),l&512&&Hr(a,a.return);break;case 3:if(es(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{pv(l,e)}catch(b){ie(a,a.return,b)}}break;case 26:es(e,a),l&512&&Hr(a,a.return);break;case 27:case 5:es(e,a),s===null&&l&4&&vv(a),l&512&&Hr(a,a.return);break;case 12:es(e,a);break;case 13:es(e,a),l&4&&Rv(e,a);break;case 22:if(f=a.memoizedState!==null||Ji,!f){s=s!==null&&s.memoizedState!==null||ge;var m=Ji,T=ge;Ji=f,(ge=s)&&!T?zs(e,a,(a.subtreeFlags&8772)!==0):es(e,a),Ji=m,ge=T}l&512&&(a.memoizedProps.mode==="manual"?Hr(a,a.return):Dn(a,a.return));break;default:es(e,a)}}function Sv(e){var s=e.alternate;s!==null&&(e.alternate=null,Sv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Tr(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,Vn=!1;function ts(e,s,a){for(a=a.child;a!==null;)wv(e,s,a),a=a.sibling}function wv(e,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:ge||Dn(a,s),ts(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||Dn(a,s);var l=De,f=Vn;for(De=a.stateNode,ts(e,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Tr(a),De=l,Vn=f;break;case 5:ge||Dn(a,s);case 6:f=De;var m=Vn;if(De=null,ts(e,s,a),De=f,Vn=m,De!==null)if(Vn)try{e=De,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(T){ie(a,s,T)}else try{De.removeChild(a.stateNode)}catch(T){ie(a,s,T)}break;case 18:De!==null&&(Vn?(s=De,a=a.stateNode,s.nodeType===8?Ld(s.parentNode,a):s.nodeType===1&&Ld(s,a),Dl(s)):Ld(De,a.stateNode));break;case 4:l=De,f=Vn,De=a.stateNode.containerInfo,Vn=!0,ts(e,s,a),De=l,Vn=f;break;case 0:case 11:case 14:case 15:ge||Bs(2,a,s),ge||Bs(4,a,s),ts(e,s,a);break;case 1:ge||(Dn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yv(a,s,l)),ts(e,s,a);break;case 21:ts(e,s,a);break;case 22:ge||Dn(a,s),ge=(l=ge)||a.memoizedState!==null,ts(e,s,a),ge=l;break;default:ts(e,s,a)}}function Rv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){ie(s,s.return,a)}}function qw(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Ev),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Ev),s;default:throw Error(r(435,e.tag))}}function rd(e,s){var a=qw(e);s.forEach(function(l){var f=n1.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Kn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,b=T;t:for(;b!==null;){switch(b.tag){case 27:case 5:De=b.stateNode,Vn=!1;break t;case 3:De=b.stateNode.containerInfo,Vn=!0;break t;case 4:De=b.stateNode.containerInfo,Vn=!0;break t}b=b.return}if(De===null)throw Error(r(160));wv(m,T,f),De=null,Vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Cv(s,e),s=s.sibling}var si=null;function Cv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(s,e),Qn(e),l&4&&(Bs(3,e,e.return),cl(3,e),Bs(5,e,e.return));break;case 1:Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),l&64&&Ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[As]||m[Be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ze(m,l,a),m[Be]=e,ue(m),l=m;break t;case"link":var T=v0("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;case"meta":if(T=v0("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Be]=e,ue(m),l=m}e.stateNode=l}else _0(f,e.type,e.stateNode);else e.stateNode=y0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?_0(f,e.type,e.stateNode):y0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_v(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){f=e.stateNode,m=e.memoizedProps;try{for(var M=f.firstChild;M;){var L=M.nextSibling,Y=M.nodeName;M[As]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=L}for(var et=e.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ze(f,et,m),f[Be]=e,f[Me]=m}catch(vt){ie(e,e.return,vt)}}case 5:if(Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),e.flags&32){f=e.stateNode;try{Un(f,"")}catch(vt){ie(e,e.return,vt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,_v(e,f,a!==null?a.memoizedProps:f)),l&1024&&(sd=!0);break;case 6:if(Kn(s,e),Qn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(vt){ie(e,e.return,vt)}}break;case 3:if(Mc=null,f=si,si=Dc(s.containerInfo),Kn(s,e),si=f,Qn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(s.containerInfo)}catch(vt){ie(e,e.return,vt)}sd&&(sd=!1,Dv(e));break;case 4:l=si,si=Dc(e.stateNode.containerInfo),Kn(s,e),Qn(e),si=l;break;case 12:Kn(s,e),Qn(e);break;case 13:Kn(s,e),Qn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rd(e,l)));break;case 22:if(l&512&&(ge||a===null||Dn(a,a.return)),M=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Ji,et=ge,Ji=Y||M,ge=et||L,Kn(s,e),ge=et,Ji=Y,Qn(e),s=e.stateNode,s._current=e,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,l&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=Ji||ge,a===null||L||s||za(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,s=e;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){L=a=s;try{if(f=L.stateNode,M)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=L.stateNode,b=L.memoizedProps.style;var K=b!=null&&b.hasOwnProperty("display")?b.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(vt){ie(L,L.return,vt)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=M?"":L.memoizedProps}catch(vt){ie(L,L.return,vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rd(e,a))));break;case 19:Kn(s,e),Qn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rd(e,l)));break;case 21:break;default:Kn(s,e),Qn(e)}}function Qn(e){var s=e.flags;if(s&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Tv(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var f=l.stateNode,m=nd(e);dc(e,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(Un(T,""),l.flags&=-33);var b=nd(e);dc(e,b,T);break;case 3:case 4:var M=l.stateNode.containerInfo,L=nd(e);id(e,L,M);break;default:throw Error(r(161))}}}catch(Y){ie(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Dv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Dv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function es(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)bv(e,s.alternate,s),s=s.sibling}function za(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Bs(4,s,s.return),za(s);break;case 1:Dn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&yv(s,s.return,a),za(s);break;case 26:case 27:case 5:Dn(s,s.return),za(s);break;case 22:Dn(s,s.return),s.memoizedState===null&&za(s);break;default:za(s)}e=e.sibling}}function zs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:zs(f,m,a),cl(4,m);break;case 1:if(zs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){ie(l,l.return,L)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)mv(M[f],b)}catch(L){ie(l,l.return,L)}}a&&T&64&&gv(m),Hr(m,m.return);break;case 26:case 27:case 5:zs(f,m,a),a&&l===null&&T&4&&vv(m),Hr(m,m.return);break;case 12:zs(f,m,a);break;case 13:zs(f,m,a),a&&T&4&&Rv(f,m);break;case 22:m.memoizedState===null&&zs(f,m,a),Hr(m,m.return);break;default:zs(f,m,a)}s=s.sibling}}function ad(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function od(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&tl(e))}function js(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vv(e,s,a,l),s=s.sibling}function Vv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:js(e,s,a,l),f&2048&&cl(9,s);break;case 3:js(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&tl(e)));break;case 12:if(f&2048){js(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){ie(s,s.return,M)}}else js(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?js(e,s,a,l):hl(e,s):m._visibility&4?js(e,s,a,l):(m._visibility|=4,ja(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&ad(s.alternate,s);break;case 24:js(e,s,a,l),f&2048&&od(s.alternate,s);break;default:js(e,s,a,l)}}function ja(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,b=a,M=l,L=T.flags;switch(T.tag){case 0:case 11:case 15:ja(m,T,b,M,f),cl(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&4?ja(m,T,b,M,f):hl(m,T):(Y._visibility|=4,ja(m,T,b,M,f)),f&&L&2048&&ad(T.alternate,T);break;case 24:ja(m,T,b,M,f),f&&L&2048&&od(T.alternate,T);break;default:ja(m,T,b,M,f)}s=s.sibling}}function hl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:hl(a,l),f&2048&&ad(l.alternate,l);break;case 24:hl(a,l),f&2048&&od(l.alternate,l);break;default:hl(a,l)}s=s.sibling}}var fl=8192;function Fa(e){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Mv(e),e=e.sibling}function Mv(e){switch(e.tag){case 26:Fa(e),e.flags&fl&&e.memoizedState!==null&&x1(si,e.memoizedState,e.memoizedProps);break;case 5:Fa(e);break;case 3:case 4:var s=si;si=Dc(e.stateNode.containerInfo),Fa(e),si=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=fl,fl=16777216,Fa(e),fl=s):Fa(e));break;default:Fa(e)}}function xv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function dl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,Ov(l,e)}xv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iv(e),e=e.sibling}function Iv(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&4&&(e.return===null||e.return.tag!==13)?(s._visibility&=-5,mc(e)):dl(e);break;default:dl(e)}}function mc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];qe=l,Ov(l,e)}xv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Bs(8,s,s.return),mc(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,mc(s));break;default:mc(s)}e=e.sibling}}function Ov(e,s){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Bs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=e;qe!==null;){l=qe;var f=l.sibling,m=l.return;if(Sv(l),l===a){qe=null;break t}if(f!==null){f.return=m,qe=f;break t}qe=m}}}function Hw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,s,a,l){return new Hw(e,s,a,l)}function ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fs(e,s){var a=e.alternate;return a===null?(a=Yn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nv(e,s){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function pc(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")ld(e)&&(T=1);else if(typeof e=="string")T=V1(e,a,Pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Gr(a.children,f,m,s);case g:T=8,f|=24;break;case v:return e=Yn(12,a,s,f|2),e.elementType=v,e.lanes=m,e;case j:return e=Yn(13,a,s,f),e.elementType=j,e.lanes=m,e;case k:return e=Yn(19,a,s,f),e.elementType=k,e.lanes=m,e;case nt:return Pv(a,f,m,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case V:T=10;break t;case S:T=9;break t;case U:T=11;break t;case Q:T=14;break t;case tt:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Yn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function Gr(e,s,a,l){return e=Yn(7,e,l,s),e.lanes=a,e}function Pv(e,s,a,l){e=Yn(22,e,l,s),e.elementType=nt,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var T=Ms(m,2);T!==null&&(f._pendingVisibility|=2,gn(T,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var T=Ms(m,2);T!==null&&(f._pendingVisibility&=-3,gn(T,m,2))}}};return e.stateNode=f,e}function ud(e,s,a){return e=Yn(6,e,null,s),e.lanes=a,e}function cd(e,s,a){return s=Yn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function ns(e){e.flags|=4}function Lv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T0(s)){if(s=Gn.current,s!==null&&((Gt&4194176)===Gt?Ei!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||s!==Ei))throw Zo=pf,Jg;e.flags|=8192}}function gc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?vs():536870912,e.lanes|=s,Ha|=s)}function ml(e,s){if(!$t)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Gw(e,s,a){var l=s.pendingProps;switch(df(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Wi(Ne),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qo(s)?ns(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ii!==null&&(vd(ii),ii=null))),ce(s),null;case 26:return a=s.memoizedState,e===null?(ns(s),a!==null?(ce(s),Lv(s,a)):(ce(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ns(s),ce(s),Lv(s,a)):(ce(s),s.flags&=-16777217):(e.memoizedProps!==l&&ns(s),ce(s),s.flags&=-16777217),null;case 27:nn(s),a=Wt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ce(s),null}e=Pt.current,Qo(s)?Zg(s):(e=f0(f,l,a),s.stateNode=e,ns(s))}return ce(s),null;case 5:if(nn(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ce(s),null}if(e=Pt.current,Qo(s))Zg(s);else{switch(f=Cc(Wt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[Be]=s,e[Me]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(Ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ns(s)}}return ce(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ns(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Wt.current,Qo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Be]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a0(e.nodeValue,a)),e||Pr(s)}else e=Cc(e).createTextNode(l),e[Be]=s,s.stateNode=e}return ce(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Qo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Be]=s}else Yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),f=!1}else ii!==null&&(vd(ii),ii=null),f=!0;if(!f)return s.flags&256?(Yi(s),s):(Yi(s),null)}if(Yi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),gc(s,s.updateQueue),ce(s),null;case 4:return Te(),e===null&&Vd(s.stateNode.containerInfo),ce(s),null;case 10:return Wi(s.type),ce(s),null;case 19:if(Rt(Oe),f=s.memoizedState,f===null)return ce(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)ml(f,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Ju(e),m!==null){for(s.flags|=128,ml(f,!1),e=m.updateQueue,s.updateQueue=e,gc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Nv(a,e),a=a.sibling;return At(Oe,Oe.current&1|2),s.child}e=e.sibling}f.tail!==null&&Qe()>yc&&(s.flags|=128,l=!0,ml(f,!1),s.lanes=4194304)}else{if(!l)if(e=Ju(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,gc(s,e),ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$t)return ce(s),null}else 2*Qe()-f.renderingStartTime>yc&&a!==536870912&&(s.flags|=128,l=!0,ml(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Qe(),s.sibling=null,e=Oe.current,At(Oe,l?e&1|2:e&1),s):(ce(s),null);case 22:case 23:return Yi(s),yf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),a=s.updateQueue,a!==null&&gc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&Rt(Ur),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wi(Ne),ce(s),null;case 25:return null}throw Error(r(156,s.tag))}function Kw(e,s){switch(df(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Wi(Ne),Te(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return nn(s),null;case 13:if(Yi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Rt(Oe),null;case 4:return Te(),null;case 10:return Wi(s.type),null;case 22:case 23:return Yi(s),yf(),e!==null&&Rt(Ur),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Wi(Ne),null;case 25:return null;default:return null}}function Uv(e,s){switch(df(s),s.tag){case 3:Wi(Ne),Te();break;case 26:case 27:case 5:nn(s);break;case 4:Te();break;case 13:Yi(s);break;case 19:Rt(Oe);break;case 10:Wi(s.type);break;case 22:case 23:Yi(s),yf(),e!==null&&Rt(Ur);break;case 24:Wi(Ne)}}var Qw={getCacheForType:function(e){var s=rn(Ne),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},Yw=typeof WeakMap=="function"?WeakMap:Map,he=0,se=null,zt=null,Gt=0,re=0,Mn=null,is=!1,qa=!1,hd=!1,ss=0,ye=0,qs=0,Kr=0,fd=0,Xn=0,Ha=0,pl=null,bi=null,dd=!1,md=0,yc=1/0,vc=null,Hs=null,_c=!1,Qr=null,gl=0,pd=0,gd=null,yl=0,yd=null;function xn(){if((he&2)!==0&&Gt!==0)return Gt&-Gt;if(C.T!==null){var e=Pa;return e!==0?e:wd()}return wu()}function kv(){Xn===0&&(Xn=(Gt&536870912)===0||$t?Vo():536870912);var e=Gn.current;return e!==null&&(e.flags|=32),Xn}function gn(e,s,a){(e===se&&re===2||e.cancelPendingCommit!==null)&&(Ga(e,0),rs(e,Gt,Xn,!1)),Ee(e,a),((he&2)===0||e!==se)&&(e===se&&((he&2)===0&&(Kr|=a),ye===4&&rs(e,Gt,Xn,!1)),Si(e))}function Bv(e,s,a){if((he&6)!==0)throw Error(r(327));var l=!a&&(s&60)===0&&(s&e.expiredLanes)===0||ys(e,s),f=l?Zw(e,s):Ed(e,s,!0),m=l;do{if(f===0){qa&&!l&&rs(e,s,0,!1);break}else if(f===6)rs(e,s,0,!is);else{if(a=e.current.alternate,m&&!Xw(a)){f=Ed(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var b=e;f=pl;var M=b.current.memoizedState.isDehydrated;if(M&&(Ga(b,T).flags|=256),T=Ed(b,T,!1),T!==2){if(hd&&!M){b.errorRecoveryDisabledLanes|=m,Kr|=m,f=4;break t}m=bi,bi=f,m!==null&&vd(m)}f=T}if(m=!1,f!==2)continue}}if(f===1){Ga(e,0),rs(e,s,0,!0);break}t:{switch(l=e,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){rs(l,s,Xn,!is);break t}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=s,(s&62914560)===s&&(m=md+300-Qe(),10<m)){if(rs(l,s,Xn,!is),Pn(l,0)!==0)break t;l.timeoutHandle=u0(zv.bind(null,l,a,bi,vc,dd,s,Xn,Kr,Ha,is,2,-0,0),m);break t}zv(l,a,bi,vc,dd,s,Xn,Kr,Ha,is,0,-0,0)}}break}while(!0);Si(e)}function vd(e){bi===null?bi=e:bi.push.apply(bi,e)}function zv(e,s,a,l,f,m,T,b,M,L,Y,et,H){var K=s.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:M1},Mv(s),s=I1(),s!==null)){e.cancelPendingCommit=s(Qv.bind(null,e,a,l,f,T,b,M,1,et,H)),rs(e,m,T,!L);return}Qv(e,a,l,f,T,b,M,Y,et,H)}function Xw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Cn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rs(e,s,a,l){s&=~fd,s&=~Kr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-fn(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&_s(e,a,s)}function Tc(){return(he&6)===0?(vl(0),!1):!0}function _d(){if(zt!==null){if(re===0)var e=zt.return;else e=zt,Zi=Fr=null,wf(e),Oa=null,Wo=0,e=zt;for(;e!==null;)Uv(e.alternate,e),e=e.return;zt=null}}function Ga(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,m1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_d(),se=e,zt=a=Fs(e.current,null),Gt=s,re=0,Mn=null,is=!1,qa=ys(e,s),hd=!1,Ha=Xn=fd=Kr=qs=ye=0,bi=pl=null,dd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-fn(l),m=1<<f;s|=e[f],l&=~m}return ss=s,Hu(),a}function jv(e,s){Ut=null,C.H=Ai,s===$o?(s=ny(),re=3):s===Jg?(s=ny(),re=4):re=s===tv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,zt===null&&(ye=1,cc(e,Fn(s,e.current)))}function Fv(){var e=C.H;return C.H=Ai,e===null?Ai:e}function qv(){var e=C.A;return C.A=Qw,e}function Td(){ye=4,is||(Gt&4194176)!==Gt&&Gn.current!==null||(qa=!0),(qs&134217727)===0&&(Kr&134217727)===0||se===null||rs(se,Gt,Xn,!1)}function Ed(e,s,a){var l=he;he|=2;var f=Fv(),m=qv();(se!==e||Gt!==s)&&(vc=null,Ga(e,s)),s=!1;var T=ye;t:do try{if(re!==0&&zt!==null){var b=zt,M=Mn;switch(re){case 8:_d(),T=6;break t;case 3:case 2:case 6:Gn.current===null&&(s=!0);var L=re;if(re=0,Mn=null,Ka(e,b,M,L),a&&qa){T=0;break t}break;default:L=re,re=0,Mn=null,Ka(e,b,M,L)}}$w(),T=ye;break}catch(Y){jv(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Zi=Fr=null,he=l,C.H=f,C.A=m,zt===null&&(se=null,Gt=0,Hu()),T}function $w(){for(;zt!==null;)Hv(zt)}function Zw(e,s){var a=he;he|=2;var l=Fv(),f=qv();se!==e||Gt!==s?(vc=null,yc=Qe()+500,Ga(e,s)):qa=ys(e,s);t:do try{if(re!==0&&zt!==null){s=zt;var m=Mn;e:switch(re){case 1:re=0,Mn=null,Ka(e,s,m,1);break;case 2:if(ty(m)){re=0,Mn=null,Gv(s);break}s=function(){re===2&&se===e&&(re=7),Si(e)},m.then(s,s);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:ty(m)?(re=0,Mn=null,Gv(s)):(re=0,Mn=null,Ka(e,s,m,7));break;case 5:var T=null;switch(zt.tag){case 26:T=zt.memoizedState;case 5:case 27:var b=zt;if(!T||T0(T)){re=0,Mn=null;var M=b.sibling;if(M!==null)zt=M;else{var L=b.return;L!==null?(zt=L,Ec(L)):zt=null}break e}}re=0,Mn=null,Ka(e,s,m,5);break;case 6:re=0,Mn=null,Ka(e,s,m,6);break;case 8:_d(),ye=6;break t;default:throw Error(r(462))}}Ww();break}catch(Y){jv(e,Y)}while(!0);return Zi=Fr=null,C.H=l,C.A=f,he=a,zt!==null?0:(se=null,Gt=0,Hu(),ye)}function Ww(){for(;zt!==null&&!Ro();)Hv(zt)}function Hv(e){var s=fv(e.alternate,e,ss);e.memoizedProps=e.pendingProps,s===null?Ec(e):zt=s}function Gv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=av(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=av(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:wf(s);default:Uv(a,s),s=zt=Nv(s,ss),s=fv(a,s,ss)}e.memoizedProps=e.pendingProps,s===null?Ec(e):zt=s}function Ka(e,s,a,l){Zi=Fr=null,wf(s),Oa=null,Wo=0;var f=s.return;try{if(zw(e,f,s,a,Gt)){ye=1,cc(e,Fn(a,e.current)),zt=null;return}}catch(m){if(f!==null)throw zt=f,m;ye=1,cc(e,Fn(a,e.current)),zt=null;return}s.flags&32768?($t||l===1?e=!0:qa||(Gt&536870912)!==0?e=!1:(is=e=!0,(l===2||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kv(s,e)):Ec(s)}function Ec(e){var s=e;do{if((s.flags&32768)!==0){Kv(s,is);return}e=s.return;var a=Gw(s.alternate,s,ss);if(a!==null){zt=a;return}if(s=s.sibling,s!==null){zt=s;return}zt=s=e}while(s!==null);ye===0&&(ye=5)}function Kv(e,s){do{var a=Kw(e.alternate,e);if(a!==null){a.flags&=32767,zt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){zt=e;return}zt=e=a}while(e!==null);ye=6,zt=null}function Qv(e,s,a,l,f,m,T,b,M,L){var Y=C.T,et=J.p;try{J.p=2,C.T=null,Jw(e,s,a,l,et,f,m,T,b,M,L)}finally{C.T=Y,J.p=et}}function Jw(e,s,a,l,f,m,T,b){do Qa();while(Qr!==null);if((he&6)!==0)throw Error(r(327));var M=e.finishedWork;if(l=e.finishedLanes,M===null)return null;if(e.finishedWork=null,e.finishedLanes=0,M===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=M.lanes|M.childLanes;if(L|=cf,bu(e,l,L,m,T,b),e===se&&(zt=se=null,Gt=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||_c||(_c=!0,pd=L,gd=a,i1(Jn,function(){return Qa(),null})),a=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||a?(a=C.T,C.T=null,m=J.p,J.p=2,T=he,he|=4,Fw(e,M),Cv(M,e),bw(Od,e.containerInfo),Oc=!!Id,Od=Id=null,e.current=M,bv(e,M.alternate,M),gr(),he=T,J.p=m,C.T=a):e.current=M,_c?(_c=!1,Qr=e,gl=l):Yv(e,L),L=e.pendingLanes,L===0&&(Hs=null),Co(M.stateNode),Si(e),s!==null)for(f=e.onRecoverableError,M=0;M<s.length;M++)L=s[M],f(L.value,{componentStack:L.stack});return(gl&3)!==0&&Qa(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===yd?yl++:(yl=0,yd=e):yl=0,vl(0),null}function Yv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,tl(s)))}function Qa(){if(Qr!==null){var e=Qr,s=pd;pd=0;var a=Su(gl),l=C.T,f=J.p;try{if(J.p=32>a?32:a,C.T=null,Qr===null)var m=!1;else{a=gd,gd=null;var T=Qr,b=gl;if(Qr=null,gl=0,(he&6)!==0)throw Error(r(331));var M=he;if(he|=4,Iv(T.current),Vv(T,T.current,b,a),he=M,vl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(li,T)}catch{}m=!0}return m}finally{J.p=f,C.T=l,Yv(e,s)}}return!1}function Xv(e,s,a){s=Fn(a,s),s=Bf(e.stateNode,s,2),e=ks(e,s,2),e!==null&&(Ee(e,2),Si(e))}function ie(e,s,a){if(e.tag===3)Xv(e,e,a);else for(;s!==null;){if(s.tag===3){Xv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){e=Fn(a,e),a=Wy(2),l=ks(s,a,2),l!==null&&(Jy(a,l,s,e),Ee(l,2),Si(l));break}}s=s.return}}function Ad(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Yw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(hd=!0,f.add(a),e=t1.bind(null,e,s,a),s.then(e,e))}function t1(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Gt&a)===a&&(ye===4||ye===3&&(Gt&62914560)===Gt&&300>Qe()-md?(he&2)===0&&Ga(e,0):fd|=a,Ha===Gt&&(Ha=0)),Si(e)}function $v(e,s){s===0&&(s=vs()),e=Ms(e,s),e!==null&&(Ee(e,s),Si(e))}function e1(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),$v(e,a)}function n1(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),$v(e,a)}function i1(e,s){return ke(e,s)}var Ac=null,Ya=null,bd=!1,bc=!1,Sd=!1,Yr=0;function Si(e){e!==Ya&&e.next===null&&(Ya===null?Ac=Ya=e:Ya=Ya.next=e),bc=!0,bd||(bd=!0,r1(s1))}function vl(e,s){if(!Sd&&bc){Sd=!0;do for(var a=!1,l=Ac;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-fn(42|e)+1)-1,m&=f&~(T&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Jv(l,m))}else m=Gt,m=Pn(l,l===se?m:0),(m&3)===0||ys(l,m)||(a=!0,Jv(l,m));l=l.next}while(a);Sd=!1}}function s1(){bc=bd=!1;var e=0;Yr!==0&&(d1()&&(e=Yr),Yr=0);for(var s=Qe(),a=null,l=Ac;l!==null;){var f=l.next,m=Zv(l,s);m===0?(l.next=null,a===null?Ac=f:a.next=f,f===null&&(Ya=a)):(a=l,(e!==0||(m&3)!==0)&&(bc=!0)),l=f}vl(e)}function Zv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-fn(m),b=1<<T,M=f[T];M===-1?((b&a)===0||(b&l)!==0)&&(f[T]=fa(b,s)):M<=s&&(e.expiredLanes|=b),m&=~b}if(s=se,a=Gt,a=Pn(e,e===s?a:0),l=e.callbackNode,a===0||e===s&&re===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ms(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ys(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&ms(l),Su(a)){case 2:case 8:a=we;break;case 32:a=Jn;break;case 268435456:a=ps;break;default:a=Jn}return l=Wv.bind(null,e),a=ke(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&ms(l),e.callbackPriority=2,e.callbackNode=null,2}function Wv(e,s){var a=e.callbackNode;if(Qa()&&e.callbackNode!==a)return null;var l=Gt;return l=Pn(e,e===se?l:0),l===0?null:(Bv(e,l,s),Zv(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?Wv.bind(null,e):null)}function Jv(e,s){if(Qa())return null;Bv(e,s,!0)}function r1(e){p1(function(){(he&6)!==0?ke(me,e):e()})}function wd(){return Yr===0&&(Yr=Vo()),Yr}function t0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function e0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function a1(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=t0((f[Me]||null).action),T=l.submitter;T&&(s=(s=T[Me]||null)?t0(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var b=new _a("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var M=T?e0(f,T):new FormData(f);Nf(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(b.preventDefault(),M=T?e0(f,T):new FormData(f),Nf(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Rd=0;Rd<Qg.length;Rd++){var Cd=Qg[Rd],o1=Cd.toLowerCase(),l1=Cd[0].toUpperCase()+Cd.slice(1);ni(o1,"on"+l1)}ni(Fg,"onAnimationEnd"),ni(qg,"onAnimationIteration"),ni(Hg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(ww,"onTransitionRun"),ni(Rw,"onTransitionStart"),ni(Cw,"onTransitionCancel"),ni(Gg,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function n0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var b=l[T],M=b.instance,L=b.currentTarget;if(b=b.listener,M!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=L;try{m(f)}catch(Y){uc(Y)}f.currentTarget=null,m=M}else for(T=0;T<l.length;T++){if(b=l[T],M=b.instance,L=b.currentTarget,b=b.listener,M!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=L;try{m(f)}catch(Y){uc(Y)}f.currentTarget=null,m=M}}}}function Ft(e,s){var a=s[_r];a===void 0&&(a=s[_r]=new Set);var l=e+"__bubble";a.has(l)||(i0(s,e,2,!1),a.add(l))}function Dd(e,s,a){var l=0;s&&(l|=4),i0(a,e,l,s)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Sc]){e[Sc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(u1.has(a)||Dd(a,!1,e),Dd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Sc]||(s[Sc]=!0,Dd("selectionchange",!1,s))}}function i0(e,s,a,l){switch(R0(s)){case 2:var f=P1;break;case 8:f=L1;break;default:f=Fd}a=f.bind(null,s,a,e),f=void 0,!Bn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Md(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;T=T.return}for(;b!==null;){if(T=ei(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){l=m=T;continue t}b=b.parentNode}}l=l.return}Vu(function(){var L=m,Y=va(a),et=[];t:{var H=Kg.get(e);if(H!==void 0){var K=_a,vt=e;switch(e){case"keypress":if(pi(a)===0)break t;case"keydown":case"keyup":K=wa;break;case"focusin":vt="focus",K=Aa;break;case"focusout":vt="blur",K=Aa;break;case"beforeblur":case"afterblur":K=Aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Uu;break;case Fg:case qg:case Hg:K=ba;break;case Gg:K=Bu;break;case"scroll":case"scrollend":K=Mu;break;case"wheel":K=Ra;break;case"copy":case"cut":case"paste":K=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qo;break;case"toggle":case"beforetoggle":K=ju}var Mt=(s&4)!==0,ve=!Mt&&(e==="scroll"||e==="scrollend"),z=Mt?H!==null?H+"Capture":null:H;Mt=[];for(var P=L,q;P!==null;){var $=P;if(q=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||q===null||z===null||($=Sr(P,z),$!=null&&Mt.push(Tl(P,$,q))),ve)break;P=P.return}0<Mt.length&&(H=new K(H,vt,null,a,Y),et.push({event:H,listeners:Mt}))}}if((s&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",H&&a!==kn&&(vt=a.relatedTarget||a.fromElement)&&(ei(vt)||vt[Ui]))break t;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(vt=a.relatedTarget||a.toElement,K=L,vt=vt?ei(vt):null,vt!==null&&(ve=ht(vt),Mt=vt.tag,vt!==ve||Mt!==5&&Mt!==27&&Mt!==6)&&(vt=null)):(K=null,vt=L),K!==vt)){if(Mt=zn,$="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=qo,$="onPointerLeave",z="onPointerEnter",P="pointer"),ve=K==null?H:bs(K),q=vt==null?H:bs(vt),H=new Mt($,P+"leave",K,a,Y),H.target=ve,H.relatedTarget=q,$=null,ei(Y)===L&&(Mt=new Mt(z,P+"enter",vt,a,Y),Mt.target=q,Mt.relatedTarget=ve,$=Mt),ve=$,K&&vt)e:{for(Mt=K,z=vt,P=0,q=Mt;q;q=Xa(q))P++;for(q=0,$=z;$;$=Xa($))q++;for(;0<P-q;)Mt=Xa(Mt),P--;for(;0<q-P;)z=Xa(z),q--;for(;P--;){if(Mt===z||z!==null&&Mt===z.alternate)break e;Mt=Xa(Mt),z=Xa(z)}Mt=null}else Mt=null;K!==null&&s0(et,H,K,Mt,!1),vt!==null&&ve!==null&&s0(et,ve,vt,Mt,!0)}}t:{if(H=L?bs(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var pt=xg;else if(Ie(H))if(Ig)pt=Ew;else{pt=_w;var Bt=vw}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Lo(L.elementType)&&(pt=xg):pt=Tw;if(pt&&(pt=pt(e,L))){Gi(et,pt,a,Y);break t}Bt&&Bt(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&ya(H,"number",H.value)}switch(Bt=L?bs(L):window,e){case"focusin":(Ie(Bt)||Bt.contentEditable==="true")&&(Ca=Bt,of=L,Ko=null);break;case"focusout":Ko=of=Ca=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,zg(et,a,Y);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":zg(et,a,Y)}var Tt;if(vi)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else qt?G(e,a)&&(St="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(St="onCompositionStart");St&&(_&&a.locale!=="ko"&&(qt||St!=="onCompositionStart"?St==="onCompositionEnd"&&qt&&(Tt=ko()):(mi=Y,Vs="value"in mi?mi.value:mi.textContent,qt=!0)),Bt=wc(L,St),0<Bt.length&&(St=new jo(St,e,null,a,Y),et.push({event:St,listeners:Bt}),Tt?St.data=Tt:(Tt=ot(a),Tt!==null&&(St.data=Tt)))),(Tt=y?xe(e,a):Ht(e,a))&&(St=wc(L,"onBeforeInput"),0<St.length&&(Bt=new jo("onBeforeInput","beforeinput",null,a,Y),et.push({event:Bt,listeners:St}),Bt.data=Tt)),a1(et,e,L,a,Y)}n0(et,s)})}function Tl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function wc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Sr(e,a),f!=null&&l.unshift(Tl(e,f,m)),f=Sr(e,s),f!=null&&l.push(Tl(e,f,m))),e=e.return}return l}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var b=a,M=b.alternate,L=b.stateNode;if(b=b.tag,M!==null&&M===l)break;b!==5&&b!==26&&b!==27||L===null||(M=L,f?(L=Sr(a,m),L!=null&&T.unshift(Tl(a,L,M))):f||(L=Sr(a,m),L!=null&&T.push(Tl(a,L,M)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function r0(e){return(typeof e=="string"?e:""+e).replace(c1,`
`).replace(h1,"")}function a0(e,s){return s=r0(s),r0(e)===s}function Rc(){}function ne(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Un(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Un(e,""+l);break;case"className":Rs(e,"class",l);break;case"tabIndex":Rs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rs(e,a,l);break;case"style":Du(e,l,m);break;case"data":if(s!=="object"){Rs(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ne(e,s,"name",f.name,f,null),ne(e,s,"formEncType",f.formEncType,f,null),ne(e,s,"formMethod",f.formMethod,f,null),ne(e,s,"formTarget",f.formTarget,f,null)):(ne(e,s,"encType",f.encType,f,null),ne(e,s,"method",f.method,f,null),ne(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Rc);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=di(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ft("beforetoggle",e),Ft("toggle",e),ws(e,"popover",l);break;case"xlinkActuate":Ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,ws(e,a,l))}}function xd(e,s,a,l,f,m){switch(a){case"style":Du(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Un(e,l):(typeof l=="number"||typeof l=="bigint")&&Un(e,""+l);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[Me]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ws(e,a,l)}}}function Ze(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",e),Ft("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(e,s,m,T,a,null)}}f&&ne(e,s,"srcSet",a.srcSet,a,null),l&&ne(e,s,"src",a.src,a,null);return;case"input":Ft("invalid",e);var b=m=T=f=null,M=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":M=Y;break;case"defaultChecked":L=Y;break;case"value":m=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ne(e,s,l,Y,a,null)}}Ar(e,m,b,M,L,T,f,!1),Er(e);return;case"select":Ft("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:ne(e,s,f,b,a,null)}s=m,a=T,e.multiple=!!l,s!=null?Xt(e,!!l,s,!1):a!=null&&Xt(e,!!l,a,!0);return;case"textarea":Ft("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ne(e,s,T,b,a,null)}Ds(e,l,f,m),Er(e);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,s,M,l,a,null)}return;case"dialog":Ft("cancel",e),Ft("close",e);break;case"iframe":case"object":Ft("load",e);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ft(_l[l],e);break;case"image":Ft("error",e),Ft("load",e);break;case"details":Ft("toggle",e);break;case"embed":case"source":case"link":Ft("error",e),Ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(e,s,L,l,a,null)}return;default:if(Lo(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&xd(e,s,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ne(e,s,b,l,a,null))}function f1(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,M=null,L=null,Y=null;for(K in a){var et=a[K];if(a.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=et;default:l.hasOwnProperty(K)||ne(e,s,K,null,l,et)}}for(var H in l){var K=l[H];if(et=a[H],l.hasOwnProperty(H)&&(K!=null||et!=null))switch(H){case"type":m=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":Y=K;break;case"value":T=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==et&&ne(e,s,H,K,l,et)}}Cs(e,T,b,M,L,Y,m,f);return;case"select":K=T=b=H=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(m)||ne(e,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":H=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==M&&ne(e,s,f,m,l,M)}s=b,a=T,l=K,H!=null?Xt(e,!!a,H,!1):!!l!=!!a&&(s!=null?Xt(e,!!a,s,!0):Xt(e,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ne(e,s,b,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ne(e,s,T,f,l,m)}br(e,H,K);return;case"option":for(var vt in a)if(H=a[vt],a.hasOwnProperty(vt)&&H!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:ne(e,s,vt,null,l,H)}for(M in l)if(H=l[M],K=a[M],l.hasOwnProperty(M)&&H!==K&&(H!=null||K!=null))switch(M){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ne(e,s,M,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)H=a[Mt],a.hasOwnProperty(Mt)&&H!=null&&!l.hasOwnProperty(Mt)&&ne(e,s,Mt,null,l,H);for(L in l)if(H=l[L],K=a[L],l.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:ne(e,s,L,H,l,K)}return;default:if(Lo(s)){for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!==void 0&&!l.hasOwnProperty(ve)&&xd(e,s,ve,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||xd(e,s,Y,H,l,K);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&ne(e,s,z,null,l,H);for(et in l)H=l[et],K=a[et],!l.hasOwnProperty(et)||H===K||H==null&&K==null||ne(e,s,et,H,l,K)}var Id=null,Od=null;function Cc(e){return e.nodeType===9?e:e.ownerDocument}function o0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Nd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pd=null;function d1(){var e=window.event;return e&&e.type==="popstate"?e===Pd?!1:(Pd=e,!0):(Pd=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(e){return c0.resolve(null).then(e).catch(g1)}:u0;function g1(e){setTimeout(function(){throw e})}function Ld(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){e.removeChild(f),Dl(s);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Dl(s)}function Ud(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function y1(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[As])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ri(e.nextSibling),e===null)break}return null}function v1(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ri(e.nextSibling),e===null))return null;return e}function ri(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}function h0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function f0(e,s,a){switch(s=Cc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var $n=new Map,d0=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var as=J.d;J.d={f:_1,r:T1,D:E1,C:A1,L:b1,m:S1,X:R1,S:w1,M:C1};function _1(){var e=as.f(),s=Tc();return e||s}function T1(e){var s=ki(e);s!==null&&s.tag===5&&s.type==="form"?zy(s):as.r(e)}var $a=typeof document>"u"?null:document;function m0(e,s,a){var l=$a;if(l&&typeof s=="string"&&s){var f=pe(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d0.has(f)||(d0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ze(s,"link",e),ue(s),l.head.appendChild(s)))}}function E1(e){as.D(e),m0("dns-prefetch",e,null)}function A1(e,s){as.C(e,s),m0("preconnect",e,s)}function b1(e,s,a){as.L(e,s,a);var l=$a;if(l&&e&&s){var f='link[rel="preload"][as="'+pe(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pe(a.imageSizes)+'"]')):f+='[href="'+pe(e)+'"]';var m=f;switch(s){case"style":m=Za(e);break;case"script":m=Wa(e)}$n.has(m)||(e=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),$n.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(El(m))||s==="script"&&l.querySelector(Al(m))||(s=l.createElement("link"),Ze(s,"link",e),ue(s),l.head.appendChild(s)))}}function S1(e,s){as.m(e,s);var a=$a;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wa(e)}if(!$n.has(m)&&(e=x({rel:"modulepreload",href:e},s),$n.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(m)))return}l=a.createElement("link"),Ze(l,"link",e),ue(l),a.head.appendChild(l)}}}function w1(e,s,a){as.S(e,s,a);var l=$a;if(l&&e){var f=Ss(l).hoistableStyles,m=Za(e);s=s||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(El(m)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":s},a),(a=$n.get(m))&&kd(e,a);var M=T=l.createElement("link");ue(M),Ze(M,"link",e),M._p=new Promise(function(L,Y){M.onload=L,M.onerror=Y}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Vc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function R1(e,s){as.X(e,s);var a=$a;if(a&&e){var l=Ss(a).hoistableScripts,f=Wa(e),m=l.get(f);m||(m=a.querySelector(Al(f)),m||(e=x({src:e,async:!0},s),(s=$n.get(f))&&Bd(e,s),m=a.createElement("script"),ue(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function C1(e,s){as.M(e,s);var a=$a;if(a&&e){var l=Ss(a).hoistableScripts,f=Wa(e),m=l.get(f);m||(m=a.querySelector(Al(f)),m||(e=x({src:e,async:!0,type:"module"},s),(s=$n.get(f))&&Bd(e,s),m=a.createElement("script"),ue(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function p0(e,s,a,l){var f=(f=Wt.current)?Dc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Za(a.href),a=Ss(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Za(a.href);var m=Ss(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(El(e)))&&!m._p&&(T.instance=m,T.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),m||D1(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=Ss(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Za(e){return'href="'+pe(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function g0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function D1(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ze(s,"link",a),ue(s),e.head.appendChild(s))}function Wa(e){return'[src="'+pe(e)+'"]'}function Al(e){return"script[async]"+e}function y0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return s.instance=l,ue(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),Ze(l,"style",f),Vc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Za(a.href);var m=e.querySelector(El(f));if(m)return s.state.loading|=4,s.instance=m,ue(m),m;l=g0(a),(f=$n.get(f))&&kd(l,f),m=(e.ownerDocument||e).createElement("link"),ue(m);var T=m;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),Ze(m,"link",l),s.state.loading|=4,Vc(m,a.precedence,e),s.instance=m;case"script":return m=Wa(a.src),(f=e.querySelector(Al(m)))?(s.instance=f,ue(f),f):(l=a,(f=$n.get(m))&&(l=x({},a),Bd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ue(f),Ze(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Vc(l,a.precedence,e));return s.instance}function Vc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function kd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Bd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Mc=null;function v0(e,s,a){if(Mc===null){var l=new Map,f=Mc=new Map;f.set(a,l)}else f=Mc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[As]||m[Be]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function _0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function V1(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bl=null;function M1(){}function x1(e,s,a){if(bl===null)throw Error(r(475));var l=bl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Za(a.href),m=e.querySelector(El(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=xc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,ue(m);return}m=e.ownerDocument||e,a=g0(a),(f=$n.get(f))&&kd(a,f),m=m.createElement("link"),ue(m);var T=m;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),Ze(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=xc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function I1(){if(bl===null)throw Error(r(475));var e=bl;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function zd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,s.forEach(O1,e),Ic=null,xc.call(e))}function O1(e,s){if(!(s.state.loading&4)){var a=Ic.get(e);if(a)var l=a.get(null);else{a=new Map,Ic.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Sl={$$typeof:V,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function N1(e,s,a,l,f,m,T,b){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function E0(e,s,a,l,f,m,T,b,M,L,Y,et){return e=new N1(e,s,a,T,b,M,L,et),s=1,m===!0&&(s|=24),m=Yn(3,null,null,s),e.current=m,m.stateNode=e,s=vf(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Wf(m),e}function A0(e){return e?(e=Ma,e):Ma}function b0(e,s,a,l,f,m){f=A0(f),l.context===null?l.context=f:l.pendingContext=f,l=Us(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ks(e,l,s),a!==null&&(gn(a,e,s),ol(a,e,s))}function S0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function jd(e,s){S0(e,s),(e=e.alternate)&&S0(e,s)}function w0(e){if(e.tag===13){var s=Ms(e,67108864);s!==null&&gn(s,e,67108864),jd(e,67108864)}}var Oc=!0;function P1(e,s,a,l){var f=C.T;C.T=null;var m=J.p;try{J.p=2,Fd(e,s,a,l)}finally{J.p=m,C.T=f}}function L1(e,s,a,l){var f=C.T;C.T=null;var m=J.p;try{J.p=8,Fd(e,s,a,l)}finally{J.p=m,C.T=f}}function Fd(e,s,a,l){if(Oc){var f=qd(l);if(f===null)Md(e,s,l,Nc,a),C0(e,l);else if(k1(f,e,s,a,l))l.stopPropagation();else if(C0(e,l),s&4&&-1<U1.indexOf(e)){for(;f!==null;){var m=ki(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ti(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-fn(T);b.entanglements[1]|=M,T&=~M}Si(m),(he&6)===0&&(yc=Qe()+500,vl(0))}}break;case 13:b=Ms(m,2),b!==null&&gn(b,m,2),Tc(),jd(m,2)}if(m=qd(l),m===null&&Md(e,s,l,Nc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Md(e,s,l,null,a)}}function qd(e){return e=va(e),Hd(e)}var Nc=null;function Hd(e){if(Nc=null,e=ei(e),e!==null){var s=ht(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=Ot(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Nc=e,null}function R0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case me:return 2;case we:return 8;case Jn:case yr:return 32;case ps:return 268435456;default:return 32}default:return 32}}var Gd=!1,Gs=null,Ks=null,Qs=null,wl=new Map,Rl=new Map,Ys=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C0(e,s){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function Cl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ki(s),s!==null&&w0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function k1(e,s,a,l,f){switch(s){case"focusin":return Gs=Cl(Gs,e,s,a,l,f),!0;case"dragenter":return Ks=Cl(Ks,e,s,a,l,f),!0;case"mouseover":return Qs=Cl(Qs,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return wl.set(m,Cl(wl.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Rl.set(m,Cl(Rl.get(m)||null,e,s,a,l,f)),!0}return!1}function D0(e){var s=ei(e.target);if(s!==null){var a=ht(s);if(a!==null){if(s=a.tag,s===13){if(s=Ot(a),s!==null){e.blockedOn=s,Es(e.priority,function(){if(a.tag===13){var l=xn(),f=Ms(a,l);f!==null&&gn(f,a,l),jd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);kn=l,a.target.dispatchEvent(l),kn=null}else return s=ki(a),s!==null&&w0(s),e.blockedOn=a,!1;s.shift()}return!0}function V0(e,s,a){Pc(e)&&a.delete(s)}function B1(){Gd=!1,Gs!==null&&Pc(Gs)&&(Gs=null),Ks!==null&&Pc(Ks)&&(Ks=null),Qs!==null&&Pc(Qs)&&(Qs=null),wl.forEach(V0),Rl.forEach(V0)}function Lc(e,s){e.blockedOn===s&&(e.blockedOn=null,Gd||(Gd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,B1)))}var Uc=null;function M0(e){Uc!==e&&(Uc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var m=ki(a);m!==null&&(e.splice(s,3),s-=3,Nf(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Dl(e){function s(M){return Lc(M,e)}Gs!==null&&Lc(Gs,e),Ks!==null&&Lc(Ks,e),Qs!==null&&Lc(Qs,e),wl.forEach(s),Rl.forEach(s);for(var a=0;a<Ys.length;a++){var l=Ys[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)D0(a),a.blockedOn===null&&Ys.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[Me]||null;if(typeof m=="function")T||M0(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Me]||null)b=T.formAction;else if(Hd(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),M0(a)}}}function Kd(e){this._internalRoot=e}kc.prototype.render=Kd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=xn();b0(a,l,e,s,null,null)},kc.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;e.tag===0&&Qa(),b0(e.current,2,null,e,null,null),Tc(),s[Ui]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var s=wu();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ys.length&&s!==0&&s<Ys[a].priority;a++);Ys.splice(a,0,e),a===0&&D0(e)}};var x0=t.version;if(x0!=="19.0.0")throw Error(r(527,x0,"19.0.0"));J.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=D(s),e=e!==null?Z(e):null,e=e===null?null:e.stateNode,e};var z1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ei,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{li=Bc.inject(z1),sn=Bc}catch{}}return Ml.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=Yy,m=Xy,T=$y,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=E0(e,1,!1,null,null,a,l,f,m,T,b,null),e[Ui]=s.current,Vd(e.nodeType===8?e.parentNode:e),new Kd(s)},Ml.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=Yy,T=Xy,b=$y,M=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),s=E0(e,1,!0,s,a??null,l,f,m,T,b,M,L),s.context=A0(null),a=s.current,l=xn(),f=Us(l),f.callback=null,ks(a,f,l),s.current.lanes=l,Ee(s,l),Si(s),e[Ui]=s.current,Vd(e),new kc(s)},Ml.version="19.0.0",Ml}var j0;function W1(){if(j0)return Xd.exports;j0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Xd.exports=Z1(),Xd.exports}var J1=W1();const tR=CE(J1);function eR({question:n,answers:t,correctIndex:i,selectedAnswer:r,onSelectAnswer:o,id:u,imageId:h}){const[d,p]=yt.useState(!1);if(yt.useEffect(()=>{const v=E=>{E.key==="Escape"&&p(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!t||t.length===0)return st.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return st.jsxs(st.Fragment,{children:[st.jsxs("div",{className:"flashcard",children:[st.jsxs("div",{className:"question-section",children:[g&&st.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>p(!0)}),st.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),st.jsx("div",{className:"answer-list",children:t.map((v,E)=>{const S=r!==null,V=E===i,U=E===r;let j="answer-button text-base";return S&&(V?j+=" correct":U&&(j+=" wrong")),st.jsx("button",{className:j,onClick:k=>{k.preventDefault(),o(E)},disabled:S,children:v},E)})})]}),st.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),d&&g&&st.jsx("div",{className:"lightbox-overlay",onClick:()=>p(!1),children:st.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}const nR=()=>{};var F0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},iR=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,V=g&63;p||(V=64,h||(S=64)),r.push(i[v],i[E],i[S],i[V])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(DE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):iR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new sR;const S=u<<2|d>>4;if(r.push(S),g!==64){const V=d<<4&240|g>>2;if(r.push(V),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(n){const t=DE(n);return VE.encodeByteArray(t,!0)},sh=function(n){return rR(n).replace(/\./g,"")},aR=function(n){try{return VE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>oR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof F0>"u")return;const n=F0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&aR(n[1]);return t&&JSON.parse(t)},fp=()=>{try{return nR()||lR()||uR()||cR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hR=n=>{var t,i;return(i=(t=fp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},fR=n=>{const t=hR(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ME=()=>{var n;return(n=fp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sh(JSON.stringify(i)),sh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){var n;const t=(n=fp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yR(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dp(){try{return typeof indexedDB=="object"}catch{return!1}}function mp(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function IE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class fr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=vR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wh.prototype.create)}}class wh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?_R(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new fr(o,d,r)}}function _R(n,t){return n.replace(TR,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const TR=/\{\$([^}]+)}/g;function Yl(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(q0(u)&&q0(h)){if(!Yl(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,AR=2,bR=4*60*60*1e3,SR=.5;function H0(n,t=ER,i=AR){const r=t*Math.pow(i,n),o=Math.round(SR*r*(Math.random()-.5)*2);return Math.min(bR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n){return n&&n._delegate?n._delegate:n}class us{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new dR;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CR(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RR(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(n){return n===$r?void 0:n}function CR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new wR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qt||(Qt={}));const VR={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},MR=Qt.INFO,xR={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},IR=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=xR[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pp{constructor(t){this.name=t,this._logLevel=MR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const OR=(n,t)=>t.some(i=>n instanceof i);let G0,K0;function NR(){return G0||(G0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Am=new WeakMap,NE=new WeakMap,Jd=new WeakMap,gp=new WeakMap;function LR(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Ws(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&OE.set(i,n)}).catch(()=>{}),gp.set(t,n),t}function UR(n){if(Am.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Am.set(n,t)}let bm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Am.get(n);if(t==="objectStoreNames")return n.objectStoreNames||NE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ws(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function kR(n){bm=n(bm)}function BR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(tm(this),t,...i);return NE.set(r,t.sort?t.sort():[t]),Ws(r)}:PR().includes(n)?function(...t){return n.apply(tm(this),t),Ws(OE.get(this))}:function(...t){return Ws(n.apply(tm(this),t))}}function zR(n){return typeof n=="function"?BR(n):(n instanceof IDBTransaction&&UR(n),OR(n,NR())?new Proxy(n,bm):n)}function Ws(n){if(n instanceof IDBRequest)return LR(n);if(Jd.has(n))return Jd.get(n);const t=zR(n);return t!==n&&(Jd.set(n,t),gp.set(t,n)),t}const tm=n=>gp.get(n);function PE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Ws(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Ws(h.result),p.oldVersion,p.newVersion,Ws(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const jR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],em=new Map;function Q0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(em.get(t))return em.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=FR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jR.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return em.set(t,u),u}kR(n=>({...n,get:(t,i,r)=>Q0(t,i)||n.get(t,i,r),has:(t,i)=>!!Q0(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function HR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sm="@firebase/app",Y0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new pp("@firebase/app"),GR="@firebase/app-compat",KR="@firebase/analytics-compat",QR="@firebase/analytics",YR="@firebase/app-check-compat",XR="@firebase/app-check",$R="@firebase/auth",ZR="@firebase/auth-compat",WR="@firebase/database",JR="@firebase/data-connect",tC="@firebase/database-compat",eC="@firebase/functions",nC="@firebase/functions-compat",iC="@firebase/installations",sC="@firebase/installations-compat",rC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",dC="@firebase/firestore",mC="@firebase/vertexai",pC="@firebase/firestore-compat",gC="firebase",yC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",vC={[Sm]:"fire-core",[GR]:"fire-core-compat",[QR]:"fire-analytics",[KR]:"fire-analytics-compat",[XR]:"fire-app-check",[YR]:"fire-app-check-compat",[$R]:"fire-auth",[ZR]:"fire-auth-compat",[WR]:"fire-rtdb",[JR]:"fire-data-connect",[tC]:"fire-rtdb-compat",[eC]:"fire-fn",[nC]:"fire-fn-compat",[iC]:"fire-iid",[sC]:"fire-iid-compat",[rC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[dC]:"fire-fst",[pC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,_C=new Map,Rm=new Map;function X0(n,t){try{n.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function ir(n){const t=n.name;if(Rm.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;Rm.set(t,n);for(const i of rh.values())X0(i,n);for(const i of _C.values())X0(i,n);return!0}function hu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function TC(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new wh("app","Firebase",EC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=yC;function LE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(i||(i=ME()),!i)throw Js.create("no-options");const u=rh.get(o);if(u){if(Yl(i,u.options)&&Yl(r,u.config))return u;throw Js.create("duplicate-app",{appName:o})}const h=new DR(o);for(const p of Rm.values())h.addComponent(p);const d=new AC(i,r,h);return rh.set(o,d),d}function UE(n=wm){const t=rh.get(n);if(!t&&n===wm&&ME())return LE();if(!t)throw Js.create("no-app",{appName:n});return t}function Di(n,t,i){var r;let o=(r=vC[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}ir(new us(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebase-heartbeat-database",wC=1,Xl="firebase-heartbeat-store";let nm=null;function kE(){return nm||(nm=PE(SC,wC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Js.create("idb-open",{originalErrorMessage:n.message})})),nm}async function RC(n){try{const i=(await kE()).transaction(Xl),r=await i.objectStore(Xl).get(BE(n));return await i.done,r}catch(t){if(t instanceof fr)cs.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cs.warn(i.message)}}}async function $0(n,t){try{const r=(await kE()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(t,BE(n)),await r.done}catch(i){if(i instanceof fr)cs.warn(i.message);else{const r=Js.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cs.warn(r.message)}}}function BE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1024,DC=30;class VC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DC){const h=IC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Z0(),{heartbeatsToSend:r,unsentEntries:o}=MC(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return cs.warn(i),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function MC(n,t=CC){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),W0(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class xC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dp()?mp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function W0(n){return sh(JSON.stringify({version:2,heartbeats:n})).length}function IC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n){ir(new us("platform-logger",t=>new qR(t),"PRIVATE")),ir(new us("heartbeat",t=>new VC(t),"PRIVATE")),Di(Sm,Y0,n),Di(Sm,Y0,"esm2017"),Di("fire-js","")}OC("");var NC="firebase",PC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(NC,PC,"app");var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tr,zE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(x,N,B){for(var I=Array(arguments.length-2),It=2;It<arguments.length;It++)I[It-2]=arguments[It];return R.prototype[N].apply(x,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var x=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)x[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;16>N;++N)x[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],N=O.g[2];var B=O.g[3],I=R+(B^C&(N^B))+x[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[1]+3905402710&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[2]+606105819&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[5]+1200080426&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[6]+2821735955&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[9]+2336552879&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[10]+4294925233&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[13]+4254626195&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[14]+2792965006&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(N^B&(C^N))+x[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[6]+3225465664&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[11]+643717713&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[10]+38016083&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[15]+3634488961&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[14]+3275163606&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[3]+4107603335&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[2]+4243563512&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[7]+1735328473&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(C^N^B)+x[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[8]+2272392833&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[11]+1839030562&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[4]+1272893353&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[7]+4139469664&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[0]+3936430074&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[3]+3572445317&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[12]+3873151461&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[15]+530742520&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(N^(C|~B))+x[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[7]+1126891415&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[14]+2878612391&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[3]+2399980690&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[10]+4293915773&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[15]+4264355552&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[6]+2734768916&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[11]+3174756917&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[2]+718787259&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,x=this.B,N=this.h,B=0;B<R;){if(N==0)for(;B<=C;)o(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<R;)if(x[N++]=O.charCodeAt(B++),N==this.blockSize){o(this,x),N=0;break}}else for(;B<R;)if(x[N++]=O[B++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var x=0;32>x;x+=8)O[C++]=this.g[R]>>>x&255;return O};function u(O,R){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function h(O,R){this.h=R;for(var C=[],x=!0,N=O.length-1;0<=N;N--){var B=O[N]|0;x&&B==R||(C[N]=B,x=!1)}this.g=C}var d={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return k(g(-O));for(var R=[],C=1,x=0;O>=C;x++)R[x]=O/C|0,C*=4294967296;return new h(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return k(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),x=E,N=0;N<O.length;N+=8){var B=Math.min(8,O.length-N),I=parseInt(O.substring(N,N+B),R);8>B?(B=g(Math.pow(R,B)),x=x.j(B).add(g(I))):(x=x.j(C),x=x.add(g(I)))}return x}var E=p(0),S=p(1),V=p(16777216);n=h.prototype,n.m=function(){if(j(this))return-k(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var x=this.i(C);O+=(0<=x?x:4294967296+x)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(j(this))return"-"+k(this).toString(O);for(var R=g(Math.pow(O,6)),C=this,x="";;){var N=_t(C,R).g;C=Q(C,N.j(R));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=N,U(C))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}n.l=function(O){return O=Q(this,O),j(O)?-1:U(O)?0:1};function k(O){for(var R=O.g.length,C=[],x=0;x<R;x++)C[x]=~O.g[x];return new h(C,~O.h).add(S)}n.abs=function(){return j(this)?k(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0,N=0;N<=R;N++){var B=x+(this.i(N)&65535)+(O.i(N)&65535),I=(B>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);x=I>>>16,B&=65535,I&=65535,C[N]=I<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(k(R))}n.j=function(O){if(U(this)||U(O))return E;if(j(this))return j(O)?k(this).j(k(O)):k(k(this).j(O));if(j(O))return k(this.j(k(O)));if(0>this.l(V)&&0>O.l(V))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],x=0;x<2*R;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<O.g.length;N++){var B=this.i(x)>>>16,I=this.i(x)&65535,It=O.i(N)>>>16,Dt=O.i(N)&65535;C[2*x+2*N]+=I*Dt,tt(C,2*x+2*N),C[2*x+2*N+1]+=B*Dt,tt(C,2*x+2*N+1),C[2*x+2*N+1]+=I*It,tt(C,2*x+2*N+1),C[2*x+2*N+2]+=B*It,tt(C,2*x+2*N+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function tt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function nt(O,R){this.g=O,this.h=R}function _t(O,R){if(U(R))throw Error("division by zero");if(U(O))return new nt(E,E);if(j(O))return R=_t(k(O),R),new nt(k(R.g),k(R.h));if(j(R))return R=_t(O,k(R)),new nt(k(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,x=R;0>=x.l(O);)C=rt(C),x=rt(x);var N=gt(C,1),B=gt(x,1);for(x=gt(x,2),C=gt(C,2);!U(x);){var I=B.add(x);0>=I.l(O)&&(N=N.add(C),B=I),x=gt(x,1),C=gt(C,1)}return R=Q(O,N.j(R)),new nt(N,R)}for(N=E;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=g(C),I=B.j(R);j(I)||0<I.l(O);)C-=x,B=g(C),I=B.j(R);U(B)&&(B=S),N=N.add(B),O=Q(O,I)}return new nt(N,O)}n.A=function(O){return _t(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)&O.i(x);return new h(C,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)|O.i(x);return new h(C,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)^O.i(x);return new h(C,this.h^O.h)};function rt(O){for(var R=O.g.length+1,C=[],x=0;x<R;x++)C[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(C,O.h)}function gt(O,R){var C=R>>5;R%=32;for(var x=O.g.length-C,N=[],B=0;B<x;B++)N[B]=0<R?O.i(B+C)>>>R|O.i(B+C+1)<<32-R:O.i(B+C);return new h(N,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,tr=h}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Il,FE,Xc,Cm,qE,HE,GE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in _))break t;_=_[F]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,F={next:function(){if(!w&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,F,G){for(var ot=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)ot[qt-2]=arguments[qt];return y.prototype[F].apply(w,ot)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const F=c.length||0,G=w.length||0;c.length=F+G;for(let ot=0;ot<G;ot++)c[F+ot]=w[ot]}else c.push(w)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function tt(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var rt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function gt(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(_ in w)c[_]=w[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Ot;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class It{constructor(){this.h=this.g=null}add(y,_){const w=Dt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Dt=new Q(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ht=!1,Ot=new It,A=()=>{const c=d.Promise.resolve(void 0);ct=()=>{c.then(D)}};var D=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){B(_)}var y=Dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function lt(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(rt){t:{try{_t(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&lt.aa.h.call(this)}}U(lt,X);var ut={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function Rt(c,y,_,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=F,this.key=++ft,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c){this.src=c,this.g={},this.h=0}Pt.prototype.add=function(c,y,_,w,F){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=Wt(c,y,w,F);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Rt(y,this.src,G,!!w,F),y.fa=_,c.push(y)),y};function Yt(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],F=Array.prototype.indexOf.call(w,y,void 0),G;(G=0<=F)&&Array.prototype.splice.call(w,F,1),G&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,y,_,w){for(var F=0;F<c.length;++F){var G=c[F];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==w)return F}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),le={};function Te(c,y,_,w,F){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Te(c,y[G],_,w,F);return null}return _=ha(_),c&&c[dt]?c.K(y,_,g(w)?!!w.capture:!1,F):Ke(c,y,_,!1,w,F)}function Ke(c,y,_,w,F,G){if(!y)throw Error("Invalid event type");var ot=g(F)?!!F.capture:!!F,qt=gr(c);if(qt||(c[Nt]=qt=new Pt(c)),_=qt.add(y,_,w,ot,G),_.proxy)return _;if(w=nn(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)J||(F=ot),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(ms(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nn(){function c(_){return y.call(c.src,c.listener,_)}const y=Ro;return c}function vn(c,y,_,w,F){if(Array.isArray(y))for(var G=0;G<y.length;G++)vn(c,y[G],_,w,F);else w=g(w)?!!w.capture:!!w,_=ha(_),c&&c[dt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Wt(G,_,w,F),-1<_&&(At(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=gr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,_,w,F)),(_=-1<c?y[c]:null)&&ke(_))}function ke(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])Yt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ms(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=gr(y))?(Yt(_,c),_.h==0&&(_.src=null,y[Nt]=null)):At(c)}}}function ms(c){return c in le?le[c]:le[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new lt(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ke(c),c=_.call(w,y)}return c}function gr(c){return c=c[Nt],c instanceof Pt?c:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(c){return typeof c=="function"?c:(c[Qe]||(c[Qe]=function(y){return c.handleEvent(y)}),c[Qe])}function me(){Z.call(this),this.i=new Pt(this),this.M=this,this.F=null}U(me,Z),me.prototype[dt]=!0,me.prototype.removeEventListener=function(c,y,_,w){vn(this,c,y,_,w)};function we(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var F=y;y=new X(w,c),x(y,F)}if(F=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];F=Jn(ot,w,!0,y)&&F}if(ot=y.g=c,F=Jn(ot,w,!0,y)&&F,F=Jn(ot,w,!1,y)&&F,_)for(G=0;G<_.length;G++)ot=y.g=_[G],F=Jn(ot,w,!1,y)&&F}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)At(_[w]);delete c.g[y],c.h--}}this.F=null},me.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},me.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Jn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var qt=ot.listener,xe=ot.ha||ot.src;ot.fa&&Yt(c.i,ot),F=qt.call(xe,w)!==!1&&F}}return F&&!w.defaultPrevented}function yr(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ps(c){c.g=yr(()=>{c.g=null,c.i&&(c.i=!1,ps(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class vr extends Z{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(c){Z.call(this),this.h=c,this.g={}}U(Li,Z);var li=[];function sn(c){gt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ke(y)},c),c.g={}}Li.prototype.N=function(){Li.aa.N.call(this),sn(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Co=d.JSON.stringify,ui=d.JSON.parse,fn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function Eu(c){return c.h||(c.h=c.i())}function Au(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gs(){X.call(this,"d")}U(gs,X);function ti(){X.call(this,"c")}U(ti,X);var Pn={},ys=null;function fa(){return ys=ys||new me}Pn.La="serverreachability";function Vo(c){X.call(this,Pn.La,c)}U(Vo,X);function vs(c){const y=fa();we(y,new Vo(y))}Pn.STAT_EVENT="statevent";function da(c,y){X.call(this,Pn.STAT_EVENT,c),this.stat=y}U(da,X);function Ee(c){const y=fa();we(y,new da(y,c))}Pn.Ma="timingevent";function bu(c,y){X.call(this,Pn.Ma,c),this.size=y}U(bu,X);function _s(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function Su(c,y,_,w,F,G){c.info(function(){if(c.g)if(G)for(var ot="",qt=G.split("&"),xe=0;xe<qt.length;xe++){var Ht=qt[xe].split("=");if(1<Ht.length){var je=Ht[0];Ht=Ht[1];var Ie=je.split("_");ot=2<=Ie.length&&Ie[1]=="type"?ot+(je+"="+Ht+"&"):ot+(je+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+_+`
`+ot})}function wu(c,y,_,w,F,G,ot){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+_+`
`+G+" "+ot})}function Es(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Be(c,_)+(w?" "+w:"")})}function hi(c,y){c.info(function(){return"TIMEOUT: "+y})}Ts.prototype.info=function(){};function Be(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var G=F[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<F.length;ot++)F[ot]=""}}}}return Co(_)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function ma(){}U(ma,Do),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},_r=new ma;function fi(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var As={},Tr={};function ei(c,y,_){c.L=1,c.v=br(pe(y)),c.m=_,c.P=!0,ki(c,null)}function ki(c,y){c.F=Date.now(),ue(c),c.A=pe(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ji(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Mo,c.g=Bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new vr(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(li[0]=F.toString()),F=li);for(var G=0;G<F.length;G++){var ot=Te(_,F[G],w||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vs(),Su(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)t:{const Ie=zn(this.g);var y=this.g.Ba();const Gi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=Gi?vs(3):vs(2)),pa(this);var _=this.g.Z();this.X=_;e:if(bs(this)){var w=xu(this.g);c="";var F=w.length,G=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),wn(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(G&&y==F-1)});w.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,wu(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var qt,xe=this.g;if((qt=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(qt)){var Ht=qt;break e}}Ht=null}if(_=Ht)Es(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rn(this,_);else{this.o=!1,this.s=3,Ee(12),_n(this),wn(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<ot.length;)if(Ye=Ss(this,ot),Ye==Tr){Ie==4&&(this.s=4,Ee(14),_=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==As){this.s=4,Ee(15),Es(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Es(this.i,this.l,Ye,null),Rn(this,Ye);if(bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ot.length!=0||this.h.h||(this.s=1,Ee(16),_=!1),this.o=this.o&&_,!_)Es(this.i,this.l,ot,"[Invalid Chunked Response]"),_n(this),wn(this);else if(0<ot.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Mr(je),je.M=!0,Ee(11))}}else Es(this.i,this.l,ot,null),Rn(this,ot);Ie==4&&_n(this),this.o&&!this.J&&(Ie==4?Lu(this.j,this):(this.o=!1,ue(this)))}else ef(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),_n(this),wn(this)}}}catch{}finally{}};function bs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ss(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Tr:(_=Number(y.substring(_,w)),isNaN(_)?As:(w+=1,w+_>y.length?Tr:(y=y.slice(w,w+_),c.C=w+_,y)))}fi.prototype.cancel=function(){this.J=!0,_n(this)};function ue(c){c.S=Date.now()+c.I,xo(c,c.I)}function xo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_s(S(c.ba,c),y)}function pa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hi(this.i,this.A),this.L!=2&&(vs(),Ee(17)),_n(this),this.s=2,wn(this)):xo(this,this.S-c)};function wn(c){c.j.G==0||c.J||Lu(c.j,c)}function _n(c){pa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,sn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Rn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ws(_.h,c))){if(!c.K&&ws(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wa(_),ba(_);else break t;Fo(_),Ee(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=_s(S(_.Za,_),6e3));if(1>=Ru(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Hi(_,11)}else if((c.K||_.g==c)&&wa(_),!tt(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Ht=F[y];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const je=Ht[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const Ie=Ht[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const Gi=Ht[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(w=1.5*Gi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ye=c.g;if(Ye){const _i=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var G=w.h;G.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Rs(G,G.h),G.h=null))}if(w.D){const Ho=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(w.ya=Ho,Xt(w.I,w.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ot=c;if(w.qa=ku(w,w.J?w.ia:null,w.W),ot.K){Ln(w.h,ot);var qt=ot,xe=w.L;xe&&(qt.I=xe),qt.B&&(pa(qt),ue(qt)),w.g=ot}else Nu(w);0<_.i.length&&Sa(_)}else Ht[0]!="stop"&&Ht[0]!="close"||Hi(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Hi(_,7):zo(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}vs(4)}catch{}}var $h=class{constructor(c,y){this.g=c,this.map=y}};function Io(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ru(c){return c.h?1:c.g?c.g.size:0}function ws(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Rs(c,y){c.g?c.g.add(y):c.h=y}function Ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Io.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function Cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Zh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Er(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Zh(c),w=Cu(c),F=w.length,G=0;G<F;G++)y.call(void 0,w[G],_&&_[G],c)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),F=null;if(0<=w){var G=c[_].substring(0,w);F=c[_].substring(w+1)}else G=c[_];y(G,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Bi){this.h=c.h,Cs(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.s),this.l=c.l;var y=c.i,_=new di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ya(this,_),this.m=c.m}else c&&(y=String(c).match(No))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Ds(y[2]||""),this.g=Ds(y[3]||"",!0),Ar(this,y[4]),this.l=Ds(y[5]||"",!0),ya(this,y[6]||"",!0),this.m=Ds(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Bi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Un(y,Po,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Un(y,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Un(_,_.charAt(0)=="/"?Lo:Du,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Un(_,tf)),c.join("")};function pe(c){return new Bi(c)}function Cs(c,y,_){c.j=_?Ds(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ya(c,y,_){y instanceof di?(c.i=y,Uo(c.i,c.h)):(_||(y=Un(y,Jh)),c.i=new di(y,c.h))}function Xt(c,y,_){c.i.set(y,_)}function br(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ds(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Un(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Wh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Du=/[#\?:]/g,Lo=/[#\?]/g,Jh=/[#\?@]/g,tf=/#/g;function di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=di.prototype,n.add=function(c,y){kn(this),this.i=null,c=Fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function va(c,y){kn(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zi(c,y){return kn(c),y=Fi(c,y),c.g.has(y)}n.forEach=function(c,y){kn(this),this.g.forEach(function(_,w){_.forEach(function(F){c.call(y,F,w,this)},this)},this)},n.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const F=c[w];for(let G=0;G<F.length;G++)_.push(y[w])}return _},n.V=function(c){kn(this);let y=[];if(typeof c=="string")zi(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return kn(this),this.i=null,c=Fi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ji(c,y,_){va(c,y),0<_.length&&(c.i=null,c.g.set(Fi(c,y),j(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const G=encodeURIComponent(String(w)),ot=this.V(w);for(w=0;w<ot.length;w++){var F=G;ot[w]!==""&&(F+="="+encodeURIComponent(String(ot[w]))),c.push(F)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uo(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var F=w.toLowerCase();w!=F&&(va(this,w),ji(this,F,_))},c)),c.j=y}function Vu(c,y){const _=new Ts;if(d.Image){const w=new Image;w.onload=V(Bn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=V(Bn,_,"TestLoadImage: error",!1,y,w),w.onabort=V(Bn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(Bn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Sr(c,y){const _=new Ts,w=new AbortController,F=setTimeout(()=>{w.abort(),Bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(F),G.ok?Bn(_,"TestPingServer: ok",!0,y):Bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Bn(_,"TestPingServer: error",!1,y)})}function Bn(c,y,_,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(_)}catch{}}function wr(){this.g=new fn}function mi(c,y,_){const w=_||"";try{Er(c,function(F,G){let ot=F;g(F)&&(ot=Co(F)),y.push(w+G+"="+encodeURIComponent(ot))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function Vs(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Vs,Do),Vs.prototype.g=function(){return new qi(this.l,this.j)},Vs.prototype.i=function(c){return function(){return c}}({});function qi(c,y){me.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(qi,me),n=qi.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pi(this):gi(this),this.readyState==3&&ko(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},n.Qa=function(c){this.g&&(this.response=c,pi(this))},n.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return gt(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function ze(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xt(c,y,_))}function Jt(c){me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Jt,me);var _a=/^https?$/i,Rr=["POST","PUT"];n=Jt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Eu(this.o):Eu(_r),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Mu(this,G);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)_.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Rr,y,void 0))||w||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cr(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Mu(this,G)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ta(c),yi(c)}function Ta(c){c.A||(c.A=!0,we(c,"complete"),we(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,we(this,"complete"),we(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof h<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)yr(c.Ea,0,c);else if(we(c,"readystatechange"),zn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=ot===0){var F=String(c.D).match(No)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),w=!_a.test(F?F.toLowerCase():"")}_=w}if(_)we(c,"complete"),we(c,"success");else{c.m=6;try{var G=2<zn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ta(c)}}finally{yi(c)}}}}function yi(c,y){if(c.g){Cr(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||we(c,"ready");try{_.onreadystatechange=w}catch{}}}function Cr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ui(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(tt(c[w]))continue;var _=N(c[w]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[F]||[];y[F]=G,G.push(_)}O(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,c),this.cb=Dr("retryDelaySeedMs",1e4,c),this.Wa=Dr("forwardChannelMaxRetries",2,c),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Io(c&&c.concurrentRequestLimit),this.Da=new wr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Aa.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,w){Ee(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ku(this,null,this.W),Sa(this)};function zo(c){if(Iu(c),c.G==3){var y=c.U++,_=pe(c.I);if(Xt(_,"SID",c.K),Xt(_,"RID",y),Xt(_,"TYPE","terminate"),Vr(c,_),y=new fi(c,c.j,y),y.L=2,y.v=br(pe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ue(y)}Uu(c)}function ba(c){c.g&&(Mr(c),c.g.cancel(),c.g=null)}function Iu(c){ba(c),c.u&&(d.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Sa(c){if(!Oo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ct||A(),ht||(ct(),ht=!0),Ot.add(y,c),c.B=0}}function nf(c,y){return Ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_s(S(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new fi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(F.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Ou(this,F,y),_=pe(this.I),Xt(_,"RID",c),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Vr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Bo(G)))+"&"+y:this.m&&ze(_,this.m,G)),Rs(this.h,F),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",y),Xt(_,"SID","null"),F.T=!0,ei(F,_,null)):ei(F,_,y),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||Oo(this.h)||jo(this))};function jo(c,y){var _;y?_=y.l:_=c.U++;const w=pe(c.I);Xt(w,"SID",c.K),Xt(w,"RID",_),Xt(w,"AID",c.T),Vr(c,w),c.m&&c.o&&ze(w,c.m,c.o),_=new fi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rs(c.h,_),ei(_,w,y)}function Vr(c,y){c.H&&gt(c.H,function(_,w){Xt(y,w,_)}),c.l&&Er({},function(_,w){Xt(y,w,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;t:{var F=c.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=F[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let qt=!0;for(let xe=0;xe<_;xe++){let Ht=F[xe].g;const je=F[xe].map;if(Ht-=G,0>Ht)G=Math.max(0,F[xe].g-100),qt=!1;else try{mi(je,ot,"req"+Ht+"_")}catch{w&&w(je)}}if(qt){w=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function Nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ct||A(),ht||(ct(),ht=!0),Ot.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_s(S(c.Fa,c),qo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_s(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),ba(this),Pu(this))};function Mr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pe(c.qa);Xt(y,"RID","rpc"),Xt(y,"SID",c.K),Xt(y,"AID",c.T),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(y,"TO",c.ja),Xt(y,"TYPE","xmlhttp"),Vr(c,y),c.m&&c.o&&ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=br(pe(y)),_.m=null,_.P=!0,ki(_,c)}n.Za=function(){this.C!=null&&(this.C=null,ba(this),Fo(this),Ee(19))};function wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){wa(c),Mr(c),c.g=null;var w=2}else if(ws(c.h,y))_=y.D,Ln(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;w=fa(),we(w,new bu(w,_)),Sa(c)}else Nu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&nf(c,y)||w==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Hi(c,5);break;case 4:Hi(c,10);break;case 3:Hi(c,6);break;default:Hi(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Hi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const F=!w;w=new Bi(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cs(w,"https"),br(w),F?Vu(w.toString(),_):Sr(w.toString(),_)}else Ee(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Iu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=dn(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var w=_ instanceof Bi?pe(_):new Bi(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ar(w,w.s);else{var F=d.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var G=new Bi(null);w&&Cs(G,w),y&&(G.g=y),F&&Ar(G,F),_&&(G.l=_),w=G}return _=c.D,y=c.ya,_&&y&&Xt(w,_,y),Xt(w,"VER",c.la),Vr(c,w),w}function Bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Jt(new Vs({eb:_})):new Jt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}n=zu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){me.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!tt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!tt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vi(this)}U(mn,me),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){zo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Co(c),c=_);y.i.push(new $h(y.Ya++,c)),y.G==3&&Sa(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,mn.aa.N.call(this)};function ju(c){gs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(ju,gs);function Fu(){ti.call(this),this.status=1}U(Fu,ti);function vi(c){this.g=c}U(vi,zu),vi.prototype.ua=function(){we(this.g,"a")},vi.prototype.ta=function(c){we(this.g,new ju(c))},vi.prototype.sa=function(c){we(this.g,new Fu)},vi.prototype.ra=function(){we(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,GE=function(){return new Ra},HE=function(){return fa()},qE=Pn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Xc=Me,Ui.COMPLETE="complete",FE=Ui,Au.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",me.prototype.listen=me.prototype.K,Il=Au,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,jE=Jt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",e_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new pp("@firebase/firestore");function Ja(){return sa.logLevel}function mt(n,...t){if(sa.logLevel<=Qt.DEBUG){const i=t.map(yp);sa.debug(`Firestore (${To}): ${n}`,...i)}}function hs(n,...t){if(sa.logLevel<=Qt.ERROR){const i=t.map(yp);sa.error(`Firestore (${To}): ${n}`,...i)}}function uo(n,...t){if(sa.logLevel<=Qt.WARN){const i=t.map(yp);sa.warn(`Firestore (${To}): ${n}`,...i)}}function yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n="Unexpected state"){const t=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+n;throw hs(t),new Error(t)}function te(n,t){n||Ct()}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(un.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kC{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new KE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new un(t)}}class BC{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zC{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new BC(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,TC(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){te(this.o===void 0);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(te(typeof i.token=="string"),this.R=i.token,new n_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=FC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function kt(n,t){return n<t?-1:n>t?1:0}function Dm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return kt(r,o);{const u=QE(),h=qC(u.encode(i_(n,i)),u.encode(i_(t,i)));return h!==0?h:kt(r,o)}}i+=r>65535?2:1}return kt(n.length,t.length)}function i_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function qC(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return kt(n[i],t[i]);return kt(n.length,t.length)}function co(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,r_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*r_);return new Le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<s_)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-s_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Le(0,0))}static max(){return new Vt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class Ri{constructor(t,i,r){i===void 0?i=0:i>t.length&&Ct(),r===void 0?r=t.length-i:r>t.length-i&&Ct(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return kt(t.length,i.length)}static compareSegments(t,i){const r=Ri.isNumericId(t),o=Ri.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):Dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class oe extends Ri{construct(t,i,r){return new oe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new Et(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ri{construct(t,i,r){return new tn(t,i,r)}static isValidIdentifier(t){return HC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new tn([a_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Et(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Et(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new Et(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(oe.fromString(t))}static fromName(t){return new bt(oe.fromString(t).popFirst(5))}static empty(){return new bt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function GC(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(r===1e9?new Le(i+1,0):new Le(i,r));return new sr(o,bt.empty(),t)}function KC(n){return new sr(n.readTime,n.key,$l)}class sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(Vt.min(),bt.empty(),$l)}static max(){return new sr(Vt.max(),bt.empty(),$l)}}function QC(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=bt.comparator(n.documentKey,t.documentKey),i!==0?i:kt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==YC)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,r)=>{i(t)})}static reject(t){return new W((i,r)=>{r(t)})}static waitFor(t){return new W((i,r)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=W.resolve(!1);for(const r of t)i=i.next(o=>o?W.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new W((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++d,d===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new W((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function $C(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function Ch(n){return n==null}function ah(n){return n===0&&1/n==-1/0}function ZC(n){return typeof n=="number"&&Number.isInteger(n)&&!ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function WC(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=o_(t)),t=JC(n.get(i),t);return o_(t)}function JC(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case XE:i+="";break;default:i+=u}}return i}function o_(n){return n+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function dr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function $E(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Je(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const t=this.left.check();if(t!==this.right.check())throw Ct();return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(t,i,r,o,u){return this}insert(t,i,r){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(t){return new u_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class u_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new In([])}unionWith(t){let i=new Ue(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZE("Invalid base64 string: "+u):u}}(t);return new en(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(te(!!n),typeof n=="string"){let t=0;const i=tD.exec(n);if(te(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ar(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",JE="__type__",tA="__previous_value__",eA="__local_write_time__";function _p(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[JE])===null||i===void 0?void 0:i.stringValue)===WE}function Dh(n){const t=n.mapValue.fields[tA];return _p(t)?Dh(t):t}function Zl(n){const t=rr(n.mapValue.fields[eA].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t,i,r,o,u,h,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const oh="(default)";class Wl{constructor(t,i){this.projectId=t,this.database=i||oh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(t){return t instanceof Wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__type__",nD="__max__",Fc={mapValue:{}},iA="__vector__",lh="value";function or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_p(n)?4:sD(n)?9007199254740991:iD(n)?10:11:Ct()}function Ni(n,t){if(n===t)return!0;const i=or(n);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Zl(n).isEqual(Zl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=rr(o.timestampValue),d=rr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return ar(o.bytesValue).isEqual(ar(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Se(o.doubleValue),d=Se(u.doubleValue);return h===d?ah(h)===ah(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return co(n.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(l_(h)!==l_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ni(h[p],d[p])))return!1;return!0}(n,t);default:return Ct()}}function Jl(n,t){return(n.values||[]).find(i=>Ni(i,t))!==void 0}function ho(n,t){if(n===t)return 0;const i=or(n),r=or(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Se(u.integerValue||u.doubleValue),p=Se(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return c_(n.timestampValue,t.timestampValue);case 4:return c_(Zl(n),Zl(t));case 5:return Dm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=ar(u),p=ar(h);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=kt(d[g],p[g]);if(v!==0)return v}return kt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=kt(Se(u.latitude),Se(h.latitude));return d!==0?d:kt(Se(u.longitude),Se(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return h_(n.arrayValue,t.arrayValue);case 10:return function(u,h){var d,p,g,v;const E=u.fields||{},S=h.fields||{},V=(d=E[lh])===null||d===void 0?void 0:d.arrayValue,U=(p=S[lh])===null||p===void 0?void 0:p.arrayValue,j=kt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:h_(V,U)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===Fc.mapValue&&h===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(h===Fc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Dm(p[E],v[E]);if(S!==0)return S;const V=ho(d[p[E]],g[v[E]]);if(V!==0)return V}return kt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Ct()}}function c_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const i=rr(n),r=rr(t),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function h_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=ho(i[o],r[o]);if(u)return u}return kt(i.length,r.length)}function fo(n){return Vm(n)}function Vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return ar(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return bt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Vm(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Vm(i.fields[h])}`;return o+"}"}(n.mapValue):Ct()}function $c(n){switch(or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(n);return t?16+$c(t):16;case 5:return 2*n.stringValue.length;case 6:return ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+$c(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return dr(r.fields,(u,h)=>{o+=u.length+$c(h)}),o}(n.mapValue);default:throw Ct()}}function Mm(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function f_(n){return!!n&&"nullValue"in n}function d_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zc(n){return!!n&&"mapValue"in n}function iD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[nA])===null||i===void 0?void 0:i.stringValue)===iA}function Bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return dr(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Bl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Bl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function sD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bl(i)}setAll(t){let i=tn.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=Bl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){dr(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new An(Bl(this.value))}}function sA(n){const t=[];return dr(n.fields,(i,r)=>{const o=new tn([i]);if(Zc(r)){const u=sA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new cn(t,0,Vt.min(),Vt.min(),Vt.min(),An.empty(),0)}static newFoundDocument(t,i,r,o){return new cn(t,1,i,Vt.min(),r,o,0)}static newNoDocument(t,i){return new cn(t,2,i,Vt.min(),Vt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,Vt.min(),Vt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i){this.position=t,this.inclusive=i}}function m_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=bt.comparator(bt.fromName(h.referenceValue),i.key):r=ho(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function p_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Ni(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i="asc"){this.field=t,this.dir=i}}function rD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class Pe extends rA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new oD(t,i,r):i==="array-contains"?new cD(t,r):i==="in"?new hD(t,r):i==="not-in"?new fD(t,r):i==="array-contains-any"?new dD(t,r):new Pe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new lD(t,r):new uD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ho(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends rA{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Pi(t,i)}matches(t){return aA(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function aA(n){return n.op==="and"}function oA(n){return aD(n)&&aA(n)}function aD(n){for(const t of n.filters)if(t instanceof Pi)return!1;return!0}function xm(n){if(n instanceof Pe)return n.field.canonicalString()+n.op.toString()+fo(n.value);if(oA(n))return n.filters.map(t=>xm(t)).join(",");{const t=n.filters.map(i=>xm(i)).join(",");return`${n.op}(${t})`}}function lA(n,t){return n instanceof Pe?function(r,o){return o instanceof Pe&&r.op===o.op&&r.field.isEqual(o.field)&&Ni(r.value,o.value)}(n,t):n instanceof Pi?function(r,o){return o instanceof Pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&lA(h,o.filters[d]),!0):!1}(n,t):void Ct()}function uA(n){return n instanceof Pe?function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`}(n):n instanceof Pi?function(i){return i.op.toString()+" {"+i.getFilters().map(uA).join(" ,")+"}"}(n):"Filter"}class oD extends Pe{constructor(t,i,r){super(t,i,r),this.key=bt.fromName(r.referenceValue)}matches(t){const i=bt.comparator(t.key,this.key);return this.matchesComparison(i)}}class lD extends Pe{constructor(t,i){super(t,"in",i),this.keys=cA("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class uD extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=cA("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function cA(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>bt.fromName(r.referenceValue))}class cD extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tp(i)&&Jl(i.arrayValue,this.value)}}class hD extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class fD extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Jl(this.value.arrayValue,i)}}class dD extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function g_(n,t=null,i=[],r=[],o=null,u=null,h=null){return new mD(n,t,i,r,o,u,h)}function Ep(n){const t=xt(n);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>xm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>fo(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>fo(r)).join(",")),t.le=i}return t.le}function Ap(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!rD(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!lA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!p_(n.startAt,t.startAt)&&p_(n.endAt,t.endAt)}function Im(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pD(n,t,i,r,o,u,h,d){return new Vh(n,t,i,r,o,u,h,d)}function bp(n){return new Vh(n)}function y_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gD(n){return n.collectionGroup!==null}function zl(n){const t=xt(n);if(t.he===null){t.he=[];const i=new Set;for(const u of t.explicitOrderBy)t.he.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ue(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.he.push(new ch(u,r))}),i.has(tn.keyField().canonicalString())||t.he.push(new ch(tn.keyField(),r))}return t.he}function Vi(n){const t=xt(n);return t.Pe||(t.Pe=yD(t,zl(n))),t.Pe}function yD(n,t){if(n.limitType==="F")return g_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ch(o.field,u)});const i=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return g_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Om(n,t,i){return new Vh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Mh(n,t){return Ap(Vi(n),Vi(t))&&n.limitType===t.limitType}function hA(n){return`${Ep(Vi(n))}|lt:${n.limitType}`}function to(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>uA(o)).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>fo(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>fo(o)).join(",")),`Target(${r})`}(Vi(n))}; limitType=${n.limitType})`}function xh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):bt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of zl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=m_(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,zl(r),o)||r.endAt&&!function(h,d,p){const g=m_(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,zl(r),o))}(n,t)}function vD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fA(n){return(t,i)=>{let r=!1;for(const o of zl(n)){const u=_D(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function _D(n,t,i){const r=n.field.isKeyField()?bt.comparator(t.key,i.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?ho(p,g):Ct()}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){dr(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new de(bt.comparator);function fs(){return TD}const dA=new de(bt.comparator);function Ol(...n){let t=dA;for(const i of n)t=t.insert(i.key,i);return t}function mA(n){let t=dA;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Wr(){return jl()}function pA(){return jl()}function jl(){return new la(n=>n.toString(),(n,t)=>n.isEqual(t))}const ED=new de(bt.comparator),AD=new Ue(bt.comparator);function jt(...n){let t=AD;for(const i of n)t=t.add(i);return t}const bD=new Ue(kt);function SD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(t)?"-0":t}}function gA(n){return{integerValue:""+n}}function yA(n,t){return ZC(t)?gA(t):Sp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function wD(n,t,i){return n instanceof hh?function(o,u){const h={fields:{[JE]:{stringValue:WE},[eA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&_p(u)&&(u=Dh(u)),u&&(h.fields[tA]=u),{mapValue:h}}(i,t):n instanceof tu?_A(n,t):n instanceof eu?TA(n,t):function(o,u){const h=vA(o,u),d=v_(h)+v_(o.Ie);return Mm(h)&&Mm(o.Ie)?gA(d):Sp(o.serializer,d)}(n,t)}function RD(n,t,i){return n instanceof tu?_A(n,t):n instanceof eu?TA(n,t):i}function vA(n,t){return n instanceof nu?function(r){return Mm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class hh extends Ih{}class tu extends Ih{constructor(t){super(),this.elements=t}}function _A(n,t){const i=EA(t);for(const r of n.elements)i.some(o=>Ni(o,r))||i.push(r);return{arrayValue:{values:i}}}class eu extends Ih{constructor(t){super(),this.elements=t}}function TA(n,t){let i=EA(t);for(const r of n.elements)i=i.filter(o=>!Ni(o,r));return{arrayValue:{values:i}}}class nu extends Ih{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function v_(n){return Se(n.integerValue||n.doubleValue)}function EA(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,i){this.field=t,this.transform=i}}function DD(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof tu&&o instanceof tu||r instanceof eu&&o instanceof eu?co(r.elements,o.elements,Ni):r instanceof nu&&o instanceof nu?Ni(r.Ie,o.Ie):r instanceof hh&&o instanceof hh}(n.transform,t.transform)}class VD{constructor(t,i){this.version=t,this.transformResults=i}}class Mi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Oh{}function AA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new SA(n.key,Mi.none()):new fu(n.key,n.data,Mi.none());{const i=n.data,r=An.empty();let o=new Ue(tn.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new mr(n.key,r,new In(o.toArray()),Mi.none())}}function MD(n,t,i){n instanceof fu?function(o,u,h){const d=o.value.clone(),p=T_(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,i):n instanceof mr?function(o,u,h){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=T_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function Fl(n,t,i,r){return n instanceof fu?function(u,h,d,p){if(!Wc(u.precondition,h))return d;const g=u.value.clone(),v=E_(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof mr?function(u,h,d,p){if(!Wc(u.precondition,h))return d;const g=E_(u.fieldTransforms,p,h),v=h.data;return v.setAll(bA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,d){return Wc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,i)}function xD(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=vA(r.transform,o||null);u!=null&&(i===null&&(i=An.empty()),i.set(r.field,u))}return i||null}function __(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&co(r,o,(u,h)=>DD(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class fu extends Oh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends Oh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bA(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function T_(n,t,i){const r=new Map;te(n.length===i.length);for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,RD(h,d,i[o]))}return r}function E_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,wD(u,h,t))}return r}class SA extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends Oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&MD(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pA();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=AA(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),jt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,(i,r)=>__(i,r))&&co(this.baseMutations,t.baseMutations,(i,r)=>__(i,r))}}class wp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){te(t.mutations.length===r.length);let o=function(){return ED}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new wp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Kt;function LD(n){switch(n){case it.OK:return Ct();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Ct()}}function wA(n){if(n===void 0)return hs("GRPC error has no .code"),it.UNKNOWN;switch(n){case Ve.OK:return it.OK;case Ve.CANCELLED:return it.CANCELLED;case Ve.UNKNOWN:return it.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return it.INTERNAL;case Ve.UNAVAILABLE:return it.UNAVAILABLE;case Ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ve.NOT_FOUND:return it.NOT_FOUND;case Ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ve.ABORTED:return it.ABORTED;case Ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ve.DATA_LOSS:return it.DATA_LOSS;default:return Ct()}}(Kt=Ve||(Ve={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new tr([4294967295,4294967295],0);function A_(n){const t=QE().encode(n),i=new zE;return i.update(t),new Uint8Array(i.digest())}function b_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new tr([i,r],0),new tr([o,u],0)]}class Rp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=tr.fromNumber(this.Ee)}Ae(t,i,r){let o=t.add(i.multiply(tr.fromNumber(r)));return o.compare(UD)===1&&(o=new tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=A_(t),[r,o]=b_(i);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,o,u);if(!this.Re(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Rp(u,o,i);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.Ee===0)return;const i=A_(t),[r,o]=b_(i);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,o,u);this.Ve(h)}}Ve(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Nh(Vt.min(),o,new de(kt),fs(),jt())}}class du{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new du(r,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,r,o){this.me=t,this.removedTargetIds=i,this.key=r,this.fe=o}}class RA{constructor(t,i){this.targetId=t,this.ge=i}}class CA{constructor(t,i,r=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class S_{constructor(){this.pe=0,this.ye=w_(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=jt(),i=jt(),r=jt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ct()}}),new du(this.we,this.Se,t,i,r)}Me(){this.be=!1,this.ye=w_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=fs(),this.$e=qc(),this.Ue=qc(),this.Ke=new de(kt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const r=this.He(i);switch(t.state){case 0:this.Je(i)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(t.resumeToken));break;default:Ct()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((r,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,r=t.ge.count,o=this.Xe(i);if(o){const u=o.target;if(Im(u))if(r===0){const h=new bt(u.path);this.ze(i,h,cn.newNoDocument(h,Vt.min()))}else te(r===1);else{const h=this.et(i);if(h!==r){const d=this.tt(t),p=d?this.nt(d,t,h):1;if(p!==0){this.Ye(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=ar(r).toUint8Array()}catch(p){if(p instanceof ZE)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Rp(h,o,u)}catch(p){return uo(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(t,i,r){return i.ge.count===r-this.st(t,i.targetId)?0:2}st(t,i){const r=this.ke.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(i,u,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&Im(d.target)){const p=new bt(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,cn.newNoDocument(p,t))}u.ve&&(i.set(h,u.Fe()),u.Me())}});let r=jt();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new Nh(t,i,this.Ke,this.Qe,r);return this.Qe=fs(),this.$e=qc(),this.Ue=qc(),this.Ke=new de(kt),o}Ge(t,i){if(!this.Je(t))return;const r=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,r){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new S_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Ue(kt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ue(kt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new S_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function qc(){return new de(bt.comparator)}function w_(){return new de(bt.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jD={and:"AND",or:"OR"};class FD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Nm(n,t){return n.useProto3Json||Ch(t)?t:{value:t}}function fh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qD(n,t){return fh(n,t.toTimestamp())}function xi(n){return te(!!n),Vt.fromTimestamp(function(i){const r=rr(i);return new Le(r.seconds,r.nanos)}(n))}function Cp(n,t){return Pm(n,t).canonicalString()}function Pm(n,t){const i=function(o){return new oe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function VA(n){const t=oe.fromString(n);return te(NA(t)),t}function Lm(n,t){return Cp(n.databaseId,t.path)}function im(n,t){const i=VA(t);if(i.get(1)!==n.databaseId.projectId)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new bt(xA(i))}function MA(n,t){return Cp(n.databaseId,t)}function HD(n){const t=VA(n);return t.length===4?oe.emptyPath():xA(t)}function Um(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xA(n){return te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function R_(n,t,i){return{name:Lm(n,t),fields:i.value.mapValue.fields}}function GD(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(te(v===void 0||typeof v=="string"),en.fromBase64String(v||"")):(te(v===void 0||v instanceof Buffer||v instanceof Uint8Array),en.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const v=g.code===void 0?it.UNKNOWN:wA(g.code);return new Et(v,g.message||"")}(h);i=new CA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=im(n,r.document.name),u=xi(r.document.updateTime),h=r.document.createTime?xi(r.document.createTime):Vt.min(),d=new An({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Jc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=im(n,r.document),u=r.readTime?xi(r.readTime):Vt.min(),h=cn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Jc([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=im(n,r.document),u=r.removedTargetIds||[];i=new Jc([],u,o,null)}else{if(!("filter"in t))return Ct();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new PD(o,u),d=r.targetId;i=new RA(d,h)}}return i}function KD(n,t){let i;if(t instanceof fu)i={update:R_(n,t.key,t.value)};else if(t instanceof SA)i={delete:Lm(n,t.key)};else if(t instanceof mr)i={update:R_(n,t.key,t.data),updateMask:e2(t.fieldMask)};else{if(!(t instanceof ID))return Ct();i={verify:Lm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof hh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ct()}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ct()}(n,t.precondition)),i}function QD(n,t){return n&&n.length>0?(te(t!==void 0),n.map(i=>function(o,u){let h=o.updateTime?xi(o.updateTime):xi(u);return h.isEqual(Vt.min())&&(h=xi(u)),new VD(h,o.transformResults||[])}(i,t))):[]}function YD(n,t){return{documents:[MA(n,t.path)]}}function XD(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MA(n,o);const u=function(g){if(g.length!==0)return OA(Pi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:eo(S.field),direction:WD(S.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=Nm(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:i,parent:o}}function $D(n){let t=HD(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){te(r===1);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const S=IA(E);return S instanceof Pi&&oA(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(S=>function(U){return new ch(no(U.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(i.orderBy));let d=null;i.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,Ch(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(E){const S=!!E.before,V=E.values||[];return new uh(V,S)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const S=!E.before,V=E.values||[];return new uh(V,S)}(i.endAt)),pD(t,o,h,u,d,"F",p,g)}function ZD(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=no(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(i.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(i.unaryFilter.field);return Pe.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):n.fieldFilter!==void 0?function(i){return Pe.create(no(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Pi.create(i.compositeFilter.filters.map(r=>IA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct()}}(i.compositeFilter.op))}(n):Ct()}function WD(n){return BD[n]}function JD(n){return zD[n]}function t2(n){return jD[n]}function eo(n){return{fieldPath:n.canonicalString()}}function no(n){return tn.fromServerFormat(n.fieldPath)}function OA(n){return n instanceof Pe?function(i){if(i.op==="=="){if(d_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NAN"}};if(f_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NAN"}};if(f_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(i.field),op:JD(i.op),value:i.value}}}(n):n instanceof Pi?function(i){const r=i.getFilters().map(o=>OA(o));return r.length===1?r[0]:{compositeFilter:{op:t2(i.op),filters:r}}}(n):Ct()}function e2(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function NA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,i,r,o,u=Vt.min(),h=Vt.min(),d=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.Tt=t}}function i2(n){const t=$D({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Tn=new r2}addToCollectionParentIndex(t,i){return this.Tn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(sr.min())}updateCollectionGroup(t,i,r){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class r2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ue(oe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PA=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(PA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new mo(0)}static Kn(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",a2=1048576;function V_([n,t],[i,r]){const o=kt(n,i);return o===0?kt(t,r):o}class o2{constructor(t){this.Hn=t,this.buffer=new Ue(V_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();V_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class l2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){mt(D_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?mt(D_,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.er(3e5)})}}class u2{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Rh.ae);const r=new o2(i);return this.tr.forEachTarget(t,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.tr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(C_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Ja()<=Qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function c2(n,t){return new u2(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changes=new la(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Fl(r.mutation,o,In.empty(),Le.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,jt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=jt()){const o=Wr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=Ol();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Wr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,jt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{i.set(h,d)})})}computeViews(t,i,r,o){let u=fs();const h=jl(),d=function(){return jl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof mr)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Fl(v.mutation,g,v.mutation.getFieldMask(),Le.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new f2(v,(E=h.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=jl();let o=new de((h,d)=>h-d),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||In.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||jt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=pA();v.forEach(S=>{if(!u.has(S)){const V=AA(i.get(S),r.get(S));V!==null&&E.set(S,V),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return bt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):gD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):W.resolve(Wr());let d=$l,p=u;return h.next(g=>W.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,jt())).next(v=>({batchId:d,changes:mA(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new bt(i)).next(r=>{let o=Ol();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=Ol();return this.indexManager.getCollectionParents(t,u).next(d=>W.forEach(d,p=>{const g=function(E,S){return new Vh(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,S)=>{h=h.insert(E,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,cn.newInvalidDocument(v)))});let d=Ol();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Fl(v.mutation,g,In.empty(),Le.now()),xh(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:i2(o.bundledQuery),readTime:xi(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.overlays=new de(bt.comparator),this.Rr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Wr();return W.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.Et(t,i,u)}),W.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),W.resolve()}getOverlaysForCollection(t,i,r){const o=Wr(),u=i.length+1,h=new bt(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new de((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Wr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Wr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return W.resolve(d)}Et(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new ND(i,r));let u=this.Rr.get(i);u===void 0&&(u=jt(),this.Rr.set(i,u)),this.Rr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Vr=new Ue(Ge.mr),this.gr=new Ue(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.wr(new Ge(t,i))}Sr(t,i){t.forEach(r=>this.removeReference(r,i))}br(t){const i=new bt(new oe([])),r=new Ge(i,t),o=new Ge(i,t+1),u=[];return this.gr.forEachInRange([r,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new bt(new oe([])),r=new Ge(i,t),o=new Ge(i,t+1);let u=jt();return this.gr.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Ge(t,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return bt.comparator(t.key,i.key)||kt(t.Cr,i.Cr)}static pr(t,i){return kt(t.Cr,i.Cr)||bt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ue(Ge.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OD(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return W.resolve(h)}lookupMutationBatch(t,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Nr(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?vp:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,o],h=>{const d=this.Or(h.Cr);u.push(d)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ue(kt);return i.forEach(o=>{const u=new Ge(o,0),h=new Ge(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{r=r.add(d.Cr)})}),W.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;bt.isDocumentKey(u)||(u=u.child(""));const h=new Ge(new bt(u),0);let d=new Ue(kt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),W.resolve(this.Br(d))}Br(t){const i=[];return t.forEach(r=>{const o=this.Or(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){te(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return W.forEach(i.mutations,o=>{const u=new Ge(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,i){const r=new Ge(i,0),o=this.Mr.firstAfterOrEqual(r);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.kr=t,this.docs=function(){return new de(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=fs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),W.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=fs();const h=i.path,d=new bt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||QC(KC(v),r)<=0||(o.has(v.key)||xh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Ct()}qr(t,i){return W.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new _2(this)}getSize(t){return W.resolve(this.size)}}class _2 extends h2{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(r)}),W.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.persistence=t,this.Qr=new la(i=>Ep(i),Ap),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dp,this.targetCount=0,this.Kr=mo.Un()}forEachTarget(t,i){return this.Qr.forEach((r,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),W.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new mo(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.zn(i),W.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const r=this.Qr.get(i)||null;return W.resolve(r)}addMatchingKeys(t,i,r){return this.Ur.yr(i,r),W.resolve()}removeMatchingKeys(t,i,r){this.Ur.Sr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Ur.vr(i);return W.resolve(r)}containsKey(t,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Rh(0),this.zr=!1,this.zr=!0,this.jr=new g2,this.referenceDelegate=t(this),this.Hr=new T2(this),this.indexManager=new s2,this.remoteDocumentCache=function(o){return new v2(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new n2(i),this.Yr=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new p2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.Wr[t.toKey()];return r||(r=new y2(i,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new E2(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,i){return W.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,i)))}}class E2 extends XC{constructor(t){super(),this.currentSequenceNumber=t}}class Vp{constructor(t){this.persistence=t,this.ti=new Dp,this.ni=null}static ri(t){return new Vp(t)}get ii(){if(this.ni)return this.ni;throw Ct()}addReference(t,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),W.resolve()}removeReference(t,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,r=>{const o=bt.fromPath(r);return this.si(t,o).next(u=>{u||i.removeEntry(o,Vt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class dh{constructor(t,i){this.persistence=t,this.oi=new la(r=>WC(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=c2(this,i)}static ri(t,i){return new dh(t,i)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}sr(t){let i=0;return this.rr(t,r=>{i++}).next(()=>i)}rr(t,i){return W.forEach(this.oi,(r,o)=>this.ar(t,r,o).next(u=>u?W.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,i).next(d=>{d||(r++,u.removeEntry(h,Vt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=$c(t.data.value)),i}ar(t,i,r){return W.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Hi=r,this.Ji=o}static Yi(t,i){let r=jt(),o=jt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yR()?8:$C(pR())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.rs(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new A2;return this._s(t,i,h).next(d=>{if(u.result=d,this.Xi)return this.us(t,i,h,d.size)})}).next(()=>u.result)}us(t,i,r,o){return r.documentReadCount<this.es?(Ja()<=Qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ja()<=Qt.DEBUG&&mt("QueryEngine","Query:",to(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Ja()<=Qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):W.resolve())}rs(t,i){if(y_(i))return W.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Om(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=jt(...u);return this.ns.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.cs(i,d);return this.ls(i,g,h,p.readTime)?this.rs(t,Om(i,null,"F")):this.hs(t,g,i,p)}))})))}ss(t,i,r,o){return y_(i)||o.isEqual(Vt.min())?W.resolve(null):this.ns.getDocuments(t,r).next(u=>{const h=this.cs(i,u);return this.ls(i,h,r,o)?W.resolve(null):(Ja()<=Qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(i)),this.hs(t,h,i,GC(o,$l)).next(d=>d))})}cs(t,i){let r=new Ue(fA(t));return i.forEach((o,u)=>{xh(t,u)&&(r=r.add(u))}),r}ls(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,i,r){return Ja()<=Qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",to(i)),this.ns.getDocumentsMatchingQuery(t,i,sr.min(),r)}hs(t,i,r,o){return this.ns.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",S2=3e8;class w2{constructor(t,i,r,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new de(kt),this.Is=new la(u=>Ep(u),Ap),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function R2(n,t,i,r){return new w2(n,t,i,r)}async function UA(n,t){const i=xt(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.As(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=jt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function C2(n,t){const i=xt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,S=E.keys();let V=W.resolve();return S.forEach(U=>{V=V.next(()=>v.getEntry(p,U)).next(j=>{const k=g.docVersions.get(U);te(k!==null),j.version.compareTo(k)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=jt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function kA(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function D2(n,t){const i=xt(n),r=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const d=[];t.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;d.push(i.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.Hr.addMatchingKeys(u,v.addedDocuments,E)));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(en.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,r)),o=o.insert(E,V),function(j,k,Q){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=S2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,V,v)&&d.push(i.Hr.updateTargetData(u,V))});let p=fs(),g=jt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(V2(u,h,t.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!r.isEqual(Vt.min())){const v=i.Hr.getLastRemoteSnapshotVersion(u).next(E=>i.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return W.waitFor(d).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ts=o,u))}function V2(n,t,i){let r=jt(),o=jt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=fs();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Vt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):mt(xp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function M2(n,t){const i=xt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=vp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function x2(n,t){const i=xt(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Hr.getTargetData(r,t).next(u=>u?(o=u,W.resolve(o)):i.Hr.allocateTargetId(r).next(h=>(o=new Zs(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(t,r.targetId)),r})}async function km(n,t,i){const r=xt(n),o=r.Ts.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ao(h))throw h;mt(xp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ts=r.Ts.remove(t),r.Is.delete(o.target)}function M_(n,t,i){const r=xt(n);let o=Vt.min(),u=jt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=xt(p),S=E.Is.get(v);return S!==void 0?W.resolve(E.Ts.get(S)):E.Hr.getTargetData(g,v)}(r,h,Vi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(h,t,i?o:Vt.min(),i?u:jt())).next(d=>(I2(r,vD(t),d),{documents:d,gs:u})))}function I2(n,t,i){let r=n.Es.get(t)||Vt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Es.set(t,r)}class x_{constructor(){this.activeTargetIds=SD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O2{constructor(){this.ho=new x_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,r){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new x_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class O_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(I_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){mt(I_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Bm(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="RestConnection",P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(t,i,r,o,u){const h=Bm(),d=this.bo(t,i.toUriEncodedString());mt(sm,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,d,p,r).then(g=>(mt(sm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw uo(sm,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",r),g})}Co(t,i,r,o,u,h){return this.So(t,i,r,o,u)}Do(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}bo(t,i){const r=P2[t];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class k2 extends L2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,r,o){const u=Bm();return new Promise((h,d)=>{const p=new jE;p.setWithCredentials(!0),p.listenOnce(FE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Xc.NO_ERROR:const v=p.getResponseJson();mt(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Xc.TIMEOUT:mt(on,`RPC '${t}' ${u} timed out`),d(new Et(it.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const E=p.getStatus();if(mt(on,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const U=function(k){const Q=k.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Q)>=0?Q:it.UNKNOWN}(V.status);d(new Et(U,V.message))}else d(new Et(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Et(it.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{mt(on,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);mt(on,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}Wo(t,i,r){const o=Bm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=GE(),d=HE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(on,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);let S=!1,V=!1;const U=new U2({Fo:k=>{V?mt(on,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(mt(on,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),mt(on,`RPC '${t}' stream ${o} sending:`,k),E.send(k))},Mo:()=>E.close()}),j=(k,Q,tt)=>{k.listen(Q,nt=>{try{tt(nt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return j(E,Il.EventType.OPEN,()=>{V||(mt(on,`RPC '${t}' stream ${o} transport opened.`),U.Qo())}),j(E,Il.EventType.CLOSE,()=>{V||(V=!0,mt(on,`RPC '${t}' stream ${o} transport closed`),U.Uo())}),j(E,Il.EventType.ERROR,k=>{V||(V=!0,uo(on,`RPC '${t}' stream ${o} transport errored:`,k),U.Uo(new Et(it.UNAVAILABLE,"The operation could not be completed")))}),j(E,Il.EventType.MESSAGE,k=>{var Q;if(!V){const tt=k.data[0];te(!!tt);const nt=tt,_t=(nt==null?void 0:nt.error)||((Q=nt[0])===null||Q===void 0?void 0:Q.error);if(_t){mt(on,`RPC '${t}' stream ${o} received error:`,_t);const rt=_t.status;let gt=function(C){const x=Ve[C];if(x!==void 0)return wA(x)}(rt),O=_t.message;gt===void 0&&(gt=it.INTERNAL,O="Unknown error status: "+rt+" with message "+_t.message),V=!0,U.Uo(new Et(gt,O)),E.close()}else mt(on,`RPC '${t}' stream ${o} received:`,tt),U.Ko(tt)}}),j(d,qE.STAT_EVENT,k=>{k.stat===Cm.PROXY?mt(on,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Cm.NOPROXY&&mt(on,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new FD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=i,this.Go=r,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class zA{constructor(t,i,r,o,u,h,d,p){this.Ti=t,this.n_=r,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BA(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===i&&this.V_(r,o)},r=>{t(()=>{const o=new Et(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(t,i){const r=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return mt(N_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(mt(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends zA{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=GD(this.serializer,t),r=function(u){if(!("targetChange"in u))return Vt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Vt.min():h.readTime?xi(h.readTime):Vt.min()}(t);return this.listener.p_(i,r)}y_(t){const i={};i.database=Um(this.serializer),i.addTarget=function(u,h){let d;const p=h.target;if(d=Im(p)?{documents:YD(u,p)}:{query:XD(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=DA(u,h.resumeToken);const g=Nm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Vt.min())>0){d.readTime=fh(u,h.snapshotVersion.toTimestamp());const g=Nm(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=ZD(this.serializer,t);r&&(i.labels=r),this.I_(i)}w_(t){const i={};i.database=Um(this.serializer),i.removeTarget=t,this.I_(i)}}class z2 extends zA{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return te(!!t.streamToken),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=QD(t.writeResults,t.commitTime),r=xi(t.commitTime);return this.listener.v_(r,i)}C_(){const t={};t.database=Um(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>KD(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class F2 extends j2{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Pm(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(it.UNKNOWN,u.toString())})}Co(t,i,r,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(t,Pm(i,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(it.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hs(i),this.N_=!1):mt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class H2{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{r.enqueueAndForget(async()=>{ua(this)&&(mt(ra,"Restarting streams for network reachability change."),await async function(p){const g=xt(p);g.W_.add(4),await mu(g),g.j_.set("Unknown"),g.W_.delete(4),await Lh(g)}(this))})}),this.j_=new q2(r,o)}}async function Lh(n){if(ua(n))for(const t of n.G_)await t(!0)}async function mu(n){for(const t of n.G_)await t(!1)}function jA(n,t){const i=xt(n);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Pp(i)?Np(i):bo(i).c_()&&Op(i,t))}function Ip(n,t){const i=xt(n),r=bo(i);i.K_.delete(t),r.c_()&&FA(i,t),i.K_.size===0&&(r.c_()?r.P_():ua(i)&&i.j_.set("Unknown"))}function Op(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(n).y_(t)}function FA(n,t){n.H_.Ne(t),bo(n).w_(t)}function Np(n){n.H_=new kD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),bo(n).start(),n.j_.B_()}function Pp(n){return ua(n)&&!bo(n).u_()&&n.K_.size>0}function ua(n){return xt(n).W_.size===0}function qA(n){n.H_=void 0}async function G2(n){n.j_.set("Online")}async function K2(n){n.K_.forEach((t,i)=>{Op(n,t)})}async function Q2(n,t){qA(n),Pp(n)?(n.j_.q_(t),Np(n)):n.j_.set("Unknown")}async function Y2(n,t,i){if(n.j_.set("Online"),t instanceof CA&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(n,t)}catch(r){mt(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await mh(n,r)}else if(t instanceof Jc?n.H_.We(t):t instanceof RA?n.H_.Ze(t):n.H_.je(t),!i.isEqual(Vt.min()))try{const r=await kA(n.localStore);i.compareTo(r)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),FA(u,p);const E=new Zs(v.target,p,g,v.sequenceNumber);Op(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){mt(ra,"Failed to raise snapshot:",r),await mh(n,r)}}async function mh(n,t,i){if(!Ao(t))throw t;n.W_.add(1),await mu(n),n.j_.set("Offline"),i||(i=()=>kA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{mt(ra,"Retrying IndexedDB access"),await i(),n.W_.delete(1),await Lh(n)})}function HA(n,t){return t().catch(i=>mh(n,i,t))}async function Uh(n){const t=xt(n),i=lr(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:vp;for(;X2(t);)try{const o=await M2(t.localStore,r);if(o===null){t.U_.length===0&&i.P_();break}r=o.batchId,$2(t,o)}catch(o){await mh(t,o)}GA(t)&&KA(t)}function X2(n){return ua(n)&&n.U_.length<10}function $2(n,t){n.U_.push(t);const i=lr(n);i.c_()&&i.S_&&i.b_(t.mutations)}function GA(n){return ua(n)&&!lr(n).u_()&&n.U_.length>0}function KA(n){lr(n).start()}async function Z2(n){lr(n).C_()}async function W2(n){const t=lr(n);for(const i of n.U_)t.b_(i.mutations)}async function J2(n,t,i){const r=n.U_.shift(),o=wp.from(r,t,i);await HA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Uh(n)}async function tV(n,t){t&&lr(n).S_&&await async function(r,o){if(function(h){return LD(h)&&h!==it.ABORTED}(o.code)){const u=r.U_.shift();lr(r).h_(),await HA(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(r)}}(n,t),GA(n)&&KA(n)}async function P_(n,t){const i=xt(n);i.asyncQueue.verifyOperationInProgress(),mt(ra,"RemoteStore received new credentials");const r=ua(i);i.W_.add(3),await mu(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Lh(i)}async function eV(n,t){const i=xt(n);t?(i.W_.delete(2),await Lh(i)):t||(i.W_.add(2),await mu(i),i.j_.set("Unknown"))}function bo(n){return n.J_||(n.J_=function(i,r,o){const u=xt(i);return u.M_(),new B2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:G2.bind(null,n),No:K2.bind(null,n),Lo:Q2.bind(null,n),p_:Y2.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),Pp(n)?Np(n):n.j_.set("Unknown")):(await n.J_.stop(),qA(n))})),n.J_}function lr(n){return n.Y_||(n.Y_=function(i,r,o){const u=xt(i);return u.M_(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Z2.bind(null,n),Lo:tV.bind(null,n),D_:W2.bind(null,n),v_:J2.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Uh(n)):(await n.Y_.stop(),n.U_.length>0&&(mt(ra,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new Lp(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(n,t){if(hs("AsyncQueue",`${t}: ${n}`),Ao(n))return new Et(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||bt.comparator(i.key,r.key):(i,r)=>bt.comparator(i.key,r.key),this.keyedMap=Ol(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.Z_=new de(bt.comparator)}track(t){const i=t.doc.key,r=this.Z_.get(i);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(i):t.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Ct():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,r)=>{t.push(r)}),t}}class po{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(d=>{h.push({type:0,doc:d})}),new po(t,i,lo.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class iV{constructor(){this.queries=U_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const o=xt(i),u=o.queries;o.queries=U_(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(r)})})(this,new Et(it.ABORTED,"Firestore shutting down"))}}function U_(){return new la(n=>hA(n),Mh)}async function sV(n,t){const i=xt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.na()&&t.ra()&&(r=2):(u=new nV,r=t.ra()?0:1);try{switch(r){case 0:u.ea=await i.onListen(o,!0);break;case 1:u.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=Up(h,`Initialization of query '${to(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.ta.push(t),t.sa(i.onlineState),u.ea&&t.oa(u.ea)&&kp(i)}async function rV(n,t){const i=xt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function aV(n,t){const i=xt(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(r=!0);h.ea=o}}r&&kp(i)}function oV(n,t,i){const r=xt(n),o=r.queries.get(t);if(o)for(const u of o.ta)u.onError(i);r.queries.delete(t)}function kp(n){n.ia.forEach(t=>{t.next()})}var zm,k_;(k_=zm||(zm={}))._a="default",k_.Cache="cache";class lV{constructor(t,i,r){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new po(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.key=t}}class YA{constructor(t){this.key=t}}class uV{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jt(),this.mutatedKeys=jt(),this.ya=fA(t),this.wa=new lo(this.ya)}get Sa(){return this.fa}ba(t,i){const r=i?i.Da:new L_,o=i?i.wa:this.wa;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const S=o.get(v),V=xh(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),j=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;S&&V?S.data.isEqual(V.data)?U!==j&&(r.track({type:3,doc:V}),k=!0):this.va(S,V)||(r.track({type:2,doc:V}),k=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(d=!0)):!S&&V?(r.track({type:0,doc:V}),k=!0):S&&!V&&(r.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(V?(h=h.add(V),u=j?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{wa:h,Da:r,ls:d,mutatedKeys:u}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((v,E)=>function(V,U){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return j(V)-j(U)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(r),o=o!=null&&o;const d=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new po(this.query,t.wa,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new L_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=jt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return t.forEach(r=>{this.pa.has(r)||i.push(new YA(r))}),this.pa.forEach(r=>{t.has(r)||i.push(new QA(r))}),i}Oa(t){this.fa=t.gs,this.pa=jt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return po.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bp="SyncEngine";class cV{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class hV{constructor(t){this.key=t,this.Ba=!1}}class fV{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new la(d=>hA(d),Mh),this.qa=new Map,this.Qa=new Set,this.$a=new de(bt.comparator),this.Ua=new Map,this.Ka=new Dp,this.Wa={},this.Ga=new Map,this.za=mo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function dV(n,t,i=!0){const r=tb(n);let o;const u=r.ka.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await XA(r,t,i,!0),o}async function mV(n,t){const i=tb(n);await XA(i,t,!0,!1)}async function XA(n,t,i,r){const o=await x2(n.localStore,Vi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await pV(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&jA(n.remoteStore,o),d}async function pV(n,t,i,r,o){n.Ha=(E,S,V)=>async function(j,k,Q,tt){let nt=k.view.ba(Q);nt.ls&&(nt=await M_(j.localStore,k.query,!1).then(({documents:O})=>k.view.ba(O,nt)));const _t=tt&&tt.targetChanges.get(k.targetId),rt=tt&&tt.targetMismatches.get(k.targetId)!=null,gt=k.view.applyChanges(nt,j.isPrimaryClient,_t,rt);return z_(j,k.targetId,gt.Ma),gt.snapshot}(n,E,S,V);const u=await M_(n.localStore,t,!0),h=new uV(t,u.gs),d=h.ba(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);z_(n,i,g.Ma);const v=new cV(t,i,h);return n.ka.set(t,v),n.qa.has(i)?n.qa.get(i).push(t):n.qa.set(i,[t]),g.snapshot}async function gV(n,t,i){const r=xt(n),o=r.ka.get(t),u=r.qa.get(o.targetId);if(u.length>1)return r.qa.set(o.targetId,u.filter(h=>!Mh(h,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ip(r.remoteStore,o.targetId),jm(r,o.targetId)}).catch(Eo)):(jm(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function yV(n,t){const i=xt(n),r=i.ka.get(t),o=i.qa.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ip(i.remoteStore,r.targetId))}async function vV(n,t,i){const r=wV(n);try{const o=await function(h,d){const p=xt(h),g=Le.now(),v=d.reduce((V,U)=>V.add(U.key),jt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=fs(),j=jt();return p.ds.getEntries(V,v).next(k=>{U=k,U.forEach((Q,tt)=>{tt.isValidDocument()||(j=j.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,U)).next(k=>{E=k;const Q=[];for(const tt of d){const nt=xD(tt,E.get(tt.key).overlayedDocument);nt!=null&&Q.push(new mr(tt.key,nt,sA(nt.value.mapValue),Mi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Q,d)}).next(k=>{S=k;const Q=k.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(V,k.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:mA(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new de(kt)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(r,o.batchId,i),await pu(r,o.changes),await Uh(r.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");i.reject(u)}}async function $A(n,t){const i=xt(n);try{const r=await D2(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i.Ua.get(u);h&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?te(h.Ba):o.removedDocuments.size>0&&(te(h.Ba),h.Ba=!1))}),await pu(i,r,t)}catch(r){await Eo(r)}}function B_(n,t,i){const r=xt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ka.forEach((u,h)=>{const d=h.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xt(h);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.ta)S.sa(d)&&(g=!0)}),g&&kp(p)}(r.eventManager,t),o.length&&r.La.p_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _V(n,t,i){const r=xt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Ua.get(t),u=o&&o.key;if(u){let h=new de(bt.comparator);h=h.insert(u,cn.newNoDocument(u,Vt.min()));const d=jt().add(u),p=new Nh(Vt.min(),new Map,new de(kt),h,d);await $A(r,p),r.$a=r.$a.remove(u),r.Ua.delete(t),zp(r)}else await km(r.localStore,t,!1).then(()=>jm(r,t,i)).catch(Eo)}async function TV(n,t){const i=xt(n),r=t.batch.batchId;try{const o=await C2(i.localStore,t);WA(i,r,null),ZA(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await pu(i,o)}catch(o){await Eo(o)}}async function EV(n,t,i){const r=xt(n);try{const o=await function(h,d){const p=xt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(te(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(r.localStore,t);WA(r,t,i),ZA(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await pu(r,o)}catch(o){await Eo(o)}}function ZA(n,t){(n.Ga.get(t)||[]).forEach(i=>{i.resolve()}),n.Ga.delete(t)}function WA(n,t,i){const r=xt(n);let o=r.Wa[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Wa[r.currentUser.toKey()]=o}}function jm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.qa.get(t))n.ka.delete(r),i&&n.La.Ja(r,i);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(r=>{n.Ka.containsKey(r)||JA(n,r)})}function JA(n,t){n.Qa.delete(t.path.canonicalString());const i=n.$a.get(t);i!==null&&(Ip(n.remoteStore,i),n.$a=n.$a.remove(t),n.Ua.delete(i),zp(n))}function z_(n,t,i){for(const r of i)r instanceof QA?(n.Ka.addReference(r.key,t),AV(n,r)):r instanceof YA?(mt(Bp,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,t),n.Ka.containsKey(r.key)||JA(n,r.key)):Ct()}function AV(n,t){const i=t.key,r=i.path.canonicalString();n.$a.get(i)||n.Qa.has(r)||(mt(Bp,"New document in limbo: "+i),n.Qa.add(r),zp(n))}function zp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const i=new bt(oe.fromString(t)),r=n.za.next();n.Ua.set(r,new hV(i)),n.$a=n.$a.insert(i,r),jA(n.remoteStore,new Zs(Vi(bp(i.path)),r,"TargetPurposeLimboResolution",Rh.ae))}}async function pu(n,t,i){const r=xt(n),o=[],u=[],h=[];r.ka.isEmpty()||(r.ka.forEach((d,p)=>{h.push(r.Ha(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Mp.Yi(p.targetId,g);u.push(E)}}))}),await Promise.all(h),r.La.p_(o),await async function(p,g){const v=xt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>W.forEach(g,S=>W.forEach(S.Hi,V=>v.persistence.referenceDelegate.addReference(E,S.targetId,V)).next(()=>W.forEach(S.Ji,V=>v.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))}catch(E){if(!Ao(E))throw E;mt(xp,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const V=v.Ts.get(S),U=V.snapshotVersion,j=V.withLastLimboFreeSnapshotVersion(U);v.Ts=v.Ts.insert(S,j)}}}(r.localStore,u))}async function bV(n,t){const i=xt(n);if(!i.currentUser.isEqual(t)){mt(Bp,"User change. New user:",t.toKey());const r=await UA(i.localStore,t);i.currentUser=t,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Et(it.CANCELLED,h))})}),u.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pu(i,r.Rs)}}function SV(n,t){const i=xt(n),r=i.Ua.get(t);if(r&&r.Ba)return jt().add(r.key);{let o=jt();const u=i.qa.get(t);if(!u)return o;for(const h of u){const d=i.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function tb(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_V.bind(null,t),t.La.p_=aV.bind(null,t.eventManager),t.La.Ja=oV.bind(null,t.eventManager),t}function wV(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EV.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return R2(this.persistence,new b2,t.initialUser,this.serializer)}Xa(t){return new LA(Vp.ri,this.serializer)}Za(t){return new O2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class RV extends ph{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){te(this.persistence.referenceDelegate instanceof dh);const r=this.persistence.referenceDelegate.garbageCollector;return new l2(r,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new LA(r=>dh.ri(r,i),this.serializer)}}class Fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bV.bind(null,this.syncEngine),await eV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iV}()}createDatastore(t){const i=Ph(t.databaseInfo.databaseId),r=function(u){return new k2(u)}(t.databaseInfo);return function(u,h,d,p){return new F2(u,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,d){return new H2(r,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,i=>B_(this.syncEngine,i,0),function(){return O_.D()?new O_:new N2}())}createSyncEngine(t,i){return function(o,u,h,d,p,g,v){const E=new fV(o,u,h,d,p,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=xt(o);mt(ra,"RemoteStore shutting down."),u.W_.add(5),await mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="FirestoreClient";class DV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{mt(ur,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(mt(ur,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Up(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function am(n,t){n.asyncQueue.verifyOperationInProgress(),mt(ur,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await UA(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function j_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await VV(n);mt(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>P_(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>P_(t.remoteStore,o)),n._onlineComponents=t}async function VV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(ur,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await am(n,new ph)}}else mt(ur,"Using default OfflineComponentProvider"),await am(n,new RV(void 0));return n._offlineComponents}async function eb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(ur,"Using user provided OnlineComponentProvider"),await j_(n,n._uninitializedComponentsProvider._online)):(mt(ur,"Using default OnlineComponentProvider"),await j_(n,new Fm))),n._onlineComponents}function MV(n){return eb(n).then(t=>t.syncEngine)}async function F_(n){const t=await eb(n),i=t.eventManager;return i.onListen=dV.bind(null,t.syncEngine),i.onUnlisten=gV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yV.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n,t,i){if(!i)throw new Et(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xV(n,t,i,r){if(t===!0&&r===!0)throw new Et(it.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function H_(n){if(!bt.isDocumentKey(n))throw new Et(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G_(n){if(bt.isDocumentKey(n))throw new Et(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ct()}function er(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Et(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jp(n);throw new Et(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firestore.googleapis.com",K_=!0;class Q_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sb,this.ssl=K_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:K_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<a2)throw new Et(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LC;switch(r.type){case"firstParty":return new zC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=q_.get(i);r&&(mt("ComponentProvider","Removing Datastore"),q_.delete(i),r.terminate())}(this),Promise.resolve()}}function IV(n,t,i,r={}){var o;const u=(n=er(n,kh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==sb&&u.host!==d&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!Yl(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=un.MOCK_USER;else{g=mR(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Et(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(E)}n._authCredentials=new UC(new KE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Bh(this.firestore,t,this._query)}}class bn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}}class nr extends Bh{constructor(t,i,r){super(t,i,bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new bt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function OV(n,t,...i){if(n=oi(n),ib("collection","path",t),n instanceof kh){const r=oe.fromString(t,...i);return G_(r),new nr(n,null,r)}{if(!(n instanceof bn||n instanceof nr))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...i));return G_(r),new nr(n.firestore,null,r)}}function Gc(n,t,...i){if(n=oi(n),arguments.length===1&&(t=YE.newId()),ib("doc","path",t),n instanceof kh){const r=oe.fromString(t,...i);return H_(r),new bn(n,null,new bt(r))}{if(!(n instanceof bn||n instanceof nr))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...i));return H_(r),new bn(n.firestore,n instanceof nr?n.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="AsyncQueue";class X_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BA(this,"async_queue_retry"),this.Su=()=>{const r=rm();r&&mt(Y_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const i=rm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=rm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new na;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ao(t))throw t;mt(Y_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(r);throw hs("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(t,i,r){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Lp.createAndSchedule(this,t,i,r,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ct()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function $_(n){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class iu extends kh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new X_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X_(t),this._firestoreClient=void 0,await t}}}function NV(n,t){const i=typeof n=="object"?n:UE(),r=typeof n=="string"?n:oh,o=hu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=fR("firestore");u&&IV(o,...u)}return o}function rb(n){if(n._terminated)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PV(n),n._firestoreClient}function PV(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new eD(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,nb(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new DV(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this._byteString=t}static fromBase64String(t){try{return new go(en.fromBase64String(t))}catch(i){throw new Et(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new go(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new Et(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Et(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Et(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=/^__.*__$/;class UV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new mr(t,this.data,this.fieldMask,i,this.fieldTransforms):new fu(t,this.data,i,this.fieldTransforms)}}class ab{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new mr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ob(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class Hp{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:r,Qu:!1});return o.$u(t),o}Uu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return gh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ob(this.Lu)&&LV.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class kV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ph(t)}ju(t,i,r,o=!1){return new Hp({Lu:t,methodName:i,zu:r,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lb(n){const t=n._freezeSettings(),i=Ph(n._databaseId);return new kV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function BV(n,t,i,r,o,u={}){const h=n.ju(u.merge||u.mergeFields?2:0,t,i,o);Kp("Data must be an object, but it was:",h,r);const d=ub(r,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=qm(t,E,i);if(!h.contains(S))throw new Et(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hb(v,S)||v.push(S)}p=new In(v),g=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=h.fieldTransforms;return new UV(new An(d),p,g)}class Fh extends jh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fh}}class Gp extends jh{constructor(t,i){super(t),this.Ju=i}_toFieldTransform(t){const i=new nu(t.serializer,yA(t.serializer,this.Ju));return new CD(t.path,i)}isEqual(t){return t instanceof Gp&&this.Ju===t.Ju}}function zV(n,t,i,r){const o=n.ju(1,t,i);Kp("Data must be an object, but it was:",o,r);const u=[],h=An.empty();dr(r,(p,g)=>{const v=Qp(t,p,i);g=oi(g);const E=o.Uu(v);if(g instanceof Fh)u.push(v);else{const S=qh(g,E);S!=null&&(u.push(v),h.set(v,S))}});const d=new In(u);return new ab(h,d,o.fieldTransforms)}function jV(n,t,i,r,o,u){const h=n.ju(1,t,i),d=[qm(t,r,i)],p=[o];if(u.length%2!=0)throw new Et(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(qm(t,u[S])),p.push(u[S+1]);const g=[],v=An.empty();for(let S=d.length-1;S>=0;--S)if(!hb(g,d[S])){const V=d[S];let U=p[S];U=oi(U);const j=h.Uu(V);if(U instanceof Fh)g.push(V);else{const k=qh(U,j);k!=null&&(g.push(V),v.set(V,k))}}const E=new In(g);return new ab(v,E,h.fieldTransforms)}function qh(n,t){if(cb(n=oi(n)))return Kp("Unsupported field value:",t,n),ub(n,t);if(n instanceof jh)return function(r,o){if(!ob(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=qh(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Le.fromDate(r);return{timestampValue:fh(o.serializer,u)}}if(r instanceof Le){const u=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(r instanceof Fp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof go)return{bytesValue:DA(o.serializer,r._byteString)};if(r instanceof bn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof qp)return function(h,d){return{mapValue:{fields:{[nA]:{stringValue:iA},[lh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Sp(d.serializer,g)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${jp(r)}`)}(n,t)}function ub(n,t){const i={};return $E(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dr(n,(r,o)=>{const u=qh(o,t.qu(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function cb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof Fp||n instanceof go||n instanceof bn||n instanceof jh||n instanceof qp)}function Kp(n,t,i){if(!cb(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=jp(i);throw r==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+r)}}function qm(n,t,i){if((t=oi(t))instanceof zh)return t._internalPath;if(typeof t=="string")return Qp(n,t);throw gh("Field path arguments must be of type string or ",n,!1,void 0,i)}const FV=new RegExp("[~\\*/\\[\\]]");function Qp(n,t,i){if(t.search(FV)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new zh(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function gh(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new Et(it.INVALID_ARGUMENT,d+n+p)}function hb(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(db("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qV extends fb{data(){return super.data()}}function db(n,t){return typeof t=="string"?Qp(n,t):t instanceof zh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GV{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return dr(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[lh].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>Se(h.doubleValue));return new qp(u)}convertGeoPoint(t){return new Fp(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Dh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(t));default:return null}}convertTimestamp(t){const i=rr(t);return new Le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=oe.fromString(t);te(NA(r));const o=new Wl(r.get(1),r.get(3)),u=new bt(r.popFirst(5));return o.isEqual(i)||hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n,t,i){let r;return r=n?n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mb extends fb{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(db("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class th extends mb{data(t={}){return super.data(t)}}class QV{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Et(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:YV(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function YV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}class pb extends GV{constructor(t){super(),this.firestore=t}convertBytes(t){return new go(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function Z_(n,t,i){n=er(n,bn);const r=er(n.firestore,iu),o=KV(n.converter,t);return gb(r,[BV(lb(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Mi.none())])}function W_(n,t,i,...r){n=er(n,bn);const o=er(n.firestore,iu),u=lb(o);let h;return h=typeof(t=oi(t))=="string"||t instanceof zh?jV(u,"updateDoc",n._key,t,i,r):zV(u,"updateDoc",n._key,t),gb(o,[h.toMutation(n._key,Mi.exists(!0))])}function XV(n,...t){var i,r,o;n=oi(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||$_(t[h])||(u=t[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if($_(t[h])){const E=t[h];t[h]=(i=E.next)===null||i===void 0?void 0:i.bind(E),t[h+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),t[h+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,g,v;if(n instanceof bn)g=er(n.firestore,iu),v=bp(n._key.path),p={next:E=>{t[h]&&t[h]($V(g,n,E))},error:t[h+1],complete:t[h+2]};else{const E=er(n,Bh);g=er(E.firestore,iu),v=E._query;const S=new pb(g);p={next:V=>{t[h]&&t[h](new QV(g,S,E,V))},error:t[h+1],complete:t[h+2]},HV(n._query)}return function(S,V,U,j){const k=new CV(j),Q=new lV(V,k,U);return S.asyncQueue.enqueueAndForget(async()=>sV(await F_(S),Q)),()=>{k.su(),S.asyncQueue.enqueueAndForget(async()=>rV(await F_(S),Q))}}(rb(g),v,d,p)}function gb(n,t){return function(r,o){const u=new na;return r.asyncQueue.enqueueAndForget(async()=>vV(await MV(r),o,u)),u.promise}(rb(n),t)}function $V(n,t,i){const r=i.docs.get(t._key),o=new pb(n);return new mb(n,o,t._key,r,new Pl(i.hasPendingWrites,i.fromCache),t.converter)}function wi(n){return new Gp("increment",n)}(function(t,i=!0){(function(o){To=o})(bC),ir(new us("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new iu(new kC(r.getProvider("auth-internal")),new jC(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Et(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Di(t_,e_,t),Di(t_,e_,"esm2017")})();const yb="@firebase/installations",Yp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1e4,_b=`w:${Yp}`,Tb="FIS_v2",ZV="https://firebaseinstallations.googleapis.com/v1",WV=60*60*1e3,JV="installations",tM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},aa=new wh(JV,tM,eM);function Eb(n){return n instanceof fr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab({projectId:n}){return`${ZV}/projects/${n}/installations`}function bb(n){return{token:n.token,requestStatus:2,expiresIn:iM(n.expiresIn),creationTime:Date.now()}}async function Sb(n,t){const r=(await t.json()).error;return aa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function wb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function nM(n,{refreshToken:t}){const i=wb(n);return i.append("Authorization",sM(t)),i}async function Rb(n){const t=await n();return t.status>=500&&t.status<600?n():t}function iM(n){return Number(n.replace("s","000"))}function sM(n){return`${Tb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=Ab(n),o=wb(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:Tb,appId:n.appId,sdkVersion:_b},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Rb(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:bb(g.authToken)}}else throw await Sb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^[cdef][\w-]{21}$/,Hm="";function lM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=uM(n);return oM.test(i)?i:Hm}catch{return Hm}}function uM(n){return aM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function Vb(n,t){const i=Hh(n);Mb(i,t),cM(i,t)}function Mb(n,t){const i=Db.get(n);if(i)for(const r of i)r(t)}function cM(n,t){const i=hM();i&&i.postMessage({key:n,fid:t}),fM()}let Jr=null;function hM(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=n=>{Mb(n.data.key,n.data.fid)}),Jr}function fM(){Db.size===0&&Jr&&(Jr.close(),Jr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firebase-installations-database",mM=1,oa="firebase-installations-store";let om=null;function Xp(){return om||(om=PE(dM,mM,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(oa)}}})),om}async function yh(n,t){const i=Hh(n),o=(await Xp()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&Vb(n,t.fid),t}async function xb(n){const t=Hh(n),r=(await Xp()).transaction(oa,"readwrite");await r.objectStore(oa).delete(t),await r.done}async function Gh(n,t){const i=Hh(n),o=(await Xp()).transaction(oa,"readwrite"),u=o.objectStore(oa),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&Vb(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(n){let t;const i=await Gh(n.appConfig,r=>{const o=pM(r),u=gM(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===Hm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function pM(n){const t=n||{fid:lM(),registrationStatus:0};return Ib(t)}function gM(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(aa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=yM(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vM(n)}:{installationEntry:t}}async function yM(n,t){try{const i=await rM(n,t);return yh(n.appConfig,i)}catch(i){throw Eb(i)&&i.customData.serverCode===409?await xb(n.appConfig):await yh(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function vM(n){let t=await J_(n.appConfig);for(;t.registrationStatus===1;)await Cb(100),t=await J_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await $p(n);return r||i}return t}function J_(n){return Gh(n,t=>{if(!t)throw aa.create("installation-not-found");return Ib(t)})}function Ib(n){return _M(n)?{fid:n.fid,registrationStatus:0}:n}function _M(n){return n.registrationStatus===1&&n.registrationTime+vb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM({appConfig:n,heartbeatServiceProvider:t},i){const r=EM(n,i),o=nM(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:_b,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Rb(()=>fetch(r,d));if(p.ok){const g=await p.json();return bb(g)}else throw await Sb("Generate Auth Token",p)}function EM(n,{fid:t}){return`${Ab(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(n,t=!1){let i;const r=await Gh(n.appConfig,u=>{if(!Ob(u))throw aa.create("not-registered");const h=u.authToken;if(!t&&SM(h))return u;if(h.requestStatus===1)return i=AM(n,t),u;{if(!navigator.onLine)throw aa.create("app-offline");const d=RM(u);return i=bM(n,d),d}});return i?await i:r.authToken}async function AM(n,t){let i=await tT(n.appConfig);for(;i.authToken.requestStatus===1;)await Cb(100),i=await tT(n.appConfig);const r=i.authToken;return r.requestStatus===0?Zp(n,t):r}function tT(n){return Gh(n,t=>{if(!Ob(t))throw aa.create("not-registered");const i=t.authToken;return CM(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function bM(n,t){try{const i=await TM(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await yh(n.appConfig,r),i}catch(i){if(Eb(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await xb(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await yh(n.appConfig,r)}throw i}}function Ob(n){return n!==void 0&&n.registrationStatus===2}function SM(n){return n.requestStatus===2&&!wM(n)}function wM(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+WV}function RM(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function CM(n){return n.requestStatus===1&&n.requestTime+vb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n){const t=n,{installationEntry:i,registrationPromise:r}=await $p(t);return r?r.catch(console.error):Zp(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(n,t=!1){const i=n;return await MM(i),(await Zp(i,t)).token}async function MM(n){const{registrationPromise:t}=await $p(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n){if(!n||!n.options)throw lm("App Configuration");if(!n.name)throw lm("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw lm(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function lm(n){return aa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="installations",IM="installations-internal",OM=n=>{const t=n.getProvider("app").getImmediate(),i=xM(t),r=hu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NM=n=>{const t=n.getProvider("app").getImmediate(),i=hu(t,Nb).getImmediate();return{getId:()=>DM(i),getToken:o=>VM(i,o)}};function PM(){ir(new us(Nb,OM,"PUBLIC")),ir(new us(IM,NM,"PRIVATE"))}PM();Di(yb,Yp);Di(yb,Yp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="analytics",LM="firebase_id",UM="origin",kM=60*1e3,BM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new pp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new wh("analytics","Analytics",zM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){if(!n.startsWith(Wp)){const t=On.create("invalid-gtag-resource",{gtagURL:n});return Sn.warn(t.message),""}return n}function Pb(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function FM(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function qM(n,t){const i=FM("firebase-js-sdk-policy",{createScriptURL:jM}),r=document.createElement("script"),o=`${Wp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function HM(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function GM(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await Pb(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){Sn.error(d)}n("config",o,u)}async function KM(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Pb(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Sn.error(u)}}function QM(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await KM(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await GM(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){Sn.error(d)}}return o}function YM(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=QM(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function XM(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Wp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=30,ZM=1e3;class WM{constructor(t={},i=ZM){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Lb=new WM;function JM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tx(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:JM(r)},u=BM.replace("{app-id}",i),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function ex(n,t=Lb,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw On.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw On.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new sx;return setTimeout(async()=>{d.abort()},kM),Ub({appId:r,apiKey:o,measurementId:u},h,d,t)}async function Ub(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=Lb){var u;const{appId:h,measurementId:d}=n;try{await nx(r,t)}catch(p){if(d)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await tx(n);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!ix(g)){if(o.deleteThrottleMetadata(h),d)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?H0(i,o.intervalMillis,$M):H0(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(h,E),Sn.debug(`Calling attemptFetch again in ${v} millis`),Ub(n,E,r,o)}}function nx(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(On.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ix(n){if(!(n instanceof fr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class sx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rx(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h=Object.assign(Object.assign({},r),{send_to:u});n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(){if(dp())try{await mp()}catch(n){return Sn.warn(On.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Sn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ox(n,t,i,r,o,u,h){var d;const p=ex(n);p.then(V=>{i[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Sn.error(V)),t.push(p);const g=ax().then(V=>{if(V)return r.getId()}),[v,E]=await Promise.all([p,g]);XM(u)||qM(u,v.measurementId),o("js",new Date);const S=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return S[UM]="firebase",S.update=!0,E!=null&&(S[LM]=E),o("config",v.measurementId,S),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.app=t}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},eT=[];const nT={};let um="dataLayer",ux="gtag",iT,kb,sT=!1;function cx(){const n=[];if(xE()&&n.push("This is a browser extension environment."),IE()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=On.create("invalid-analytics-context",{errorInfo:t});Sn.warn(i.message)}}function hx(n,t,i){cx();const r=n.options.appId;if(!r)throw On.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(ql[r]!=null)throw On.create("already-exists",{id:r});if(!sT){HM(um);const{wrappedGtag:u,gtagCore:h}=YM(ql,eT,nT,um,ux);kb=u,iT=h,sT=!0}return ql[r]=ox(n,eT,nT,t,iT,um,i),new lx(n)}function fx(n=UE()){n=oi(n);const t=hu(n,vh);return t.isInitialized()?t.getImmediate():dx(n)}function dx(n,t={}){const i=hu(n,vh);if(i.isInitialized()){const o=i.getImmediate();if(Yl(t,i.getOptions()))return o;throw On.create("already-initialized")}return i.initialize({options:t})}async function mx(){if(xE()||!IE()||!dp())return!1;try{return await mp()}catch{return!1}}function Bb(n,t,i,r){n=oi(n),rx(kb,ql[n.app.options.appId],t,i,r).catch(o=>Sn.error(o))}const rT="@firebase/analytics",aT="0.10.12";function px(){ir(new us(vh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return hx(r,o,i)},"PUBLIC")),ir(new us("analytics-internal",n,"PRIVATE")),Di(rT,aT),Di(rT,aT,"esm2017");function n(t){try{const i=t.getProvider(vh).getImmediate();return{logEvent:(r,o,u)=>Bb(i,r,o,u)}}catch(i){throw On.create("interop-component-reg-failed",{reason:i})}}}px();const zb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},jb=LE(zb),Ll=NV(jb);let Gm=null;mx().then(n=>{if(n){let i=function(){dataLayer.push(arguments)};var t=i;Gm=fx(jb),window.dataLayer=window.dataLayer||[],i("js",new Date),i("config",zb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode")}else console.warn("⚠️ Firebase Analytics not supported on this device.")});function Ci(n,t={}){Gm?(Bb(Gm,n,t),console.log(`📊 Logged: ${n}`,t)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)}function gx({onClose:n}){const[t,i]=yt.useState("de"),r=h=>{h.target.classList.contains("about-modal-overlay")&&(Ci("modal_closed_without_click",{modal:"about"}),u())},o=h=>{i(h)},u=()=>{Ci("about_language_read",{language:t}),n()};return st.jsx("div",{className:"about-modal-overlay",onClick:r,children:st.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[st.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[st.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",st.jsxs("span",{className:"flex gap-2",children:[st.jsx("button",{onClick:()=>o("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),st.jsx("button",{onClick:()=>o("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),st.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),st.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:t==="de"?st.jsxs(st.Fragment,{children:[st.jsx("p",{className:"text-base mb-3",children:"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen."}),st.jsx("p",{className:"text-base mb-3",children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."})]}):st.jsxs(st.Fragment,{children:[st.jsx("p",{className:"text-base mb-3",children:"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation."}),st.jsx("p",{className:"text-base mb-3",children:"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."})]})}),st.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"70px"},children:[st.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),st.jsx("button",{onClick:()=>window.open("https://www.buymeacoffee.com/roiesh","_blank"),className:"controls-button",style:{width:"100%",maxWidth:"200px",textAlign:"center"},children:"Buy me a coffee"})]})]})})}const Fb=yt.createContext({});function yx(n){const t=yt.useRef(null);return t.current===null&&(t.current=n()),t.current}const Jp=typeof window<"u",vx=Jp?yt.useLayoutEffect:yt.useEffect,tg=yt.createContext(null),qb=yt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _x(n=!0){const t=yt.useContext(tg);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=yt.useId();yt.useEffect(()=>{if(n)return o(u)},[n]);const h=yt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}function eg(n,t){n.indexOf(t)===-1&&n.push(t)}function ng(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Nn=n=>n;let Hb=Nn;const Tx={useManualTiming:!1};function ig(n){let t;return()=>(t===void 0&&(t=n()),t)}const yo=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class sg{constructor(){this.subscriptions=[]}add(t){return eg(this.subscriptions,t),()=>ng(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=n=>n*1e3,ls=n=>n/1e3;function Gb(n,t){return t?n*(1e3/t):0}const Ex=ig(()=>window.ScrollTimeline!==void 0);class Ax{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,i){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=i}attachTimeline(t,i){const r=this.animations.map(o=>{if(Ex()&&o.attachTimeline)return o.attachTimeline(t);if(typeof i=="function")return i(o)});return()=>{r.forEach((o,u)=>{o&&o(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bx extends Ax{then(t,i){return Promise.all(this.animations).then(t).catch(i)}}function rg(n,t){return n?n[t]||n.default||n:void 0}const Km=2e4;function Kb(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Km;)t+=i,r=n.next(t);return t>=Km?1/0:t}function ag(n){return typeof n=="function"}function oT(n,t){n.timeline=t,n.onfinish=null}const og=n=>Array.isArray(n)&&typeof n[0]=="number",Sx={linearEasing:void 0};function wx(n,t){const i=ig(n);return()=>{var r;return(r=Sx[t])!==null&&r!==void 0?r:i()}}const _h=wx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qb=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(yo(0,o-1,u))+", ";return`linear(${r.substring(0,r.length-2)})`};function Yb(n){return!!(typeof n=="function"&&_h()||!n||typeof n=="string"&&(n in Qm||_h())||og(n)||Array.isArray(n)&&n.every(Yb))}const Ul=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function Xb(n,t){if(n)return typeof n=="function"&&_h()?Qb(n,t):og(n)?Ul(n):Array.isArray(n)?n.map(i=>Xb(i,t)||Qm.easeOut):Qm[n]}const Kc=["read","resolveKeyframes","update","preRender","render","postRender"],lT={value:null};function Rx(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){h.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,S=!1,V=!1)=>{const j=V&&o?i:r;return S&&h.add(E),j.has(E)||j.add(E),E},cancel:E=>{r.delete(E),h.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&lT.value&&lT.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const Cx=40;function $b(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=Kc.reduce((Q,tt)=>(Q[tt]=Rx(u,t?tt:void 0),Q),{}),{read:d,resolveKeyframes:p,update:g,preRender:v,render:E,postRender:S}=h,V=()=>{const Q=performance.now();i=!1,o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,Cx),1),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(V))},U=()=>{i=!0,r=!0,o.isProcessing||n(V)};return{schedule:Kc.reduce((Q,tt)=>{const nt=h[tt];return Q[tt]=(_t,rt=!1,gt=!1)=>(i||U(),nt.schedule(_t,rt,gt)),Q},{}),cancel:Q=>{for(let tt=0;tt<Kc.length;tt++)h[Kc[tt]].cancel(Q)},state:o,steps:h}}const{schedule:ae,cancel:cr,state:We,steps:cm}=$b(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0),{schedule:lg}=$b(queueMicrotask,!1);let eh;function Dx(){eh=void 0}const Ii={now:()=>(eh===void 0&&Ii.set(We.isProcessing||Tx.useManualTiming?We.timestamp:performance.now()),eh),set:n=>{eh=n,queueMicrotask(Dx)}},ai={x:!1,y:!1};function Zb(){return ai.x||ai.y}function Vx(n){return n==="x"||n==="y"?ai[n]?null:(ai[n]=!0,()=>{ai[n]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function Mx(n,t,i){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const u=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return u?Array.from(u):[]}return Array.from(n)}function Wb(n,t){const i=Mx(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function uT(n){return!(n.pointerType==="touch"||Zb())}function xx(n,t,i={}){const[r,o,u]=Wb(n,i),h=d=>{if(!uT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{uT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}function cT(n,t){const i=`${t}PointerCapture`;if(n.target instanceof Element&&i in n.target&&n.pointerId!==void 0)try{n.target[i](n.pointerId)}catch{}}const Jb=(n,t)=>t?n===t?!0:Jb(n,t.parentElement):!1,ug=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Ix=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ox(n){return Ix.has(n.tagName)||n.tabIndex!==-1}const kl=new WeakSet;function hT(n){return t=>{t.key==="Enter"&&n(t)}}function hm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Nx=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=hT(()=>{if(kl.has(i))return;hm(i,"down");const o=hT(()=>{hm(i,"up")}),u=()=>hm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function fT(n){return ug(n)&&!Zb()}function Px(n,t,i={}){const[r,o,u]=Wb(n,i),h=d=>{const p=d.currentTarget;if(!p||!fT(d)||kl.has(p))return;kl.add(p),cT(d,"set");const g=t(p,d),v=(V,U)=>{p.removeEventListener("pointerup",E),p.removeEventListener("pointercancel",S),cT(V,"release"),!(!fT(V)||!kl.has(p))&&(kl.delete(p),typeof g=="function"&&g(V,{success:U}))},E=V=>{(V.isTrusted?Lx(V,p instanceof Element?p.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(V,!1):v(V,!(p instanceof Element)||Jb(p,V.target))},S=V=>{v(V,!1)};p.addEventListener("pointerup",E,o),p.addEventListener("pointercancel",S,o),p.addEventListener("lostpointercapture",S,o)};return r.forEach(d=>{d=i.useGlobalTarget?window:d;let p=!1;d instanceof HTMLElement&&(p=!0,!Ox(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",h,o),p&&d.addEventListener("focus",g=>Nx(g,o),o)}),u}function Lx(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}const dT=30,Ux=n=>!isNaN(parseFloat(n));class kx{constructor(t,i={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const u=Ii.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ux(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new sg);const r=this.events[t].add(i);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,dT);return Gb(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function su(n,t){return new kx(n,t)}const tS=yt.createContext({strict:!1}),mT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vo={};for(const n in mT)vo[n]={isEnabled:t=>mT[n].some(i=>!!t[i])};function Bx(n){for(const t in n)vo[t]={...vo[t],...n[t]}}const zx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zx.has(n)}let eS=n=>!Th(n);function jx(n){n&&(eS=t=>t.startsWith("on")?!Th(t):n(t))}try{jx(require("@emotion/is-prop-valid").default)}catch{}function Fx(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(eS(o)||i===!0&&Th(o)||!t&&!Th(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function qx(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Kh=yt.createContext({});function Qh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ru(n){return typeof n=="string"||Array.isArray(n)}const cg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hg=["initial",...cg];function Yh(n){return Qh(n.animate)||hg.some(t=>ru(n[t]))}function nS(n){return!!(Yh(n)||n.variants)}function Hx(n,t){if(Yh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||ru(i)?i:void 0,animate:ru(r)?r:void 0}}return n.inherit!==!1?t:{}}function Gx(n){const{initial:t,animate:i}=Hx(n,yt.useContext(Kh));return yt.useMemo(()=>({initial:t,animate:i}),[pT(t),pT(i)])}function pT(n){return Array.isArray(n)?n.join(" "):n}const Kx=Symbol.for("motionComponentSymbol");function io(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Qx(n,t,i){return yt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):io(i)&&(i.current=r))},[t])}const fg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yx="framerAppearId",iS="data-"+fg(Yx),sS=yt.createContext({});function Xx(n,t,i,r,o){var u,h;const{visualElement:d}=yt.useContext(Kh),p=yt.useContext(tS),g=yt.useContext(tg),v=yt.useContext(qb).reducedMotion,E=yt.useRef(null);r=r||p.renderer,!E.current&&r&&(E.current=r(n,{visualState:t,parent:d,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const S=E.current,V=yt.useContext(sS);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&$x(E.current,i,o,V);const U=yt.useRef(!1);yt.useInsertionEffect(()=>{S&&U.current&&S.update(i,g)});const j=i[iS],k=yt.useRef(!!j&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,j))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,j)));return vx(()=>{S&&(U.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),lg.render(S.render),k.current&&S.animationState&&S.animationState.animateChanges())}),yt.useEffect(()=>{S&&(!k.current&&S.animationState&&S.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)===null||Q===void 0||Q.call(window,j)}),k.current=!1))}),S}function $x(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:rS(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&io(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:g})}function rS(n){if(n)return n.options.allowProjection!==!1?n.projection:rS(n.parent)}function Zx({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){var u,h;n&&Bx(n);function d(g,v){let E;const S={...yt.useContext(qb),...g,layoutId:Wx(g)},{isStatic:V}=S,U=Gx(g),j=r(g,V);if(!V&&Jp){Jx();const k=tI(S);E=k.MeasureLayout,U.visualElement=Xx(o,j,S,t,k.ProjectionNode)}return st.jsxs(Kh.Provider,{value:U,children:[E&&U.visualElement?st.jsx(E,{visualElement:U.visualElement,...S}):null,i(o,g,Qx(j,U.visualElement,v),j,V,U.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(h=(u=o.displayName)!==null&&u!==void 0?u:o.name)!==null&&h!==void 0?h:""})`}`;const p=yt.forwardRef(d);return p[Kx]=o,p}function Wx({layoutId:n}){const t=yt.useContext(Fb).id;return t&&n!==void 0?t+"-"+n:n}function Jx(n,t){yt.useContext(tS).strict}function tI(n){const{drag:t,layout:i}=vo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const aS=n=>t=>typeof t=="string"&&t.startsWith(n),dg=aS("--"),eI=aS("var(--"),mg=n=>eI(n)?nI.test(n.split("/*")[0].trim()):!1,nI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,au={};function iI(n){for(const t in n)au[t]=n[t],dg(t)&&(au[t].isCSSVariable=!0)}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set(So);function oS(n,{layout:t,layoutId:i}){return ca.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!au[n]||n==="opacity")}const hn=n=>!!(n&&n.getVelocity),lS=(n,t)=>t&&typeof n=="number"?t.transform(n):n,ds=(n,t,i)=>i>t?t:i<n?n:i,wo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ou={...wo,transform:n=>ds(0,1,n)},Qc={...wo,default:1},gu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),$s=gu("deg"),Oi=gu("%"),wt=gu("px"),sI=gu("vh"),rI=gu("vw"),gT={...Oi,parse:n=>Oi.parse(n)/100,transform:n=>Oi.transform(n*100)},aI={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt},oI={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Qc,scaleX:Qc,scaleY:Qc,scaleZ:Qc,skew:$s,skewX:$s,skewY:$s,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:ou,originX:gT,originY:gT,originZ:wt},yT={...wo,transform:Math.round},pg={...aI,...oI,zIndex:yT,size:wt,fillOpacity:ou,strokeOpacity:ou,numOctaves:yT},lI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uI=So.length;function cI(n,t,i){let r="",o=!0;for(let u=0;u<uI;u++){const h=So[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=lS(d,pg[h]);if(!p){o=!1;const v=lI[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function gg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(ca.has(p)){h=!0;continue}else if(dg(p)){o[p]=g;continue}else{const v=lS(g,pg[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=cI(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uS(n,t,i){for(const r in t)!hn(t[r])&&!oS(r,i)&&(n[r]=t[r])}function hI({transformTemplate:n},t){return yt.useMemo(()=>{const i=yg();return gg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function fI(n,t){const i=n.style||{},r={};return uS(r,i,n),Object.assign(r,hI(n,t)),r}function dI(n,t){const i={},r=fI(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const mI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(n){return typeof n!="string"||n.includes("-")?!1:!!(mI.indexOf(n)>-1||/[A-Z]/u.test(n))}const pI={offset:"stroke-dashoffset",array:"stroke-dasharray"},gI={offset:"strokeDashoffset",array:"strokeDasharray"};function yI(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?pI:gI;n[u.offset]=wt.transform(-r);const h=wt.transform(t),d=wt.transform(i);n[u.array]=`${h} ${d}`}function vT(n,t,i){return typeof n=="string"?n:wt.transform(t+i*n)}function vI(n,t,i){const r=vT(t,n.x,n.width),o=vT(i,n.y,n.height);return`${r} ${o}`}function _g(n,{attrX:t,attrY:i,attrScale:r,originX:o,originY:u,pathLength:h,pathSpacing:d=1,pathOffset:p=0,...g},v,E){if(gg(n,g,E),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:V,dimensions:U}=n;S.transform&&(U&&(V.transform=S.transform),delete S.transform),U&&(o!==void 0||u!==void 0||V.transform)&&(V.transformOrigin=vI(U,o!==void 0?o:.5,u!==void 0?u:.5)),t!==void 0&&(S.x=t),i!==void 0&&(S.y=i),r!==void 0&&(S.scale=r),h!==void 0&&yI(S,h,d,p,!1)}const cS=()=>({...yg(),attrs:{}}),Tg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _I(n,t,i,r){const o=yt.useMemo(()=>{const u=cS();return _g(u,t,Tg(r),n.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};uS(u,n.style,n),o.style={...u,...o.style}}return o}function TI(n=!1){return(i,r,o,{latestValues:u},h)=>{const p=(vg(i)?_I:dI)(r,u,h,i),g=Fx(r,typeof i=="string",n),v=i!==yt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,S=yt.useMemo(()=>hn(E)?E.get():E,[E]);return yt.createElement(i,{...v,children:S})}}function _T(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Eg(n,t,i,r){if(typeof t=="function"){const[o,u]=_T(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=_T(r);t=t(i!==void 0?i:n.custom,o,u)}return t}const Ym=n=>Array.isArray(n),EI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),AI=n=>Ym(n)?n[n.length-1]||0:n;function nh(n){const t=hn(n)?n.get():n;return EI(t)?t.toValue():t}function bI({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:i},r,o,u){const h={latestValues:SI(r,o,u,n),renderState:t()};return i&&(h.onMount=d=>i({props:r,current:d,...h}),h.onUpdate=d=>i(d)),h}const hS=n=>(t,i)=>{const r=yt.useContext(Kh),o=yt.useContext(tg),u=()=>bI(n,t,r,o);return i?u():yx(u)};function SI(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=nh(u[S]);let{initial:h,animate:d}=n;const p=Yh(n),g=nS(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!Qh(E)){const S=Array.isArray(E)?E:[E];for(let V=0;V<S.length;V++){const U=Eg(n,S[V]);if(U){const{transitionEnd:j,transition:k,...Q}=U;for(const tt in Q){let nt=Q[tt];if(Array.isArray(nt)){const _t=v?nt.length-1:0;nt=nt[_t]}nt!==null&&(o[tt]=nt)}for(const tt in j)o[tt]=j[tt]}}}return o}function Ag(n,t,i){var r;const{style:o}=n,u={};for(const h in o)(hn(o[h])||t.style&&hn(t.style[h])||oS(h,n)||((r=i==null?void 0:i.getValue(h))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(u[h]=o[h]);return u}const wI={useVisualState:hS({scrapeMotionValuesFromProps:Ag,createRenderState:yg})};function fS(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function dS(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}const mS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pS(n,t,i,r){dS(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(mS.has(o)?o:fg(o),t.attrs[o])}function gS(n,t,i){const r=Ag(n,t,i);for(const o in n)if(hn(n[o])||hn(t[o])){const u=So.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const TT=["x","y","width","height","cx","cy","r"],RI={useVisualState:hS({scrapeMotionValuesFromProps:gS,createRenderState:cS,onUpdate:({props:n,prevProps:t,current:i,renderState:r,latestValues:o})=>{if(!i)return;let u=!!n.drag;if(!u){for(const d in o)if(ca.has(d)){u=!0;break}}if(!u)return;let h=!t;if(t)for(let d=0;d<TT.length;d++){const p=TT[d];n[p]!==t[p]&&(h=!0)}h&&ae.read(()=>{fS(i,r),ae.render(()=>{_g(r,o,Tg(i.tagName),n.transformTemplate),pS(i,r)})})}})};function CI(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...vg(r)?RI:wI,preloadedFeatures:n,useRender:TI(o),createVisualElement:t,Component:r};return Zx(h)}}function lu(n,t,i){const r=n.getProps();return Eg(r,t,i!==void 0?i:r.custom,n)}const yS=new Set(["width","height","top","left","right","bottom",...So]);function DI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,su(i))}function VI(n,t){const i=lu(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=AI(u[h]);DI(n,h,d)}}function MI(n){return!!(hn(n)&&n.add)}function Xm(n,t){const i=n.getValue("willChange");if(MI(i))return i.add(t)}function vS(n){return n.props[iS]}const _S=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,xI=1e-7,II=12;function OI(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=_S(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>xI&&++d<II);return h}function yu(n,t,i,r){if(n===t&&i===r)return Nn;const o=u=>OI(u,0,1,n,i);return u=>u===0||u===1?u:_S(o(u),t,r)}const TS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,ES=n=>t=>1-n(1-t),AS=yu(.33,1.53,.69,.99),bg=ES(AS),bS=TS(bg),SS=n=>(n*=2)<1?.5*bg(n):.5*(2-Math.pow(2,-10*(n-1))),Sg=n=>1-Math.sin(Math.acos(n)),wS=ES(Sg),RS=TS(Sg),CS=n=>/^0[^.\s]+$/u.test(n);function NI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||CS(n):!0}const Hl=n=>Math.round(n*1e5)/1e5,wg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PI(n){return n==null}const LI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rg=(n,t)=>i=>!!(typeof i=="string"&&LI.test(i)&&i.startsWith(n)||t&&!PI(i)&&Object.prototype.hasOwnProperty.call(i,t)),DS=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(wg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},UI=n=>ds(0,255,n),fm={...wo,transform:n=>Math.round(UI(n))},ta={test:Rg("rgb","red"),parse:DS("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+fm.transform(n)+", "+fm.transform(t)+", "+fm.transform(i)+", "+Hl(ou.transform(r))+")"};function kI(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const $m={test:Rg("#"),parse:kI,transform:ta.transform},so={test:Rg("hsl","hue"),parse:DS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Oi.transform(Hl(t))+", "+Oi.transform(Hl(i))+", "+Hl(ou.transform(r))+")"},ln={test:n=>ta.test(n)||$m.test(n)||so.test(n),parse:n=>ta.test(n)?ta.parse(n):so.test(n)?so.parse(n):$m.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):so.transform(n)},BI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zI(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(wg))===null||t===void 0?void 0:t.length)||0)+(((i=n.match(BI))===null||i===void 0?void 0:i.length)||0)>0}const VS="number",MS="color",jI="var",FI="var(",ET="${}",qI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(qI,p=>(ln.test(p)?(r.color.push(u),o.push(MS),i.push(ln.parse(p))):p.startsWith(FI)?(r.var.push(u),o.push(jI),i.push(p)):(r.number.push(u),o.push(VS),i.push(parseFloat(p))),++u,ET)).split(ET);return{values:i,split:d,indexes:r,types:o}}function xS(n){return uu(n).values}function IS(n){const{split:t,types:i}=uu(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===VS?u+=Hl(o[h]):d===MS?u+=ln.transform(o[h]):u+=o[h]}return u}}const HI=n=>typeof n=="number"?0:n;function GI(n){const t=xS(n);return IS(n)(t.map(HI))}const hr={test:zI,parse:xS,createTransformer:IS,getAnimatableNone:GI},KI=new Set(["brightness","contrast","saturate","opacity"]);function QI(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(wg)||[];if(!r)return n;const o=i.replace(r,"");let u=KI.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const YI=/\b([a-z-]*)\(.*?\)/gu,Zm={...hr,getAnimatableNone:n=>{const t=n.match(YI);return t?t.map(QI).join(" "):n}},XI={...pg,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Zm,WebkitFilter:Zm},OS=n=>XI[n];function NS(n,t){let i=OS(n);return i!==Zm&&(i=hr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const $I=new Set(["auto","none","0"]);function ZI(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!$I.has(u)&&uu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=NS(i,o)}const ea=n=>n*180/Math.PI,Wm=n=>{const t=ea(Math.atan2(n[1],n[0]));return Jm(t)},WI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Wm,rotateZ:Wm,skewX:n=>ea(Math.atan(n[1])),skewY:n=>ea(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Jm=n=>(n=n%360,n<0&&(n+=360),n),AT=Wm,bT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ST=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bT,scaleY:ST,scale:n=>(bT(n)+ST(n))/2,rotateX:n=>Jm(ea(Math.atan2(n[6],n[5]))),rotateY:n=>Jm(ea(Math.atan2(-n[2],n[0]))),rotateZ:AT,rotate:AT,skewX:n=>ea(Math.atan(n[4])),skewY:n=>ea(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function wT(n){return n.includes("scale")?1:0}function tp(n,t){if(!n||n==="none")return wT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=JI,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WI,o=d}if(!o)return wT(t);const u=r[t],h=o[1].split(",").map(eO);return typeof u=="function"?u(h):h[u]}const tO=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return tp(i,t)};function eO(n){return parseFloat(n.trim())}const RT=n=>n===wo||n===wt,nO=new Set(["x","y","z"]),iO=So.filter(n=>!nO.has(n));function sO(n){const t=[];return iO.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const _o={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>tp(t,"x"),y:(n,{transform:t})=>tp(t,"y")};_o.translateX=_o.x;_o.translateY=_o.y;const ia=new Set;let ep=!1,np=!1;function PS(){if(np){const n=Array.from(ia).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=sO(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))===null||d===void 0||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}np=!1,ep=!1,ia.forEach(n=>n.complete()),ia.clear()}function LS(){ia.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(np=!0)})}function rO(){LS(),PS()}class Cg{constructor(t,i,r,o,u,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ia.add(this),ep||(ep=!0,ae.read(LS),ae.resolveKeyframes(PS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const h=o==null?void 0:o.get(),d=t[t.length-1];if(h!==void 0)t[0]=h;else if(r&&i){const p=r.readValue(i,d);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=d),o&&h===void 0&&o.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ia.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ia.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const US=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),aO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oO(n){const t=aO.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function kS(n,t,i=1){const[r,o]=oO(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return US(h)?parseFloat(h):h}return mg(o)?kS(o,t,i+1):o}const BS=n=>t=>t.test(n),lO={test:n=>n==="auto",parse:n=>n},zS=[wo,wt,Oi,$s,rI,sI,lO],CT=n=>zS.find(BS(n));class jS extends Cg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),mg(g))){const v=kS(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!yS.has(r)||t.length!==2)return;const[o,u]=t,h=CT(o),d=CT(u);if(h!==d)if(RT(h)&&RT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)NI(t[o])&&r.push(o);r.length&&ZI(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_o[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:i,name:r,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const u=i.getValue(r);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,d=o[h];o[h]=_o[r](i.measureViewportBox(),window.getComputedStyle(i.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([p,g])=>{i.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const DT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function uO(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function cO(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=DT(o,t),d=DT(u,t);return!h||!d?!1:uO(n)||(i==="spring"||ag(i))&&r}const hO=n=>n!==null;function Xh(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(hO),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const fO=40;class FS{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ii.now(),this.options={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rO(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=Ii.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:u,delay:h,onComplete:d,onUpdate:p,isGenerator:g}=this.options;if(!g&&!cO(t,r,o,u))if(h)this.options.duration=0;else{p&&p(Xh(t,this.options,i)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,i);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...v},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fe=(n,t,i)=>n+(t-n)*i;function dm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function dO({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=dm(p,d,n+1/3),u=dm(p,d,n),h=dm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function Eh(n,t){return i=>i>0?t:n}const mm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},mO=[$m,ta,so],pO=n=>mO.find(t=>t.test(n));function VT(n){const t=pO(n);if(!t)return!1;let i=t.parse(n);return t===so&&(i=dO(i)),i}const MT=(n,t)=>{const i=VT(n),r=VT(t);if(!i||!r)return Eh(n,t);const o={...i};return u=>(o.red=mm(i.red,r.red,u),o.green=mm(i.green,r.green,u),o.blue=mm(i.blue,r.blue,u),o.alpha=fe(i.alpha,r.alpha,u),ta.transform(o))},gO=(n,t)=>i=>t(n(i)),vu=(...n)=>n.reduce(gO),ip=new Set(["none","hidden"]);function yO(n,t){return ip.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function vO(n,t){return i=>fe(n,t,i)}function Dg(n){return typeof n=="number"?vO:typeof n=="string"?mg(n)?Eh:ln.test(n)?MT:EO:Array.isArray(n)?qS:typeof n=="object"?ln.test(n)?MT:_O:Eh}function qS(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>Dg(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function _O(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Dg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function TO(n,t){var i;const r=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const h=t.types[u],d=n.indexes[h][o[h]],p=(i=n.values[d])!==null&&i!==void 0?i:0;r[u]=p,o[h]++}return r}const EO=(n,t)=>{const i=hr.createTransformer(t),r=uu(n),o=uu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ip.has(n)&&!o.values.length||ip.has(t)&&!r.values.length?yO(n,t):vu(qS(TO(r,o),o.values),i):Eh(n,t)};function HS(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?fe(n,t,i):Dg(n)(n,t)}const AO=5;function GS(n,t,i){const r=Math.max(t-AO,0);return Gb(i-n(r),t-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xT=.001;function bO({duration:n=_e.duration,bounce:t=_e.bounce,velocity:i=_e.velocity,mass:r=_e.mass}){let o,u,h=1-t;h=ds(_e.minDamping,_e.maxDamping,h),n=ds(_e.minDuration,_e.maxDuration,ls(n)),h<1?(o=g=>{const v=g*h,E=v*n,S=v-i,V=sp(g,h),U=Math.exp(-E);return xT-S/V*U},u=g=>{const E=g*h*n,S=E*i+i,V=Math.pow(h,2)*Math.pow(g,2)*n,U=Math.exp(-E),j=sp(Math.pow(g,2),h);return(-o(g)+xT>0?-1:1)*((S-V)*U)/j}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=wO(o,u,d);if(n=os(n),isNaN(p))return{stiffness:_e.stiffness,damping:_e.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const SO=12;function wO(n,t,i){let r=i;for(let o=1;o<SO;o++)r=r-n(r)/t(r);return r}function sp(n,t){return n*Math.sqrt(1-t*t)}const RO=["duration","bounce"],CO=["stiffness","damping","mass"];function IT(n,t){return t.some(i=>n[i]!==void 0)}function DO(n){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...n};if(!IT(n,CO)&&IT(n,RO))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*ds(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:_e.mass,stiffness:o,damping:u}}else{const i=bO(n);t={...t,...i,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function KS(n=_e.visualDuration,t=_e.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:V}=DO({...i,velocity:-ls(i.velocity||0)}),U=S||0,j=g/(2*Math.sqrt(p*v)),k=h-u,Q=ls(Math.sqrt(p/v)),tt=Math.abs(k)<5;r||(r=tt?_e.restSpeed.granular:_e.restSpeed.default),o||(o=tt?_e.restDelta.granular:_e.restDelta.default);let nt;if(j<1){const rt=sp(Q,j);nt=gt=>{const O=Math.exp(-j*Q*gt);return h-O*((U+j*Q*k)/rt*Math.sin(rt*gt)+k*Math.cos(rt*gt))}}else if(j===1)nt=rt=>h-Math.exp(-Q*rt)*(k+(U+Q*k)*rt);else{const rt=Q*Math.sqrt(j*j-1);nt=gt=>{const O=Math.exp(-j*Q*gt),R=Math.min(rt*gt,300);return h-O*((U+j*Q*k)*Math.sinh(R)+rt*k*Math.cosh(R))/rt}}const _t={calculatedDuration:V&&E||null,next:rt=>{const gt=nt(rt);if(V)d.done=rt>=E;else{let O=0;j<1&&(O=rt===0?os(U):GS(nt,rt,gt));const R=Math.abs(O)<=r,C=Math.abs(h-gt)<=o;d.done=R&&C}return d.value=d.done?h:gt,d},toString:()=>{const rt=Math.min(Kb(_t),Km),gt=Qb(O=>_t.next(rt*O).value,rt,30);return rt+"ms "+gt}};return _t}function OT({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},V=R=>d!==void 0&&R<d||p!==void 0&&R>p,U=R=>d===void 0?p:p===void 0||Math.abs(d-R)<Math.abs(p-R)?d:p;let j=i*t;const k=E+j,Q=h===void 0?k:h(k);Q!==k&&(j=Q-E);const tt=R=>-j*Math.exp(-R/r),nt=R=>Q+tt(R),_t=R=>{const C=tt(R),x=nt(R);S.done=Math.abs(C)<=g,S.value=S.done?Q:x};let rt,gt;const O=R=>{V(S.value)&&(rt=R,gt=KS({keyframes:[S.value,U(S.value)],velocity:GS(nt,R,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return O(0),{calculatedDuration:null,next:R=>{let C=!1;return!gt&&rt===void 0&&(C=!0,_t(R),O(R)),rt!==void 0&&R>=rt?gt.next(R-rt):(!C&&_t(R),S)}}}const VO=yu(.42,0,1,1),MO=yu(0,0,.58,1),QS=yu(.42,0,.58,1),xO=n=>Array.isArray(n)&&typeof n[0]!="number",IO={linear:Nn,easeIn:VO,easeInOut:QS,easeOut:MO,circIn:Sg,circInOut:RS,circOut:wS,backIn:bg,backInOut:bS,backOut:AS,anticipate:SS},NT=n=>{if(og(n)){Hb(n.length===4);const[t,i,r,o]=n;return yu(t,i,r,o)}else if(typeof n=="string")return IO[n];return n};function OO(n,t,i){const r=[],o=i||HS,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||Nn:t;d=vu(p,d)}r.push(d)}return r}function NO(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Hb(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=OO(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=yo(n[E],n[E+1],v);return d[E](S)};return i?v=>g(ds(n[0],n[u-1],v)):g}function PO(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=yo(0,t,r);n.push(fe(i,1,o))}}function LO(n){const t=[0];return PO(t,n.length-1),t}function UO(n,t){return n.map(i=>i*t)}function kO(n,t){return n.map(()=>t||QS).splice(0,n.length-1)}function Ah({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=xO(r)?r.map(NT):NT(r),u={done:!1,value:t[0]},h=UO(i&&i.length===t.length?i:LO(t),n),d=NO(h,t,{ease:Array.isArray(o)?o:kO(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const BO=n=>{const t=({timestamp:i})=>n(i);return{start:()=>ae.update(t,!0),stop:()=>cr(t),now:()=>We.isProcessing?We.timestamp:Ii.now()}},zO={decay:OT,inertia:OT,tween:Ah,keyframes:Ah,spring:KS},jO=n=>n/100;class Vg extends FS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:i,motionValue:r,element:o,keyframes:u}=this.options,h=(o==null?void 0:o.KeyframeResolver)||Cg,d=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new h(u,d,i,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=this.options,d=ag(i)?i:zO[i]||Ah;let p,g;d!==Ah&&typeof t[0]!="number"&&(p=vu(jO,HS(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});u==="mirror"&&(g=d({...this.options,keyframes:[...t].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=Kb(v));const{calculatedDuration:E}=v,S=E+o,V=S*(r+1)-o;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:E,resolvedDuration:S,totalDuration:V}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:o,generator:u,mirroredGenerator:h,mapPercentToKeyframes:d,keyframes:p,calculatedDuration:g,totalDuration:v,resolvedDuration:E}=r;if(this.startTime===null)return u.next(0);const{delay:S,repeat:V,repeatType:U,repeatDelay:j,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const Q=this.currentTime-S*(this.speed>=0?1:-1),tt=this.speed>=0?Q<0:Q>v;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let nt=this.currentTime,_t=u;if(V){const R=Math.min(this.currentTime,v)/E;let C=Math.floor(R),x=R%1;!x&&R>=1&&(x=1),x===1&&C--,C=Math.min(C,V+1),!!(C%2)&&(U==="reverse"?(x=1-x,j&&(x-=j/E)):U==="mirror"&&(_t=h)),nt=ds(0,1,x)*E}const rt=tt?{done:!1,value:p[0]}:_t.next(nt);d&&(rt.value=d(rt.value));let{done:gt}=rt;!tt&&g!==null&&(gt=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&gt);return O&&o!==void 0&&(rt.value=Xh(p,this.options,o)),k&&k(rt.value),O&&this.finish(),rt}get duration(){const{resolved:t}=this;return t?ls(t.calculatedDuration):0}get time(){return ls(this.currentTime)}set time(t){t=os(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ls(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BO,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const FO=new Set(["opacity","clipPath","filter","transform"]);function qO(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeInOut",times:p}={}){const g={[t]:i};p&&(g.offset=p);const v=Xb(d,o);return Array.isArray(v)&&(g.easing=v),n.animate(g,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}const HO=ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bh=10,GO=2e4;function KO(n){return ag(n.type)||n.type==="spring"||!Yb(n.ease)}function QO(n,t){const i=new Vg({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let u=0;for(;!r.done&&u<GO;)r=i.sample(u),o.push(r.value),u+=bh;return{times:void 0,keyframes:o,duration:u-bh,ease:"linear"}}const YS={anticipate:SS,backInOut:bS,circInOut:RS};function YO(n){return n in YS}class PT extends FS{constructor(t){super(t);const{name:i,motionValue:r,element:o,keyframes:u}=this.options;this.resolver=new jS(u,(h,d)=>this.onKeyframesResolved(h,d),i,r,o),this.resolver.scheduleResolve()}initPlayback(t,i){let{duration:r=300,times:o,ease:u,type:h,motionValue:d,name:p,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&_h()&&YO(u)&&(u=YS[u]),KO(this.options)){const{onComplete:E,onUpdate:S,motionValue:V,element:U,...j}=this.options,k=QO(t,j);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,o=k.times,u=k.ease,h="keyframes"}const v=qO(d.owner.current,p,t,{...this.options,duration:r,times:o,ease:u});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(oT(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;d.set(Xh(t,this.options,i)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:h,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return ls(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return ls(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.currentTime=os(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return Nn;const{animation:r}=i;oT(r,t)}return Nn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:r,duration:o,type:u,ease:h,times:d}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:E,element:S,...V}=this.options,U=new Vg({...V,keyframes:r,duration:o,type:u,ease:h,times:d,isGenerator:!0}),j=os(this.time);g.setWithVelocity(U.sample(j-bh).value,U.sample(j).value,bh)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:r,repeatDelay:o,repeatType:u,damping:h,type:d}=t;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=i.owner.getProps();return HO()&&r&&FO.has(r)&&!p&&!g&&!o&&u!=="mirror"&&h!==0&&d!=="inertia"}}const XO={type:"spring",stiffness:500,damping:25,restSpeed:10},$O=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZO={type:"keyframes",duration:.8},WO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JO=(n,{keyframes:t})=>t.length>2?ZO:ca.has(n)?n.startsWith("scale")?$O(t[1]):XO:WO;function tN({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Mg=(n,t,i,r={},o,u)=>h=>{const d=rg(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-os(p);let v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};tN(d)||(v={...v,...JO(n,v)}),v.duration&&(v.duration=os(v.duration)),v.repeatDelay&&(v.repeatDelay=os(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=Xh(v.keyframes,d);if(S!==void 0)return ae.update(()=>{v.onUpdate(S),v.onComplete()}),new bx([])}return!u&&PT.supports(v)?new PT(v):new Vg(v)};function eN({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function XS(n,t,{delay:i=0,transitionOverride:r,type:o}={}){var u;let{transition:h=n.getDefaultTransition(),transitionEnd:d,...p}=t;r&&(h=r);const g=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const E in p){const S=n.getValue(E,(u=n.latestValues[E])!==null&&u!==void 0?u:null),V=p[E];if(V===void 0||v&&eN(v,E))continue;const U={delay:i,...rg(h||{},E)};let j=!1;if(window.MotionHandoffAnimation){const Q=vS(n);if(Q){const tt=window.MotionHandoffAnimation(Q,E,ae);tt!==null&&(U.startTime=tt,j=!0)}}Xm(n,E),S.start(Mg(E,S,V,n.shouldReduceMotion&&yS.has(E)?{type:!1}:U,n,j));const k=S.animation;k&&g.push(k)}return d&&Promise.all(g).then(()=>{ae.update(()=>{d&&VI(n,d)})}),g}function rp(n,t,i={}){var r;const o=lu(n,t,i.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(u=i.transitionOverride);const h=o?()=>Promise.all(XS(n,o,i)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=u;return nN(n,t,v+g,E,S,i)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,v]=p==="beforeChildren"?[h,d]:[d,h];return g().then(()=>v())}else return Promise.all([h(),d(i.delay)])}function nN(n,t,i=0,r=0,o=1,u){const h=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(iN).forEach((g,v)=>{g.notify("AnimationStart",t),h.push(rp(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(h)}function iN(n,t){return n.sortNodePosition(t)}function sN(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>rp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=rp(n,t,i);else{const o=typeof t=="function"?lu(n,t,i.custom):t;r=Promise.all(XS(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function $S(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const rN=hg.length;function ZS(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?ZS(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<rN;i++){const r=hg[i],o=n.props[r];(ru(o)||o===!1)&&(t[r]=o)}return t}const aN=[...cg].reverse(),oN=cg.length;function lN(n){return t=>Promise.all(t.map(({animation:i,options:r})=>sN(n,i,r)))}function uN(n){let t=lN(n),i=LT(),r=!0;const o=p=>(g,v)=>{var E;const S=lu(n,v,p==="exit"?(E=n.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(S){const{transition:V,transitionEnd:U,...j}=S;g={...g,...j,...U}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=ZS(n.parent)||{},E=[],S=new Set;let V={},U=1/0;for(let k=0;k<oN;k++){const Q=aN[k],tt=i[Q],nt=g[Q]!==void 0?g[Q]:v[Q],_t=ru(nt),rt=Q===p?tt.isActive:null;rt===!1&&(U=k);let gt=nt===v[Q]&&nt!==g[Q]&&_t;if(gt&&r&&n.manuallyAnimateOnMount&&(gt=!1),tt.protectedKeys={...V},!tt.isActive&&rt===null||!nt&&!tt.prevProp||Qh(nt)||typeof nt=="boolean")continue;const O=cN(tt.prevProp,nt);let R=O||Q===p&&tt.isActive&&!gt&&_t||k>U&&_t,C=!1;const x=Array.isArray(nt)?nt:[nt];let N=x.reduce(o(Q),{});rt===!1&&(N={});const{prevResolvedValues:B={}}=tt,I={...B,...N},It=ct=>{R=!0,S.has(ct)&&(C=!0,S.delete(ct)),tt.needsAnimating[ct]=!0;const ht=n.getValue(ct);ht&&(ht.liveStyle=!1)};for(const ct in I){const ht=N[ct],Ot=B[ct];if(V.hasOwnProperty(ct))continue;let A=!1;Ym(ht)&&Ym(Ot)?A=!$S(ht,Ot):A=ht!==Ot,A?ht!=null?It(ct):S.add(ct):ht!==void 0&&S.has(ct)?It(ct):tt.protectedKeys[ct]=!0}tt.prevProp=nt,tt.prevResolvedValues=N,tt.isActive&&(V={...V,...N}),r&&n.blockInitialAnimation&&(R=!1),R&&(!(gt&&O)||C)&&E.push(...x.map(ct=>({animation:ct,options:{type:Q}})))}if(S.size){const k={};if(typeof g.initial!="boolean"){const Q=lu(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(k.transition=Q.transition)}S.forEach(Q=>{const tt=n.getBaseTarget(Q),nt=n.getValue(Q);nt&&(nt.liveStyle=!0),k[Q]=tt??null}),E.push({animation:k})}let j=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(E):Promise.resolve()}function d(p,g){var v;if(i[p].isActive===g)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(S=>{var V;return(V=S.animationState)===null||V===void 0?void 0:V.setActive(p,g)}),i[p].isActive=g;const E=h(p);for(const S in i)i[S].protectedKeys={};return E}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=LT(),r=!0}}}function cN(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!$S(t,n):!1}function Xr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LT(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hN extends pr{constructor(t){super(t),t.animationState||(t.animationState=uN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fN=0;class dN extends pr{constructor(){super(...arguments),this.id=fN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mN={animation:{Feature:hN},exit:{Feature:dN}};function cu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function _u(n){return{point:{x:n.pageX,y:n.pageY}}}const pN=n=>t=>ug(t)&&n(t,_u(t));function Gl(n,t,i,r){return cu(n,t,pN(i),r)}function WS({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function gN({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function yN(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const JS=1e-4,vN=1-JS,_N=1+JS,tw=.01,TN=0-tw,EN=0+tw;function yn(n){return n.max-n.min}function AN(n,t,i){return Math.abs(n-t)<=i}function UT(n,t,i,r=.5){n.origin=r,n.originPoint=fe(t.min,t.max,n.origin),n.scale=yn(i)/yn(t),n.translate=fe(i.min,i.max,n.origin)-n.originPoint,(n.scale>=vN&&n.scale<=_N||isNaN(n.scale))&&(n.scale=1),(n.translate>=TN&&n.translate<=EN||isNaN(n.translate))&&(n.translate=0)}function Kl(n,t,i,r){UT(n.x,t.x,i.x,r?r.originX:void 0),UT(n.y,t.y,i.y,r?r.originY:void 0)}function kT(n,t,i){n.min=i.min+t.min,n.max=n.min+yn(t)}function bN(n,t,i){kT(n.x,t.x,i.x),kT(n.y,t.y,i.y)}function BT(n,t,i){n.min=t.min-i.min,n.max=n.min+yn(t)}function Ql(n,t,i){BT(n.x,t.x,i.x),BT(n.y,t.y,i.y)}const zT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:zT(),y:zT()}),jT=()=>({min:0,max:0}),be=()=>({x:jT(),y:jT()});function Wn(n){return[n("x"),n("y")]}function pm(n){return n===void 0||n===1}function ap({scale:n,scaleX:t,scaleY:i}){return!pm(n)||!pm(t)||!pm(i)}function Zr(n){return ap(n)||ew(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ew(n){return FT(n.x)||FT(n.y)}function FT(n){return n&&n!=="0%"}function Sh(n,t,i){const r=n-i,o=t*r;return i+o}function qT(n,t,i,r,o){return o!==void 0&&(n=Sh(n,o,r)),Sh(n,i,r)+t}function op(n,t=0,i=1,r,o){n.min=qT(n.min,t,i,r,o),n.max=qT(n.max,t,i,r,o)}function nw(n,{x:t,y:i}){op(n.x,t.translate,t.scale,t.originPoint),op(n.y,i.translate,i.scale,i.originPoint)}const HT=.999999999999,GT=1.0000000000001;function SN(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&oo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,nw(n,h)),r&&Zr(u.latestValues)&&oo(n,u.latestValues))}t.x<GT&&t.x>HT&&(t.x=1),t.y<GT&&t.y>HT&&(t.y=1)}function ao(n,t){n.min=n.min+t,n.max=n.max+t}function KT(n,t,i,r,o=.5){const u=fe(n.min,n.max,o);op(n,t,i,u,r)}function oo(n,t){KT(n.x,t.x,t.scaleX,t.scale,t.originX),KT(n.y,t.y,t.scaleY,t.scale,t.originY)}function iw(n,t){return WS(yN(n.getBoundingClientRect(),t))}function wN(n,t,i){const r=iw(n,i),{scroll:o}=t;return o&&(ao(r.x,o.offset.x),ao(r.y,o.offset.y)),r}const sw=({current:n})=>n?n.ownerDocument.defaultView:null,QT=(n,t)=>Math.abs(n-t);function RN(n,t){const i=QT(n.x,t.x),r=QT(n.y,t.y);return Math.sqrt(i**2+r**2)}class rw{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=ym(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,V=RN(E.offset,{x:0,y:0})>=3;if(!S&&!V)return;const{point:U}=E,{timestamp:j}=We;this.history.push({...U,timestamp:j});const{onStart:k,onMove:Q}=this.handlers;S||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=gm(S,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ym(E.type==="pointercancel"?this.lastMoveEventInfo:gm(S,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,k),U&&U(E,k)},!ug(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const h=_u(t),d=gm(h,this.transformPagePoint),{point:p}=d,{timestamp:g}=We;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,ym(d,this.history)),this.removeListeners=vu(Gl(this.contextWindow,"pointermove",this.handlePointerMove),Gl(this.contextWindow,"pointerup",this.handlePointerUp),Gl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function gm(n,t){return t?{point:t(n.point)}:n}function YT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function ym({point:n},t){return{point:n,delta:YT(n,aw(t)),offset:YT(n,CN(t)),velocity:DN(t,.1)}}function CN(n){return n[0]}function aw(n){return n[n.length-1]}function DN(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=aw(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>os(t)));)i--;if(!r)return{x:0,y:0};const u=ls(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function VN(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?fe(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?fe(i,n,r.max):Math.min(n,i)),n}function XT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function MN(n,{top:t,left:i,bottom:r,right:o}){return{x:XT(n.x,i,o),y:XT(n.y,t,r)}}function $T(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function xN(n,t){return{x:$T(n.x,t.x),y:$T(n.y,t.y)}}function IN(n,t){let i=.5;const r=yn(n),o=yn(t);return o>r?i=yo(t.min,t.max-r,n.min):r>o&&(i=yo(n.min,n.max-o,t.min)),ds(0,1,i)}function ON(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const lp=.35;function NN(n=lp){return n===!1?n=0:n===!0&&(n=lp),{x:ZT(n,"left","right"),y:ZT(n,"top","bottom")}}function ZT(n,t,i){return{min:WT(n,t),max:WT(n,i)}}function WT(n,t){return typeof n=="number"?n:n[t]||0}const PN=new WeakMap;class LN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(_u(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:V,onDragStart:U}=this.getProps();if(S&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vx(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(k=>{let Q=this.getAxisMotionValue(k).get()||0;if(Oi.test(Q)){const{projection:tt}=this.visualElement;if(tt&&tt.layout){const nt=tt.layout.layoutBox[k];nt&&(Q=yn(nt)*(parseFloat(Q)/100))}}this.originPoint[k]=Q}),U&&ae.postRender(()=>U(v,E)),Xm(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(v,E)=>{const{dragPropagation:S,dragDirectionLock:V,onDirectionLock:U,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=E;if(V&&this.currentDirection===null){this.currentDirection=UN(k),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),j&&j(v,E)},d=(v,E)=>this.stop(v,E),p=()=>Wn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rw(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:sw(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ae.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Yc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=VN(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;i&&io(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=MN(o.layoutBox,i):this.constraints=!1,this.elastic=NN(r),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Wn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=ON(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!io(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=wN(r,o.root,this.visualElement.getTransformPagePoint());let h=xN(o.layout.layoutBox,u);if(i){const d=i(gN(h));this.hasMutatedConstraints=!!d,d&&(h=WS(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Wn(v=>{if(!Yc(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const S=o?200:1e6,V=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Xm(this.visualElement,t),r.start(Mg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(i=>{const{drag:r}=this.getProps();if(!Yc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-fe(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!io(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Wn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=IN({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(h=>{if(!Yc(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(fe(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;PN.set(this.visualElement,this);const t=this.visualElement.current,i=Gl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();io(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const h=cu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Wn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=lp,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function Yc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function UN(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class kN extends pr{constructor(t){super(t),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new LN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const JT=n=>(t,i)=>{n&&ae.postRender(()=>n(t,i))};class BN extends pr{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(t){this.session=new rw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:JT(t),onStart:JT(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&ae.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Gl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tE(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const xl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(wt.test(n))n=parseFloat(n);else return n;const i=tE(n,t.target.x),r=tE(n,t.target.y);return`${i}% ${r}%`}},zN={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=hr.parse(n);if(o.length>5)return r;const u=hr.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=fe(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};class jN extends yt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;iI(FN),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,h=r.projection;return h&&(h.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||ae.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ow(n){const[t,i]=_x(),r=yt.useContext(Fb);return st.jsx(jN,{...n,layoutGroup:r,switchLayoutGroup:yt.useContext(sS),isPresent:t,safeToRemove:i})}const FN={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:zN};function qN(n,t,i){const r=hn(n)?n:su(n);return r.start(Mg("",r,t,i)),r.animation}function HN(n){return n instanceof SVGElement&&n.tagName!=="svg"}const GN=(n,t)=>n.depth-t.depth;class KN{constructor(){this.children=[],this.isDirty=!1}add(t){eg(this.children,t),this.isDirty=!0}remove(t){ng(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GN),this.isDirty=!1,this.children.forEach(t)}}function QN(n,t){const i=Ii.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(cr(r),n(u-t))};return ae.read(r,!0),()=>cr(r)}const lw=["TopLeft","TopRight","BottomLeft","BottomRight"],YN=lw.length,eE=n=>typeof n=="string"?parseFloat(n):n,nE=n=>typeof n=="number"||wt.test(n);function XN(n,t,i,r,o,u){o?(n.opacity=fe(0,i.opacity!==void 0?i.opacity:1,$N(r)),n.opacityExit=fe(t.opacity!==void 0?t.opacity:1,0,ZN(r))):u&&(n.opacity=fe(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,r));for(let h=0;h<YN;h++){const d=`border${lw[h]}Radius`;let p=iE(t,d),g=iE(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||nE(p)===nE(g)?(n[d]=Math.max(fe(eE(p),eE(g),r),0),(Oi.test(g)||Oi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=fe(t.rotate||0,i.rotate||0,r))}function iE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const $N=uw(0,.5,wS),ZN=uw(.5,.95,Nn);function uw(n,t,i){return r=>r<n?0:r>t?1:i(yo(n,t,r))}function sE(n,t){n.min=t.min,n.max=t.max}function Zn(n,t){sE(n.x,t.x),sE(n.y,t.y)}function rE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function aE(n,t,i,r,o){return n-=t,n=Sh(n,1/i,r),o!==void 0&&(n=Sh(n,1/o,r)),n}function WN(n,t=0,i=1,r=.5,o,u=n,h=n){if(Oi.test(t)&&(t=parseFloat(t),t=fe(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=fe(u.min,u.max,r);n===u&&(d-=t),n.min=aE(n.min,t,i,d,o),n.max=aE(n.max,t,i,d,o)}function oE(n,t,[i,r,o],u,h){WN(n,t[i],t[r],t[o],t.scale,u,h)}const JN=["x","scaleX","originX"],tP=["y","scaleY","originY"];function lE(n,t,i,r){oE(n.x,t,JN,i?i.x:void 0,r?r.x:void 0),oE(n.y,t,tP,i?i.y:void 0,r?r.y:void 0)}function uE(n){return n.translate===0&&n.scale===1}function cw(n){return uE(n.x)&&uE(n.y)}function cE(n,t){return n.min===t.min&&n.max===t.max}function eP(n,t){return cE(n.x,t.x)&&cE(n.y,t.y)}function hE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function hw(n,t){return hE(n.x,t.x)&&hE(n.y,t.y)}function fE(n){return yn(n.x)/yn(n.y)}function dE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class nP{constructor(){this.members=[]}add(t){eg(this.members,t),t.scheduleRender()}remove(t){if(ng(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iP(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:V,skewY:U}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),V&&(r+=`skewX(${V}deg) `),U&&(r+=`skewY(${U}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const vm=["","X","Y","Z"],sP={visibility:"hidden"},mE=1e3;let rP=0;function _m(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function fw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=vS(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&fw(r)}function dw({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=rP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lP),this.nodes.forEach(dP),this.nodes.forEach(mP),this.nodes.forEach(uP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new KN)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new sg),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HN(h),this.instance=h;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||p)&&(this.isLayoutDirty=!0),n){let E;const S=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=QN(S,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(gE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:S,hasRelativeLayoutChanged:V,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||_P,{onLayoutAnimationStart:k,onLayoutAnimationComplete:Q}=v.getProps(),tt=!this.targetLayout||!hw(this.targetLayout,U),nt=!S&&V;if(this.options.layoutRoot||this.resumeFrom||nt||S&&(tt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,nt);const _t={...rg(j,"layout"),onPlay:k,onComplete:Q};(v.shouldReduceMotion||this.options.layoutRoot)&&(_t.delay=0,_t.type=!1),this.startAnimation(_t)}else S||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pP),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}this.isUpdating||this.nodes.forEach(hP),this.isUpdating=!1,this.nodes.forEach(fP),this.nodes.forEach(aP),this.nodes.forEach(oP),this.clearAllSnapshots();const d=Ii.now();We.delta=ds(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,cm.update.process(We),cm.preRender.process(We),cm.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cP),this.sharedNodes.forEach(gP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!cw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&(d||Zr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),TP(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:d}=this.options;if(!d)return be();const p=d.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(EP))){const{scroll:v}=this.root;v&&(ao(p.x,v.offset.x),ao(p.y,v.offset.y))}return p}removeElementScroll(h){var d;const p=be();if(Zn(p,h),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&Zn(p,h),ao(p.x,E.offset.x),ao(p.y,E.offset.y))}return p}applyTransform(h,d=!1){const p=be();Zn(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&oo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Zr(v.latestValues)&&oo(p,v.latestValues)}return Zr(this.latestValues)&&oo(p,this.latestValues),p}removeTransform(h){const d=be();Zn(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Zr(g.latestValues))continue;ap(g.latestValues)&&g.updateSnapshot();const v=be(),E=g.measurePageBox();Zn(v,E),lE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Zr(this.latestValues)&&lE(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var d;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:S}=this.options;if(!(!this.layout||!(E||S))){if(this.resolvedRelativeTargetAt=We.timestamp,!this.targetDelta&&!this.relativeTarget){const V=this.getClosestProjectingParent();V&&V.layout&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Ql(this.relativeTargetOrigin,this.layout.layoutBox,V.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),nw(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const V=this.getClosestProjectingParent();V&&!!V.resumingFrom==!!this.resumingFrom&&!V.options.layoutScroll&&V.target&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Ql(this.relativeTargetOrigin,this.target,V.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ap(this.parent.latestValues)||ew(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const d=this.getLead(),p=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===We.timestamp&&(g=!1),g)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;Zn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,V=this.treeScale.y;SN(this.layoutCorrected,this.treeScale,this.path,p),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=be());const{target:U}=d;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rE(this.prevProjectionDelta.x,this.projectionDelta.x),rE(this.prevProjectionDelta.y,this.projectionDelta.y)),Kl(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==V||!dE(this.projectionDelta.x,this.prevProjectionDelta.x)||!dE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=be(),V=p?p.source:void 0,U=this.layout?this.layout.source:void 0,j=V!==U,k=this.getStack(),Q=!k||k.members.length<=1,tt=!!(j&&!Q&&this.options.crossfade===!0&&!this.path.some(vP));this.animationProgress=0;let nt;this.mixTargetDelta=_t=>{const rt=_t/1e3;yE(E.x,h.x,rt),yE(E.y,h.y,rt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ql(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yP(this.relativeTarget,this.relativeTargetOrigin,S,rt),nt&&eP(this.relativeTarget,nt)&&(this.isProjectionDirty=!1),nt||(nt=be()),Zn(nt,this.relativeTarget)),j&&(this.animationValues=v,XN(v,g,this.latestValues,rt,tt,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{ih.hasAnimatedSinceResize=!0,this.currentAnimation=qN(0,mE,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&mw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||be();const E=yn(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const S=yn(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+S}Zn(d,p),oo(d,v),Kl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new nP),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&_m("z",h,g,this.animationValues);for(let v=0;v<vm.length;v++)_m(`rotate${vm[v]}`,h,g,this.animationValues),_m(`skew${vm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}getProjectionStyles(h){var d,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sP;const g={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=nh(h==null?void 0:h.pointerEvents)||"",g.transform=v?v(this.latestValues,""):"none",g;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=nh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(j.transform=v?v({},""):"none",this.hasProjected=!1),j}const S=E.animationValues||E.latestValues;this.applyTransformsToTarget(),g.transform=iP(this.projectionDeltaWithTransform,this.treeScale,S),v&&(g.transform=v(S,g.transform));const{x:V,y:U}=this.projectionDelta;g.transformOrigin=`${V.origin*100}% ${U.origin*100}% 0`,E.animationValues?g.opacity=E===this?(p=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=E===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const j in au){if(S[j]===void 0)continue;const{correct:k,applyTo:Q,isCSSVariable:tt}=au[j],nt=g.transform==="none"?S[j]:k(S[j],E);if(Q){const _t=Q.length;for(let rt=0;rt<_t;rt++)g[Q[rt]]=nt}else tt?this.options.visualElement.renderState.vars[j]=nt:g[j]=nt}return this.options.layoutId&&(g.pointerEvents=E===this?nh(h==null?void 0:h.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function aP(n){n.updateLayout()}function oP(n){var t;const i=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=i.source!==n.layout.source;u==="size"?Wn(E=>{const S=h?i.measuredBox[E]:i.layoutBox[E],V=yn(S);S.min=r[E].min,S.max=S.min+V}):mw(u,i.layoutBox,r)&&Wn(E=>{const S=h?i.measuredBox[E]:i.layoutBox[E],V=yn(r[E]);S.max=S.min+V,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+V)});const d=ro();Kl(d,r,i.layoutBox);const p=ro();h?Kl(p,n.applyTransform(o,!0),i.measuredBox):Kl(p,r,i.layoutBox);const g=!cw(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:V}=E;if(S&&V){const U=be();Ql(U,i.layoutBox,S.layoutBox);const j=be();Ql(j,r,V.layoutBox),hw(U,j)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=U,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function lP(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function uP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function cP(n){n.clearSnapshot()}function pE(n){n.clearMeasurements()}function hP(n){n.isLayoutDirty=!1}function fP(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function gE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dP(n){n.resolveTargetDelta()}function mP(n){n.calcProjection()}function pP(n){n.resetSkewAndRotation()}function gP(n){n.removeLeadSnapshot()}function yE(n,t,i){n.translate=fe(t.translate,0,i),n.scale=fe(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function vE(n,t,i,r){n.min=fe(t.min,i.min,r),n.max=fe(t.max,i.max,r)}function yP(n,t,i,r){vE(n.x,t.x,i.x,r),vE(n.y,t.y,i.y,r)}function vP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _P={duration:.45,ease:[.4,0,.1,1]},_E=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),TE=_E("applewebkit/")&&!_E("chrome/")?Math.round:Nn;function EE(n){n.min=TE(n.min),n.max=TE(n.max)}function TP(n){EE(n.x),EE(n.y)}function mw(n,t,i){return n==="position"||n==="preserve-aspect"&&!AN(fE(t),fE(i),.2)}function EP(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const AP=dw({attachResizeListener:(n,t)=>cu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tm={current:void 0},pw=dw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Tm.current){const n=new AP({});n.mount(window),n.setOptions({layoutScroll:!0}),Tm.current=n}return Tm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),bP={pan:{Feature:BN},drag:{Feature:kN,ProjectionNode:pw,MeasureLayout:ow}};function AE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ae.postRender(()=>u(t,_u(t)))}class SP extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=xx(t,(i,r)=>(AE(this.node,r,"Start"),o=>AE(this.node,o,"End"))))}unmount(){}}class wP extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(cu(this.node.current,"focus",()=>this.onFocus()),cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ae.postRender(()=>u(t,_u(t)))}class RP extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=Px(t,(i,r)=>(bE(this.node,r,"Start"),(o,{success:u})=>bE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const up=new WeakMap,Em=new WeakMap,CP=n=>{const t=up.get(n.target);t&&t(n)},DP=n=>{n.forEach(CP)};function VP({root:n,...t}){const i=n||document;Em.has(i)||Em.set(i,{});const r=Em.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(DP,{root:n,...t})),r[o]}function MP(n,t,i){const r=VP(t);return up.set(n,i),r.observe(n),()=>{up.delete(n),r.unobserve(n)}}const xP={some:0,all:1};class IP extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:xP[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return MP(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(OP(t,i))&&this.startObserver()}unmount(){}}function OP({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const NP={inView:{Feature:IP},tap:{Feature:RP},focus:{Feature:wP},hover:{Feature:SP}},PP={layout:{ProjectionNode:pw,MeasureLayout:ow}},cp={current:null},gw={current:!1};function LP(){if(gw.current=!0,!!Jp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>cp.current=n.matches;n.addListener(t),t()}else cp.current=!1}const UP=[...zS,ln,hr],kP=n=>UP.find(BS(n)),BP=new WeakMap;function zP(n,t,i){for(const r in t){const o=t[r],u=i[r];if(hn(o))n.addValue(r,o);else if(hn(u))n.addValue(r,su(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,su(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const SE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jP{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const V=Ii.now();this.renderScheduledAt<V&&(this.renderScheduledAt=V,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:v}=h;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Yh(i),this.isVariantNode=nS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(i,{},this);for(const V in S){const U=S[V];p[V]!==void 0&&hn(U)&&U.set(p[V],!1)}}mount(t){this.current=t,BP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),gw.current||LP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ca.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vo){const i=vo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<SE.length;r++){const o=SE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=zP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=su(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(US(o)||CS(o))?o=parseFloat(o):!kP(o)&&hr.test(i)&&(o=NS(t,i)),this.setBaseTarget(t,hn(o)?o.get():o)),hn(o)?o.get():o}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const h=Eg(this.props,r,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);h&&(o=h[t])}if(r&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!hn(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new sg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class yw extends jP{constructor(){super(...arguments),this.KeyframeResolver=jS}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function FP(n){return window.getComputedStyle(n)}class qP extends yw{constructor(){super(...arguments),this.type="html",this.renderInstance=dS}readValueFromInstance(t,i){if(ca.has(i))return tO(t,i);{const r=FP(t),o=(dg(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return iw(t,i)}build(t,i,r){gg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Ag(t,i,r)}}class HP extends yw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&fS(this.current,this.renderState)}}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ca.has(i)){const r=OS(i);return r&&r.default||0}return i=mS.has(i)?i:fg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return gS(t,i,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ae.postRender(this.updateDimensions)}build(t,i,r){_g(t,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,i,r,o){pS(t,i,r,o)}mount(t){this.isSVGTag=Tg(t.tagName),super.mount(t)}}const GP=(n,t)=>vg(n)?new HP(t):new qP(t,{allowProjection:n!==yt.Fragment}),KP=CI({...mN,...NP,...bP,...PP},GP),QP=qx(KP);var Tu={};(function n(t,i,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),D=A.getContext("2d");D.fillRect(0,0,1,1);var Z=A.transferToImageBitmap();try{D.createPattern(Z,"no-repeat")}catch{return!1}return!0}();function p(){}function g(A){var D=i.exports.Promise,Z=D!==void 0?D:t.Promise;return typeof Z=="function"?new Z(A):(A(p,p),null)}var v=function(A,D){return{transform:function(Z){if(A)return Z;if(D.has(Z))return D.get(Z);var X=new OffscreenCanvas(Z.width,Z.height),J=X.getContext("2d");return J.drawImage(Z,0,0),D.set(Z,X),X},clear:function(){D.clear()}}}(d,new Map),E=function(){var A=Math.floor(16.666666666666668),D,Z,X={},J=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(lt){var ut=Math.random();return X[ut]=requestAnimationFrame(function dt(ft){J===ft||J+A-1<ft?(J=ft,delete X[ut],lt()):X[ut]=requestAnimationFrame(dt)}),ut},Z=function(lt){X[lt]&&cancelAnimationFrame(X[lt])}):(D=function(lt){return setTimeout(lt,A)},Z=function(lt){return clearTimeout(lt)}),{frame:D,cancel:Z}}(),S=function(){var A,D,Z={};function X(J){function lt(ut,dt){J.postMessage({options:ut||{},callback:dt})}J.init=function(dt){var ft=dt.transferControlToOffscreen();J.postMessage({canvas:ft},[ft])},J.fire=function(dt,ft,Rt){if(D)return lt(dt,null),D;var At=Math.random().toString(36).slice(2);return D=g(function(Pt){function Yt(Wt){Wt.data.callback===At&&(delete Z[At],J.removeEventListener("message",Yt),D=null,v.clear(),Rt(),Pt())}J.addEventListener("message",Yt),lt(dt,At),Z[At]=Yt.bind(null,{data:{callback:At}})}),D},J.reset=function(){J.postMessage({reset:!0});for(var dt in Z)Z[dt](),delete Z[dt]}}return function(){if(A)return A;if(!r&&u){var J=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([J])))}catch(lt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",lt),null}X(A)}return A}}(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function U(A,D){return D?D(A):A}function j(A){return A!=null}function k(A,D,Z){return U(A&&j(A[D])?A[D]:V[D],Z)}function Q(A){return A<0?0:Math.floor(A)}function tt(A,D){return Math.floor(Math.random()*(D-A))+A}function nt(A){return parseInt(A,16)}function _t(A){return A.map(rt)}function rt(A){var D=String(A).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:nt(D.substring(0,2)),g:nt(D.substring(2,4)),b:nt(D.substring(4,6))}}function gt(A){var D=k(A,"origin",Object);return D.x=k(D,"x",Number),D.y=k(D,"y",Number),D}function O(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function R(A){var D=A.getBoundingClientRect();A.width=D.width,A.height=D.height}function C(A){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=A,D}function x(A,D,Z,X,J,lt,ut,dt,ft){A.save(),A.translate(D,Z),A.rotate(lt),A.scale(X,J),A.arc(0,0,1,ut,dt,ft),A.restore()}function N(A){var D=A.angle*(Math.PI/180),Z=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-D+(.5*Z-Math.random()*Z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function B(A,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var Z=D.tick++/D.totalTicks,X=D.x+D.random*D.tiltCos,J=D.y+D.random*D.tiltSin,lt=D.wobbleX+D.random*D.tiltCos,ut=D.wobbleY+D.random*D.tiltSin;if(A.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-Z)+")",A.beginPath(),h&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))A.fill(ct(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(lt-X)*.1,Math.abs(ut-J)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var dt=Math.PI/10*D.wobble,ft=Math.abs(lt-X)*.1,Rt=Math.abs(ut-J)*.1,At=D.shape.bitmap.width*D.scalar,Pt=D.shape.bitmap.height*D.scalar,Yt=new DOMMatrix([Math.cos(dt)*ft,Math.sin(dt)*ft,-Math.sin(dt)*Rt,Math.cos(dt)*Rt,D.x,D.y]);Yt.multiplySelf(new DOMMatrix(D.shape.matrix));var Wt=A.createPattern(v.transform(D.shape.bitmap),"no-repeat");Wt.setTransform(Yt),A.globalAlpha=1-Z,A.fillStyle=Wt,A.fillRect(D.x-At/2,D.y-Pt/2,At,Pt),A.globalAlpha=1}else if(D.shape==="circle")A.ellipse?A.ellipse(D.x,D.y,Math.abs(lt-X)*D.ovalScalar,Math.abs(ut-J)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):x(A,D.x,D.y,Math.abs(lt-X)*D.ovalScalar,Math.abs(ut-J)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var Nt=Math.PI/2*3,le=4*D.scalar,Te=8*D.scalar,Ke=D.x,nn=D.y,vn=5,ke=Math.PI/vn;vn--;)Ke=D.x+Math.cos(Nt)*Te,nn=D.y+Math.sin(Nt)*Te,A.lineTo(Ke,nn),Nt+=ke,Ke=D.x+Math.cos(Nt)*le,nn=D.y+Math.sin(Nt)*le,A.lineTo(Ke,nn),Nt+=ke;else A.moveTo(Math.floor(D.x),Math.floor(D.y)),A.lineTo(Math.floor(D.wobbleX),Math.floor(J)),A.lineTo(Math.floor(lt),Math.floor(ut)),A.lineTo(Math.floor(X),Math.floor(D.wobbleY));return A.closePath(),A.fill(),D.tick<D.totalTicks}function I(A,D,Z,X,J){var lt=D.slice(),ut=A.getContext("2d"),dt,ft,Rt=g(function(At){function Pt(){dt=ft=null,ut.clearRect(0,0,X.width,X.height),v.clear(),J(),At()}function Yt(){r&&!(X.width===o.width&&X.height===o.height)&&(X.width=A.width=o.width,X.height=A.height=o.height),!X.width&&!X.height&&(Z(A),X.width=A.width,X.height=A.height),ut.clearRect(0,0,X.width,X.height),lt=lt.filter(function(Wt){return B(ut,Wt)}),lt.length?dt=E.frame(Yt):Pt()}dt=E.frame(Yt),ft=Pt});return{addFettis:function(At){return lt=lt.concat(At),Rt},canvas:A,promise:Rt,reset:function(){dt&&E.cancel(dt),ft&&ft()}}}function It(A,D){var Z=!A,X=!!k(D||{},"resize"),J=!1,lt=k(D,"disableForReducedMotion",Boolean),ut=u&&!!k(D||{},"useWorker"),dt=ut?S():null,ft=Z?O:R,Rt=A&&dt?!!A.__confetti_initialized:!1,At=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Pt;function Yt(Nt,le,Te){for(var Ke=k(Nt,"particleCount",Q),nn=k(Nt,"angle",Number),vn=k(Nt,"spread",Number),ke=k(Nt,"startVelocity",Number),ms=k(Nt,"decay",Number),Ro=k(Nt,"gravity",Number),gr=k(Nt,"drift",Number),Qe=k(Nt,"colors",_t),ha=k(Nt,"ticks",Number),me=k(Nt,"shapes"),we=k(Nt,"scalar"),Jn=!!k(Nt,"flat"),yr=gt(Nt),ps=Ke,vr=[],Li=A.width*yr.x,li=A.height*yr.y;ps--;)vr.push(N({x:Li,y:li,angle:nn,spread:vn,startVelocity:ke,color:Qe[ps%Qe.length],shape:me[tt(0,me.length)],ticks:ha,decay:ms,gravity:Ro,drift:gr,scalar:we,flat:Jn}));return Pt?Pt.addFettis(vr):(Pt=I(A,vr,ft,le,Te),Pt.promise)}function Wt(Nt){var le=lt||k(Nt,"disableForReducedMotion",Boolean),Te=k(Nt,"zIndex",Number);if(le&&At)return g(function(ke){ke()});Z&&Pt?A=Pt.canvas:Z&&!A&&(A=C(Te),document.body.appendChild(A)),X&&!Rt&&ft(A);var Ke={width:A.width,height:A.height};dt&&!Rt&&dt.init(A),Rt=!0,dt&&(A.__confetti_initialized=!0);function nn(){if(dt){var ke={getBoundingClientRect:function(){if(!Z)return A.getBoundingClientRect()}};ft(ke),dt.postMessage({resize:{width:ke.width,height:ke.height}});return}Ke.width=Ke.height=null}function vn(){Pt=null,X&&(J=!1,t.removeEventListener("resize",nn)),Z&&A&&(document.body.contains(A)&&document.body.removeChild(A),A=null,Rt=!1)}return X&&!J&&(J=!0,t.addEventListener("resize",nn,!1)),dt?dt.fire(Nt,Ke,vn):Yt(Nt,Ke,vn)}return Wt.reset=function(){dt&&dt.reset(),Pt&&Pt.reset()},Wt}var Dt;function at(){return Dt||(Dt=It(null,{useWorker:!0,resize:!0})),Dt}function ct(A,D,Z,X,J,lt,ut){var dt=new Path2D(A),ft=new Path2D;ft.addPath(dt,new DOMMatrix(D));var Rt=new Path2D;return Rt.addPath(ft,new DOMMatrix([Math.cos(ut)*J,Math.sin(ut)*J,-Math.sin(ut)*lt,Math.cos(ut)*lt,Z,X])),Rt}function ht(A){if(!h)throw new Error("path confetti are not supported in this browser");var D,Z;typeof A=="string"?D=A:(D=A.path,Z=A.matrix);var X=new Path2D(D),J=document.createElement("canvas"),lt=J.getContext("2d");if(!Z){for(var ut=1e3,dt=ut,ft=ut,Rt=0,At=0,Pt,Yt,Wt=0;Wt<ut;Wt+=2)for(var Nt=0;Nt<ut;Nt+=2)lt.isPointInPath(X,Wt,Nt,"nonzero")&&(dt=Math.min(dt,Wt),ft=Math.min(ft,Nt),Rt=Math.max(Rt,Wt),At=Math.max(At,Nt));Pt=Rt-dt,Yt=At-ft;var le=10,Te=Math.min(le/Pt,le/Yt);Z=[Te,0,0,Te,-Math.round(Pt/2+dt)*Te,-Math.round(Yt/2+ft)*Te]}return{type:"path",path:D,matrix:Z}}function Ot(A){var D,Z=1,X="#000000",J='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?D=A:(D=A.text,Z="scalar"in A?A.scalar:Z,J="fontFamily"in A?A.fontFamily:J,X="color"in A?A.color:X);var lt=10*Z,ut=""+lt+"px "+J,dt=new OffscreenCanvas(lt,lt),ft=dt.getContext("2d");ft.font=ut;var Rt=ft.measureText(D),At=Math.ceil(Rt.actualBoundingBoxRight+Rt.actualBoundingBoxLeft),Pt=Math.ceil(Rt.actualBoundingBoxAscent+Rt.actualBoundingBoxDescent),Yt=2,Wt=Rt.actualBoundingBoxLeft+Yt,Nt=Rt.actualBoundingBoxAscent+Yt;At+=Yt+Yt,Pt+=Yt+Yt,dt=new OffscreenCanvas(At,Pt),ft=dt.getContext("2d"),ft.font=ut,ft.fillStyle=X,ft.fillText(D,Wt,Nt);var le=1/Z;return{type:"bitmap",bitmap:dt.transferToImageBitmap(),matrix:[le,0,0,le,-At*le/2,-Pt*le/2]}}i.exports=function(){return at().apply(this,arguments)},i.exports.reset=function(){at().reset()},i.exports.create=It,i.exports.shapeFromPath=ht,i.exports.shapeFromText=Ot})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Tu,!1);const wE=Tu.exports;Tu.exports.create;const RE=17;function YP({streak:n,triggerCelebration:t,onResetStreak:i}){const r=Math.min(n/RE*100,100),o=n===RE;return yt.useEffect(()=>{o&&(wE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{wE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[o]),st.jsx("div",{className:"streak-wrapper",children:st.jsxs("div",{className:"streak-bar-background",children:[st.jsx(QP.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.4}}),st.jsxs("div",{className:"streak-bar-content",children:[st.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),o&&st.jsx("button",{className:"streak-reset-inline",onClick:i,children:"Reset"})]})]})})}function XP({onClose:n,questions:t}){const[i,r]=yt.useState([]),[o,u]=yt.useState(0),[h,d]=yt.useState(0);yt.useEffect(()=>{Ci("stats_modal_opened");const V=XV(OV(Ll,"questionStats"),U=>{const j=[];let k=0,Q=0;U.forEach(tt=>{const nt=tt.data();j.push({id:tt.id,...nt}),k+=nt.total||0,Q+=nt.correct||0}),r(j),u(k),d(Q)});return()=>V()},[]);const p=o?Math.round(h/o*100):0,g=[...i].filter(V=>V.correct>0).sort((V,U)=>U.correct-V.correct).slice(0,3),v=[...i].filter(V=>V.wrong>0).sort((V,U)=>U.wrong-V.wrong).slice(0,3),E=V=>{if(!Array.isArray(t))return`Frage #${V}`;const U=t.find(j=>String(j.id)===String(V));return(U==null?void 0:U.question)||`Frage #${V}`},S=(V,U)=>{Ci("stats_question_clicked",{question_id:V,type:U});const j=t.findIndex(k=>String(k.id)===String(V));j!==-1&&n(j)};return st.jsx("div",{className:"about-modal-overlay",onClick:V=>{V.target.classList.contains("about-modal-overlay")&&n()},children:st.jsxs("div",{className:"about-modal",children:[st.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),st.jsx("h2",{className:"text-xl font-bold mb-4",children:"Statistiken"}),st.jsxs("div",{className:"modal-content",children:[st.jsxs("div",{className:"stats-summary",children:[st.jsxs("div",{className:"stats-summary-box",children:[st.jsxs("p",{className:"text-sm",children:["Beantwortete",st.jsx("br",{}),"Fragen"]}),st.jsx("p",{className:"big-number",children:o})]}),st.jsxs("div",{className:"stats-summary-box",children:[st.jsxs("p",{className:"text-sm",children:["Richtig",st.jsx("br",{}),"beantwortet"]}),st.jsxs("p",{className:"big-number",children:[p,"%"]})]})]}),st.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",st.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),st.jsx("div",{className:"answer-list mb-4",children:g.map(V=>st.jsx("div",{className:"answer-button text-sm",onClick:()=>S(V.id,"correct"),children:E(V.id)},V.id))}),st.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",st.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),st.jsx("div",{className:"answer-list",children:v.map(V=>st.jsx("div",{className:"answer-button text-sm",onClick:()=>S(V.id,"wrong"),children:E(V.id)},V.id))})]})]})})}function $P({onConsentGiven:n}){const[t,i]=yt.useState(!1);yt.useEffect(()=>{localStorage.getItem("consentGiven")?n():i(!0)},[n]);const r=()=>{localStorage.setItem("consentGiven","true"),i(!1),n()};return t?st.jsx("div",{className:"consent-backdrop",children:st.jsxs("div",{className:"consent-modal",children:[st.jsx("h2",{children:"Willkommen bei Fragen-Katalog!"}),st.jsx("p",{children:"🇩🇪 Ich habe diese Seite als Lernhilfe gebaut – kostenlos, ohne Werbung oder Anmeldung. Damit ich besser verstehen kann, wie die Seite genutzt wird, verwende ich Cookies für anonyme Statistikdaten. Bitte akzeptiere die Nutzung von Cookies, um fortzufahren. Bitte akzeptiere die Nutzung von Cookies, um fortzufahren."}),st.jsx("p",{children:"🇬🇧 I built this site as a free learning project — no ads, no login, just for fun. To improve it, I use cookies for anonymous analytics. Please accept cookies to continue."}),st.jsx("button",{className:"consent-button",onClick:r,children:"Einverstanden / Accept"})]})}):null}function ZP(){var C,x,N,B,I;const[n,t]=yt.useState(!1),[i,r]=yt.useState([]),[o,u]=yt.useState(0),[h,d]=yt.useState(null),[p,g]=yt.useState(!0),[v,E]=yt.useState(!1),[S,V]=yt.useState(!1),[U,j]=yt.useState(0),[k,Q]=yt.useState(!1),tt=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);yt.useEffect(()=>{if(!n)return;const It=setInterval(()=>{var Dt;(window.gtag||(Dt=window.firebase)!=null&&Dt.analytics)&&(Ci("session_start"),clearInterval(It))},100);return fetch("/data/questions.json").then(Dt=>Dt.json()).then(Dt=>{const at=Dt.map(ct=>{var Ot;const ht=ct.question_number;return{id:ht??"N/A",question:ct.question??"No question provided",answers:ct.options??[],correct:((Ot=ct.options)==null?void 0:Ot.indexOf(ct.correct_answer))??-1,imageId:tt.has(ht)?ht:null}});r(at),g(!1)}).catch(Dt=>{console.error("❌ Failed to load questions:",Dt),g(!1)}),()=>clearInterval(It)},[n]);const nt=async It=>{var ht,Ot;const Dt=It===((ht=i[o])==null?void 0:ht.correct);d(It);const at=Dt?U+1:0;j(at),at===17&&(Ci("completed_streak_17"),Q(!0),setTimeout(()=>Q(!1),3e3));const ct=String((Ot=i[o])==null?void 0:Ot.id);Ci("question_answered",{question_id:ct,correct:Dt});try{const A=Gc(Ll,"questionStats",ct);await W_(A,{total:wi(1),correct:wi(Dt?1:0),wrong:wi(Dt?0:1)})}catch(A){A.code==="not-found"?await Z_(Gc(Ll,"questionStats",ct),{total:1,correct:Dt?1:0,wrong:Dt?0:1}):console.error("❌ Firestore update failed:",A)}try{const A=Gc(Ll,"metrics","totals");await W_(A,{total:wi(1),correct:wi(Dt?1:0),wrong:wi(Dt?0:1)})}catch(A){A.code==="not-found"?await Z_(Gc(Ll,"metrics","totals"),{total:1,correct:Dt?1:0,wrong:Dt?0:1}):console.error("❌ Failed to update global totals:",A)}},_t=()=>{d(null),u(It=>(It+1)%i.length)},rt=()=>{d(null),u(It=>(It-1+i.length)%i.length)},gt=()=>{d(null),u(Math.floor(Math.random()*i.length)),Ci("random_question_clicked")},O=()=>{V(!1),E(!0),Ci("about_modal_opened")},R=()=>{E(!1),V(!0),Ci("stats_modal_opened")};return n?st.jsxs("div",{className:"app-wrapper",children:[st.jsx("header",{className:"app-header",children:st.jsxs("div",{className:"header-inner",children:[st.jsxs("div",{className:"header-titles",children:[st.jsx("h1",{className:"app-title",children:"Fragen-Katalog"}),st.jsx("p",{className:"subtitle",children:"Under Construction"})]}),st.jsxs("div",{className:"header-links",children:[st.jsx("a",{href:"#",className:"about-link",onClick:It=>{It.preventDefault(),R()},children:"Statistiken"}),st.jsx("a",{href:"#",className:"about-link",onClick:It=>{It.preventDefault(),O()},children:"Über"})]})]})}),st.jsx("main",{className:"main-content",children:p?st.jsx("p",{className:"loading-text",children:"Loading questions..."}):st.jsxs(st.Fragment,{children:[st.jsx(YP,{streak:U,triggerCelebration:k,onResetStreak:()=>j(0)}),st.jsx(eR,{id:(C=i[o])==null?void 0:C.id,question:(x=i[o])==null?void 0:x.question,answers:(N=i[o])==null?void 0:N.answers,correctIndex:(B=i[o])==null?void 0:B.correct,selectedAnswer:h,onSelectAnswer:nt,imageId:(I=i[o])==null?void 0:I.imageId}),st.jsxs("div",{className:"controls",children:[st.jsx("button",{className:"controls-button",onClick:rt,children:"◀︎ Zurück"}),st.jsx("button",{className:"controls-button",onClick:gt,children:"Zufällig"}),st.jsx("button",{className:"controls-button",onClick:_t,children:"Weiter ▶︎"})]}),st.jsx("div",{className:"info-footer",children:st.jsxs("p",{className:"total-questions",children:["Insgesamt: ",i.length," Fragen"]})})]})}),v&&!S&&st.jsx(gx,{onClose:()=>E(!1)}),S&&!v&&st.jsx(XP,{onClose:It=>{V(!1),typeof It=="number"&&u(It)},questions:i})]}):st.jsx($P,{onConsentGiven:()=>t(!0)})}tR.createRoot(document.getElementById("root")).render(st.jsx(K1.StrictMode,{children:st.jsx(ZP,{})}))});export default WP();
