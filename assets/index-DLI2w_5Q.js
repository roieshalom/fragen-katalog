var z1=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var WP=z1((n4,_u)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function wE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gd={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function j1(){if(x0)return Dl;x0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var I0;function q1(){return I0||(I0=1,Gd.exports=j1()),Gd.exports}var st=q1(),Kd={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function F1(){if(O0)return Nt;O0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function k(A,D,Z){this.props=A,this.context=D,this.refs=j,this.updater=Z||V}k.prototype.isReactComponent={},k.prototype.setState=function(A,D){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,D,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function tt(A,D,Z){this.props=A,this.context=D,this.refs=j,this.updater=Z||V}var nt=tt.prototype=new Q;nt.constructor=tt,U(nt,k.prototype),nt.isPureReactComponent=!0;var _t=Array.isArray,rt={H:null,A:null,T:null,S:null},gt=Object.prototype.hasOwnProperty;function O(A,D,Z,X,J,lt){return Z=lt.ref,{$$typeof:n,type:A,key:D,ref:Z!==void 0?Z:null,props:lt}}function R(A,D){return O(A.type,D,void 0,void 0,void 0,A.props)}function C(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function x(A){var D={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return D[Z]})}var N=/\/+/g;function B(A,D){return typeof A=="object"&&A!==null&&A.key!=null?x(""+A.key):D.toString(36)}function I(){}function Dt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(D){A.status==="pending"&&(A.status="fulfilled",A.value=D)},function(D){A.status==="pending"&&(A.status="rejected",A.reason=D)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function qt(A,D,Z,X,J){var lt=typeof A;(lt==="undefined"||lt==="boolean")&&(A=null);var ut=!1;if(A===null)ut=!0;else switch(lt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(A.$$typeof){case n:case t:ut=!0;break;case v:return ut=A._init,qt(ut(A._payload),D,Z,X,J)}}if(ut)return J=J(A),ut=X===""?"."+B(A,0):X,_t(J)?(Z="",ut!=null&&(Z=ut.replace(N,"$&/")+"/"),qt(J,D,Z,"",function(Rt){return Rt})):J!=null&&(C(J)&&(J=R(J,Z+(J.key==null||A&&A.key===J.key?"":(""+J.key).replace(N,"$&/")+"/")+ut)),D.push(J)),1;ut=0;var dt=X===""?".":X+":";if(_t(A))for(var ft=0;ft<A.length;ft++)X=A[ft],lt=dt+B(X,ft),ut+=qt(X,D,Z,lt,J);else if(ft=S(A),typeof ft=="function")for(A=ft.call(A),ft=0;!(X=A.next()).done;)X=X.value,lt=dt+B(X,ft++),ut+=qt(X,D,Z,lt,J);else if(lt==="object"){if(typeof A.then=="function")return qt(Dt(A),D,Z,X,J);throw D=String(A),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ut}function at(A,D,Z){if(A==null)return A;var X=[],J=0;return qt(A,X,"","",function(lt){return D.call(Z,lt,J++)}),X}function ct(A){if(A._status===-1){var D=A._result;D=D(),D.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=D)}if(A._status===1)return A._result.default;throw A._result}var ht=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Pt(){}return Nt.Children={map:at,forEach:function(A,D,Z){at(A,function(){D.apply(this,arguments)},Z)},count:function(A){var D=0;return at(A,function(){D++}),D},toArray:function(A){return at(A,function(D){return D})||[]},only:function(A){if(!C(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Nt.Component=k,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=tt,Nt.StrictMode=r,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Nt.cache=function(A){return function(){return A.apply(null,arguments)}},Nt.cloneElement=function(A,D,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=U({},A.props),J=A.key,lt=void 0;if(D!=null)for(ut in D.ref!==void 0&&(lt=void 0),D.key!==void 0&&(J=""+D.key),D)!gt.call(D,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&D.ref===void 0||(X[ut]=D[ut]);var ut=arguments.length-2;if(ut===1)X.children=Z;else if(1<ut){for(var dt=Array(ut),ft=0;ft<ut;ft++)dt[ft]=arguments[ft+2];X.children=dt}return O(A.type,J,void 0,void 0,lt,X)},Nt.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},Nt.createElement=function(A,D,Z){var X,J={},lt=null;if(D!=null)for(X in D.key!==void 0&&(lt=""+D.key),D)gt.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(J[X]=D[X]);var ut=arguments.length-2;if(ut===1)J.children=Z;else if(1<ut){for(var dt=Array(ut),ft=0;ft<ut;ft++)dt[ft]=arguments[ft+2];J.children=dt}if(A&&A.defaultProps)for(X in ut=A.defaultProps,ut)J[X]===void 0&&(J[X]=ut[X]);return O(A,lt,void 0,void 0,null,J)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(A){return{$$typeof:d,render:A}},Nt.isValidElement=C,Nt.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:ct}},Nt.memo=function(A,D){return{$$typeof:g,type:A,compare:D===void 0?null:D}},Nt.startTransition=function(A){var D=rt.T,Z={};rt.T=Z;try{var X=A(),J=rt.S;J!==null&&J(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Pt,ht)}catch(lt){ht(lt)}finally{rt.T=D}},Nt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Nt.use=function(A){return rt.H.use(A)},Nt.useActionState=function(A,D,Z){return rt.H.useActionState(A,D,Z)},Nt.useCallback=function(A,D){return rt.H.useCallback(A,D)},Nt.useContext=function(A){return rt.H.useContext(A)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(A,D){return rt.H.useDeferredValue(A,D)},Nt.useEffect=function(A,D){return rt.H.useEffect(A,D)},Nt.useId=function(){return rt.H.useId()},Nt.useImperativeHandle=function(A,D,Z){return rt.H.useImperativeHandle(A,D,Z)},Nt.useInsertionEffect=function(A,D){return rt.H.useInsertionEffect(A,D)},Nt.useLayoutEffect=function(A,D){return rt.H.useLayoutEffect(A,D)},Nt.useMemo=function(A,D){return rt.H.useMemo(A,D)},Nt.useOptimistic=function(A,D){return rt.H.useOptimistic(A,D)},Nt.useReducer=function(A,D,Z){return rt.H.useReducer(A,D,Z)},Nt.useRef=function(A){return rt.H.useRef(A)},Nt.useState=function(A){return rt.H.useState(A)},Nt.useSyncExternalStore=function(A,D,Z){return rt.H.useSyncExternalStore(A,D,Z)},Nt.useTransition=function(){return rt.H.useTransition()},Nt.version="19.0.0",Nt}var N0;function cp(){return N0||(N0=1,Kd.exports=F1()),Kd.exports}var yt=cp();const H1=wE(yt);var Qd={exports:{}},Vl={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function G1(){return P0||(P0=1,function(n){function t(at,ct){var ht=at.length;at.push(ct);t:for(;0<ht;){var Pt=ht-1>>>1,A=at[Pt];if(0<o(A,ct))at[Pt]=ct,at[ht]=A,ht=Pt;else break t}}function i(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var ct=at[0],ht=at.pop();if(ht!==ct){at[0]=ht;t:for(var Pt=0,A=at.length,D=A>>>1;Pt<D;){var Z=2*(Pt+1)-1,X=at[Z],J=Z+1,lt=at[J];if(0>o(X,ht))J<A&&0>o(lt,X)?(at[Pt]=lt,at[J]=ht,Pt=J):(at[Pt]=X,at[Z]=ht,Pt=Z);else if(J<A&&0>o(lt,ht))at[Pt]=lt,at[J]=ht,Pt=J;else break t}}return ct}function o(at,ct){var ht=at.sortIndex-ct.sortIndex;return ht!==0?ht:at.id-ct.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,E=null,S=3,V=!1,U=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function nt(at){for(var ct=i(g);ct!==null;){if(ct.callback===null)r(g);else if(ct.startTime<=at)r(g),ct.sortIndex=ct.expirationTime,t(p,ct);else break;ct=i(g)}}function _t(at){if(j=!1,nt(at),!U)if(i(p)!==null)U=!0,Dt();else{var ct=i(g);ct!==null&&qt(_t,ct.startTime-at)}}var rt=!1,gt=-1,O=5,R=-1;function C(){return!(n.unstable_now()-R<O)}function x(){if(rt){var at=n.unstable_now();R=at;var ct=!0;try{t:{U=!1,j&&(j=!1,Q(gt),gt=-1),V=!0;var ht=S;try{e:{for(nt(at),E=i(p);E!==null&&!(E.expirationTime>at&&C());){var Pt=E.callback;if(typeof Pt=="function"){E.callback=null,S=E.priorityLevel;var A=Pt(E.expirationTime<=at);if(at=n.unstable_now(),typeof A=="function"){E.callback=A,nt(at),ct=!0;break e}E===i(p)&&r(p),nt(at)}else r(p);E=i(p)}if(E!==null)ct=!0;else{var D=i(g);D!==null&&qt(_t,D.startTime-at),ct=!1}}break t}finally{E=null,S=ht,V=!1}ct=void 0}}finally{ct?N():rt=!1}}}var N;if(typeof tt=="function")N=function(){tt(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=x,N=function(){I.postMessage(null)}}else N=function(){k(x,0)};function Dt(){rt||(rt=!0,N())}function qt(at,ct){gt=k(function(){at(n.unstable_now())},ct)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_continueExecution=function(){U||V||(U=!0,Dt())},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(at){switch(S){case 1:case 2:case 3:var ct=3;break;default:ct=S}var ht=S;S=ct;try{return at()}finally{S=ht}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(at,ct){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ht=S;S=at;try{return ct()}finally{S=ht}},n.unstable_scheduleCallback=function(at,ct,ht){var Pt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Pt+ht:Pt):ht=Pt,at){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ht+A,at={id:v++,callback:ct,priorityLevel:at,startTime:ht,expirationTime:A,sortIndex:-1},ht>Pt?(at.sortIndex=ht,t(g,at),i(p)===null&&at===i(g)&&(j?(Q(gt),gt=-1):j=!0,qt(_t,ht-Pt))):(at.sortIndex=A,t(p,at),U||V||(U=!0,Dt())),at},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(at){var ct=S;return function(){var ht=S;S=ct;try{return at.apply(this,arguments)}finally{S=ht}}}}(Xd)),Xd}var L0;function K1(){return L0||(L0=1,Yd.exports=G1()),Yd.exports}var $d={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Q1(){if(U0)return an;U0=1;var n=cp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},an.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},an.requestFormReset=function(p){r.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.0.0",an}var k0;function Y1(){if(k0)return $d.exports;k0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$d.exports=Q1(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function X1(){if(B0)return Vl;B0=1;var n=K1(),t=cp(),i=Y1();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),_t=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function gt(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case U:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return s=e.displayName||null,s!==null?s:R(e.type)||"Memo";case tt:s=e._payload,e=e._init;try{return R(e(s))}catch{}}return null}var C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,N,B;function I(e){if(N===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+B}var Dt=!1;function qt(e,s){if(!e||Dt)return"";Dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var H=K}Reflect.construct(e,[],et)}else{try{et.call()}catch(K){H=K}e.call(et.prototype)}}else{try{throw Error()}catch(K){H=K}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var M=T.split(`
`),L=b.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===L.length)for(l=M.length-1,f=L.length-1;1<=l&&0<=f&&M[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==L[f]){var Y=`
`+M[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Dt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=qt(e.type,!1),e;case 11:return e=qt(e.type.render,!1),e;case 1:return e=qt(e.type,!0),e;default:return""}}function ct(e){try{var s="";do s+=at(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ht(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function Pt(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function A(e){if(ht(e)!==e)throw Error(r(188))}function D(e){var s=e.alternate;if(!s){if(s=ht(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return A(f),e;if(m===l)return A(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=m;break}if(b===l){T=!0,l=f,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=f;break}if(b===l){T=!0,l=m,a=f;break}b=b.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function Z(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=Z(e),s!==null)return s;e=e.sibling}return null}var X=Array.isArray,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ut=[],dt=-1;function ft(e){return{current:e}}function Rt(e){0>dt||(e.current=ut[dt],ut[dt]=null,dt--)}function At(e,s){dt++,ut[dt]=e.current,e.current=s}var Ot=ft(null),Yt=ft(null),Wt=ft(null),It=ft(null);function le(e,s){switch(At(Wt,s),At(Yt,e),At(Ot,null),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?a0(s):0;break;default:if(e=e===8?s.parentNode:s,s=e.tagName,e=e.namespaceURI)e=a0(e),s=o0(e,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Rt(Ot),At(Ot,s)}function Te(){Rt(Ot),Rt(Yt),Rt(Wt)}function Ke(e){e.memoizedState!==null&&At(It,e);var s=Ot.current,a=o0(s,e.type);s!==a&&(At(Yt,e),At(Ot,a))}function nn(e){Yt.current===e&&(Rt(Ot),Rt(Yt)),It.current===e&&(Rt(It),bl._currentValue=lt)}var vn=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,ds=n.unstable_cancelCallback,wo=n.unstable_shouldYield,pr=n.unstable_requestPaint,Qe=n.unstable_now,ca=n.unstable_getCurrentPriorityLevel,me=n.unstable_ImmediatePriority,we=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,gr=n.unstable_LowPriority,ms=n.unstable_IdlePriority,yr=n.log,Ni=n.unstable_setDisableYieldValue,li=null,sn=null;function Ro(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(li,e,void 0,(e.current.flags&128)===128)}catch{}}function ui(e){if(typeof yr=="function"&&Ni(e),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(li,e)}catch{}}var fn=Math.clz32?Math.clz32:Eu,Co=Math.log,Tu=Math.LN2;function Eu(e){return e>>>=0,e===0?32:31-(Co(e)/Tu|0)|0}var ci=128,ps=4194304;function ti(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,s){var a=e.pendingLanes;if(a===0)return 0;var l=0,f=e.suspendedLanes,m=e.pingedLanes,T=e.warmLanes;e=e.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=ti(a):(m&=b,m!==0?l=ti(m):e||(T=b&~T,T!==0&&(l=ti(T))))):(b=a&~f,b!==0?l=ti(b):m!==0?l=ti(m):e||(T=a&~T,T!==0&&(l=ti(T)))),l===0?0:s!==0&&s!==l&&(s&f)===0&&(f=l&-l,T=s&-s,f>=T||f===32&&(T&4194176)!==0)?s:l}function gs(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function ha(e,s){switch(e){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var e=ci;return ci<<=1,(ci&4194176)===0&&(ci=128),e}function ys(){var e=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),e}function fa(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Ee(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Au(e,s,a,l,f,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,M=e.expirationTimes,L=e.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-fn(a),et=1<<Y;b[Y]=0,M[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~et}l!==0&&vs(e,l,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~s))}function vs(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-fn(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function _s(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-fn(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function bu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Su(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:w0(e.type))}function Ts(e,s){var a=J.p;try{return J.p=e,s()}finally{J.p=a}}var hi=Math.random().toString(36).slice(2),Be="__reactFiber$"+hi,Me="__reactProps$"+hi,Pi="__reactContainer$"+hi,vr="__reactEvents$"+hi,da="__reactListeners$"+hi,fi="__reactHandles$"+hi,Vo="__reactResources$"+hi,Es="__reactMarker$"+hi;function _r(e){delete e[Be],delete e[Me],delete e[vr],delete e[da],delete e[fi]}function ei(e){var s=e[Be];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Pi]||a[Be]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=c0(e);e!==null;){if(a=e[Be])return a;e=c0(e)}return s}e=a,a=e.parentNode}return null}function Li(e){if(e=e[Be]||e[Pi]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function As(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function bs(e){var s=e[Vo];return s||(s=e[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ue(e){e[Es]=!0}var Mo=new Set,ma={};function wn(e,s){_n(e,s),_n(e+"Capture",s)}function _n(e,s){for(ma[e]=s,e=0;e<s.length;e++)Mo.add(s[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Io={};function wu(e){return vn.call(Io,e)?!0:vn.call(xo,e)?!1:Yh.test(e)?Io[e]=!0:(xo[e]=!0,!1)}function Ss(e,s,a){if(wu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function ws(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ln(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ru(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xh(e){var s=Ru(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Tr(e){e._valueTracker||(e._valueTracker=Xh(e))}function Oo(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=Ru(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ui=/[\n"\\]/g;function pe(e){return e.replace(Ui,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rs(e,s,a,l,f,m,T,b){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+dn(s)):e.value!==""+dn(s)&&(e.value=""+dn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?ga(e,T,dn(s)):a!=null?ga(e,T,dn(a)):l!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+dn(b):e.removeAttribute("name")}function Er(e,s,a,l,f,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,b||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function ga(e,s,a){s==="number"&&pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Xt(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Ar(e,s,a){if(s!=null&&(s=""+dn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+dn(a):""}function Cs(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(X(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=dn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Un(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||$h.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Cu(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&No(e,f,l)}else for(var m in s)s.hasOwnProperty(m)&&No(e,m,s[m])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return Wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kn=null;function ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,Bi=null;function zi(e){var s=Li(e);if(s&&(e=s.stateNode)){var a=e[Me]||null;t:switch(e=s.stateNode,s.type){case"input":if(Rs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[Me]||null;if(!f)throw Error(r(90));Rs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Oo(l)}break t;case"textarea":Ar(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Xt(e,!!a.multiple,s,!1)}}}var Lo=!1;function Du(e,s,a){if(Lo)return e(s,a);Lo=!0;try{var l=e(s);return l}finally{if(Lo=!1,(ki!==null||Bi!==null)&&(_c(),ki&&(s=ki,e=Bi,Bi=ki=null,zi(s),e)))for(s=0;s<e.length;s++)zi(e[s])}}function br(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Bn=!1;if(Rn)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Bn=!1}var mi=null,Ds=null,ji=null;function Uo(){if(ji)return ji;var e,s=Ds,a=s.length,l,f="value"in mi?mi.value:mi.textContent,m=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[m-l];l++);return ji=f.slice(e,1<l?1-l:void 0)}function pi(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function ko(){return!1}function ze(e){function s(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gi:ko,this.isPropagationStopped=ko,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=ze(Jt),wr=x({},Jt,{view:0,detail:0}),Vu=ze(wr),_a,Ta,yi,Rr=x({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(_a=e.screenX-yi.screenX,Ta=e.screenY-yi.screenY):Ta=_a=0,yi=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),zn=ze(Rr),Mu=x({},Rr,{dataTransfer:0}),Jh=ze(Mu),Cr=x({},wr,{relatedTarget:0}),Ea=ze(Cr),Bo=x({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=ze(Bo),xu=x({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ba=ze(xu),tf=x({},Jt,{data:0}),zo=ze(tf),Dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Ou[e])?!!s[e]:!1}function Vr(){return jo}var Nu=x({},wr,{key:function(e){if(e.key){var s=Dr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sa=ze(Nu),Pu=x({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=ze(Pu),qi=x({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Lu=ze(qi),Uu=x({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=ze(Uu),Bu=x({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=ze(Bu),mn=x({},Jt,{newState:0,oldState:0}),zu=ze(mn),ju=[9,13,27,32],vi=Rn&&"CompositionEvent"in window,c=null;Rn&&"documentMode"in document&&(c=document.documentMode);var y=Rn&&"TextEvent"in window&&!c,_=Rn&&(!vi||c&&8<c&&11>=c),w=" ",q=!1;function G(e,s){switch(e){case"keyup":return ju.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ft=!1;function xe(e,s){switch(e){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(q=!0,w);case"textInput":return e=s.data,e===w&&q?null:e;default:return null}}function Ht(e,s){if(Ft)return e==="compositionend"||!vi&&G(e,s)?(e=Uo(),ji=Ds=mi=null,Ft=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!je[e.type]:s==="textarea"}function Fi(e,s,a,l){ki?Bi?Bi.push(l):Bi=[l]:ki=l,s=Sc(s,"onChange"),0<s.length&&(a=new va("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Ye=null,_i=null;function Fo(e){e0(e,0)}function qu(e){var s=As(e);if(Oo(s))return e}function Mg(e,s){if(e==="change")return s}var xg=!1;if(Rn){var ef;if(Rn){var nf="oninput"in document;if(!nf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),nf=typeof Ig.oninput=="function"}ef=nf}else ef=!1;xg=ef&&(!document.documentMode||9<document.documentMode)}function Og(){Ye&&(Ye.detachEvent("onpropertychange",Ng),_i=Ye=null)}function Ng(e){if(e.propertyName==="value"&&qu(_i)){var s=[];Fi(s,_i,e,ya(e)),Du(Fo,s)}}function gw(e,s,a){e==="focusin"?(Og(),Ye=s,_i=a,Ye.attachEvent("onpropertychange",Ng)):e==="focusout"&&Og()}function yw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(_i)}function vw(e,s){if(e==="click")return qu(s)}function _w(e,s){if(e==="input"||e==="change")return qu(s)}function Tw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Cn=typeof Object.is=="function"?Object.is:Tw;function Ho(e,s){if(Cn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vn.call(s,f)||!Cn(e[f],s[f]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,s){var a=Pg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pg(a)}}function Ug(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ug(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=pa(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=pa(e.document)}return s}function sf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Ew(e,s){var a=kg(s);s=e.focusedElem;var l=e.selectionRange;if(a!==s&&s&&s.ownerDocument&&Ug(s.ownerDocument.documentElement,s)){if(l!==null&&sf(s)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(a,s.value.length);else if(a=(e=s.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=s.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=Lg(s,m);var T=Lg(s,l);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(e),a.extend(T.node,T.offset)):(e.setEnd(T.node,T.offset),a.addRange(e)))}}for(e=[],a=s;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)a=e[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Aw=Rn&&"documentMode"in document&&11>=document.documentMode,Ra=null,rf=null,Go=null,af=!1;function Bg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||Ra==null||Ra!==pa(l)||(l=Ra,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Ho(Go,l)||(Go=l,l=Sc(rf,"onSelect"),0<l.length&&(s=new va("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ra)))}function Mr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Ca={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},of={},zg={};Rn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function xr(e){if(of[e])return of[e];if(!Ca[e])return e;var s=Ca[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in zg)return of[e]=s[a];return e}var jg=xr("animationend"),qg=xr("animationiteration"),Fg=xr("animationstart"),bw=xr("transitionrun"),Sw=xr("transitionstart"),ww=xr("transitioncancel"),Hg=xr("transitionend"),Gg=new Map,Kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ni(e,s){Gg.set(e,s),wn(s,[e])}var jn=[],Da=0,lf=0;function Fu(){for(var e=Da,s=lf=Da=0;s<e;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var m=jn[s];if(jn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Qg(a,f,m)}}function Hu(e,s,a,l){jn[Da++]=e,jn[Da++]=s,jn[Da++]=a,jn[Da++]=l,lf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function uf(e,s,a,l){return Hu(e,s,a,l),Gu(e)}function Vs(e,s){return Hu(e,null,null,s),Gu(e)}function Qg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;f&&s!==null&&e.tag===3&&(m=e.stateNode,f=31-fn(a),m=m.hiddenUpdates,e=m[f],e===null?m[f]=[s]:e.push(s),s.lane=a|536870912)}function Gu(e){if(50<gl)throw gl=0,pd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Va={},Yg=new WeakMap;function qn(e,s){if(typeof e=="object"&&e!==null){var a=Yg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:ct(s)},Yg.set(e,s),s)}return{value:e,source:s,stack:ct(s)}}var Ma=[],xa=0,Ku=null,Qu=0,Fn=[],Hn=0,Ir=null,Hi=1,Gi="";function Or(e,s){Ma[xa++]=Qu,Ma[xa++]=Ku,Ku=e,Qu=s}function Xg(e,s,a){Fn[Hn++]=Hi,Fn[Hn++]=Gi,Fn[Hn++]=Ir,Ir=e;var l=Hi;e=Gi;var f=32-fn(l)-1;l&=~(1<<f),a+=1;var m=32-fn(s)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Hi=1<<32-fn(s)+f|a<<f|l,Gi=m+e}else Hi=1<<m|a<<f|l,Gi=e}function cf(e){e.return!==null&&(Or(e,1),Xg(e,1,0))}function hf(e){for(;e===Ku;)Ku=Ma[--xa],Ma[xa]=null,Qu=Ma[--xa],Ma[xa]=null;for(;e===Ir;)Ir=Fn[--Hn],Fn[Hn]=null,Gi=Fn[--Hn],Fn[Hn]=null,Hi=Fn[--Hn],Fn[Hn]=null}var pn=null,Xe=null,$t=!1,ii=null,Ti=!1,ff=Error(r(519));function Nr(e){var s=Error(r(418,""));throw Yo(qn(s,e)),ff}function $g(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Be]=e,s[Me]=l,a){case"dialog":jt("cancel",s),jt("close",s);break;case"iframe":case"object":case"embed":jt("load",s);break;case"video":case"audio":for(a=0;a<vl.length;a++)jt(vl[a],s);break;case"source":jt("error",s);break;case"img":case"image":case"link":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"input":jt("invalid",s),Er(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Tr(s);break;case"select":jt("invalid",s);break;case"textarea":jt("invalid",s),Cs(s,l.value,l.defaultValue,l.children),Tr(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||r0(s.textContent,a)?(l.popover!=null&&(jt("beforetoggle",s),jt("toggle",s)),l.onScroll!=null&&jt("scroll",s),l.onScrollEnd!=null&&jt("scrollend",s),l.onClick!=null&&(s.onclick=wc),s=!0):s=!1,s||Nr(e)}function Zg(e){for(pn=e.return;pn;)switch(pn.tag){case 3:case 27:Ti=!0;return;case 5:case 13:Ti=!1;return;default:pn=pn.return}}function Ko(e){if(e!==pn)return!1;if(!$t)return Zg(e),$t=!0,!1;var s=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Id(e.type,e.memoizedProps)),a=!a),a&&(s=!0),s&&Xe&&Nr(e),Zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){Xe=ri(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}Xe=null}}else Xe=pn?ri(e.stateNode.nextSibling):null;return!0}function Qo(){Xe=pn=null,$t=!1}function Yo(e){ii===null?ii=[e]:ii.push(e)}var Xo=Error(r(460)),Wg=Error(r(474)),df={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yu(){}function ty(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Yu,Yu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,e===Xo?Error(r(483)):e;default:if(typeof s.status=="string")s.then(Yu,Yu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,e===Xo?Error(r(483)):e}throw $o=s,Xo}}var $o=null;function ey(){if($o===null)throw Error(r(459));var e=$o;return $o=null,e}var Ia=null,Zo=0;function Xu(e){var s=Zo;return Zo+=1,Ia===null&&(Ia=[]),ty(Ia,e,s)}function Wo(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function $u(e,s){throw s.$$typeof===u?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function ny(e){var s=e._init;return s(e._payload)}function iy(e){function s(z,P){if(e){var F=z.deletions;F===null?(z.deletions=[P],z.flags|=16):F.push(P)}}function a(z,P){if(!e)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=js(z,P),z.index=0,z.sibling=null,z}function m(z,P,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<P?(z.flags|=33554434,P):F):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function T(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function b(z,P,F,$){return P===null||P.tag!==6?(P=od(F,z.mode,$),P.return=z,P):(P=f(P,F),P.return=z,P)}function M(z,P,F,$){var pt=F.type;return pt===p?Y(z,P,F.props.children,$,F.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===tt&&ny(pt)===P.type)?(P=f(P,F.props),Wo(P,F),P.return=z,P):(P=mc(F.type,F.key,F.props,null,z.mode,$),Wo(P,F),P.return=z,P)}function L(z,P,F,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=ld(F,z.mode,$),P.return=z,P):(P=f(P,F.children||[]),P.return=z,P)}function Y(z,P,F,$,pt){return P===null||P.tag!==7?(P=Hr(F,z.mode,$,pt),P.return=z,P):(P=f(P,F),P.return=z,P)}function et(z,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=od(""+P,z.mode,F),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return F=mc(P.type,P.key,P.props,null,z.mode,F),Wo(F,P),F.return=z,F;case d:return P=ld(P,z.mode,F),P.return=z,P;case tt:var $=P._init;return P=$(P._payload),et(z,P,F)}if(X(P)||gt(P))return P=Hr(P,z.mode,F,null),P.return=z,P;if(typeof P.then=="function")return et(z,Xu(P),F);if(P.$$typeof===V)return et(z,hc(z,P),F);$u(z,P)}return null}function H(z,P,F,$){var pt=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pt!==null?null:b(z,P,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===pt?M(z,P,F,$):null;case d:return F.key===pt?L(z,P,F,$):null;case tt:return pt=F._init,F=pt(F._payload),H(z,P,F,$)}if(X(F)||gt(F))return pt!==null?null:Y(z,P,F,$,null);if(typeof F.then=="function")return H(z,P,Xu(F),$);if(F.$$typeof===V)return H(z,P,hc(z,F),$);$u(z,F)}return null}function K(z,P,F,$,pt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(F)||null,b(P,z,""+$,pt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return z=z.get($.key===null?F:$.key)||null,M(P,z,$,pt);case d:return z=z.get($.key===null?F:$.key)||null,L(P,z,$,pt);case tt:var kt=$._init;return $=kt($._payload),K(z,P,F,$,pt)}if(X($)||gt($))return z=z.get(F)||null,Y(P,z,$,pt,null);if(typeof $.then=="function")return K(z,P,F,Xu($),pt);if($.$$typeof===V)return K(z,P,F,hc(P,$),pt);$u(P,$)}return null}function vt(z,P,F,$){for(var pt=null,kt=null,Tt=P,St=P=0,He=null;Tt!==null&&St<F.length;St++){Tt.index>St?(He=Tt,Tt=null):He=Tt.sibling;var Zt=H(z,Tt,F[St],$);if(Zt===null){Tt===null&&(Tt=He);break}e&&Tt&&Zt.alternate===null&&s(z,Tt),P=m(Zt,P,St),kt===null?pt=Zt:kt.sibling=Zt,kt=Zt,Tt=He}if(St===F.length)return a(z,Tt),$t&&Or(z,St),pt;if(Tt===null){for(;St<F.length;St++)Tt=et(z,F[St],$),Tt!==null&&(P=m(Tt,P,St),kt===null?pt=Tt:kt.sibling=Tt,kt=Tt);return $t&&Or(z,St),pt}for(Tt=l(Tt);St<F.length;St++)He=K(Tt,z,St,F[St],$),He!==null&&(e&&He.alternate!==null&&Tt.delete(He.key===null?St:He.key),P=m(He,P,St),kt===null?pt=He:kt.sibling=He,kt=He);return e&&Tt.forEach(function(Ys){return s(z,Ys)}),$t&&Or(z,St),pt}function Mt(z,P,F,$){if(F==null)throw Error(r(151));for(var pt=null,kt=null,Tt=P,St=P=0,He=null,Zt=F.next();Tt!==null&&!Zt.done;St++,Zt=F.next()){Tt.index>St?(He=Tt,Tt=null):He=Tt.sibling;var Ys=H(z,Tt,Zt.value,$);if(Ys===null){Tt===null&&(Tt=He);break}e&&Tt&&Ys.alternate===null&&s(z,Tt),P=m(Ys,P,St),kt===null?pt=Ys:kt.sibling=Ys,kt=Ys,Tt=He}if(Zt.done)return a(z,Tt),$t&&Or(z,St),pt;if(Tt===null){for(;!Zt.done;St++,Zt=F.next())Zt=et(z,Zt.value,$),Zt!==null&&(P=m(Zt,P,St),kt===null?pt=Zt:kt.sibling=Zt,kt=Zt);return $t&&Or(z,St),pt}for(Tt=l(Tt);!Zt.done;St++,Zt=F.next())Zt=K(Tt,z,St,Zt.value,$),Zt!==null&&(e&&Zt.alternate!==null&&Tt.delete(Zt.key===null?St:Zt.key),P=m(Zt,P,St),kt===null?pt=Zt:kt.sibling=Zt,kt=Zt);return e&&Tt.forEach(function(B1){return s(z,B1)}),$t&&Or(z,St),pt}function ve(z,P,F,$){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:t:{for(var pt=F.key;P!==null;){if(P.key===pt){if(pt=F.type,pt===p){if(P.tag===7){a(z,P.sibling),$=f(P,F.props.children),$.return=z,z=$;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===tt&&ny(pt)===P.type){a(z,P.sibling),$=f(P,F.props),Wo($,F),$.return=z,z=$;break t}a(z,P);break}else s(z,P);P=P.sibling}F.type===p?($=Hr(F.props.children,z.mode,$,F.key),$.return=z,z=$):($=mc(F.type,F.key,F.props,null,z.mode,$),Wo($,F),$.return=z,z=$)}return T(z);case d:t:{for(pt=F.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a(z,P.sibling),$=f(P,F.children||[]),$.return=z,z=$;break t}else{a(z,P);break}else s(z,P);P=P.sibling}$=ld(F,z.mode,$),$.return=z,z=$}return T(z);case tt:return pt=F._init,F=pt(F._payload),ve(z,P,F,$)}if(X(F))return vt(z,P,F,$);if(gt(F)){if(pt=gt(F),typeof pt!="function")throw Error(r(150));return F=pt.call(F),Mt(z,P,F,$)}if(typeof F.then=="function")return ve(z,P,Xu(F),$);if(F.$$typeof===V)return ve(z,P,hc(z,F),$);$u(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a(z,P.sibling),$=f(P,F),$.return=z,z=$):(a(z,P),$=od(F,z.mode,$),$.return=z,z=$),T(z)):a(z,P)}return function(z,P,F,$){try{Zo=0;var pt=ve(z,P,F,$);return Ia=null,pt}catch(Tt){if(Tt===Xo)throw Tt;var kt=Yn(29,Tt,null,z.mode);return kt.lanes=$,kt.return=z,kt}finally{}}}var Pr=iy(!0),sy=iy(!1),Oa=ft(null),Zu=ft(0);function ry(e,s){e=ns,At(Zu,e),At(Oa,s),ns=e|s.baseLanes}function mf(){At(Zu,ns),At(Oa,Oa.current)}function pf(){ns=Zu.current,Rt(Oa),Rt(Zu)}var Gn=ft(null),Ei=null;function Ms(e){var s=e.alternate;At(Oe,Oe.current&1),At(Gn,e),Ei===null&&(s===null||Oa.current!==null||s.memoizedState!==null)&&(Ei=e)}function ay(e){if(e.tag===22){if(At(Oe,Oe.current),At(Gn,e),Ei===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Ei=e)}}else xs()}function xs(){At(Oe,Oe.current),At(Gn,Gn.current)}function Ki(e){Rt(Gn),Ei===e&&(Ei=null),Rt(Oe)}var Oe=ft(0);function Wu(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Cw=n.unstable_scheduleCallback,Dw=n.unstable_NormalPriority,Ne={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new Rw,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&Cw(Dw,function(){e.controller.abort()})}var tl=null,yf=0,Na=0,Pa=null;function Vw(e,s){if(tl===null){var a=tl=[];yf=0,Na=bd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yf++,s.then(oy,oy),s}function oy(){if(--yf===0&&tl!==null){Pa!==null&&(Pa.status="fulfilled");var e=tl;tl=null,Na=0,Pa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Mw(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ly=C.S;C.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Vw(e,s),ly!==null&&ly(e,s)};var Lr=ft(null);function vf(){var e=Lr.current;return e!==null?e:se.pooledCache}function Ju(e,s){s===null?At(Lr,Lr.current):At(Lr,s.pool)}function uy(){var e=vf();return e===null?null:{parent:Ne._currentValue,pool:e}}var Is=0,Lt=null,ee=null,Re=null,tc=!1,La=!1,Ur=!1,ec=0,el=0,Ua=null,xw=0;function Ae(){throw Error(r(321))}function _f(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Cn(e[a],s[a]))return!1;return!0}function Tf(e,s,a,l,f,m){return Is=m,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=e===null||e.memoizedState===null?kr:Os,Ur=!1,m=a(l,f),Ur=!1,La&&(m=hy(s,a,l,f)),cy(e),m}function cy(e){C.H=Ai;var s=ee!==null&&ee.next!==null;if(Is=0,Re=ee=Lt=null,tc=!1,el=0,Ua=null,s)throw Error(r(300));e===null||qe||(e=e.dependencies,e!==null&&cc(e)&&(qe=!0))}function hy(e,s,a,l){Lt=e;var f=0;do{if(La&&(Ua=null),el=0,La=!1,25<=f)throw Error(r(301));if(f+=1,Re=ee=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=Br,m=s(a,l)}while(La);return m}function Iw(){var e=C.H,s=e.useState()[0];return s=typeof s.then=="function"?nl(s):s,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Lt.flags|=1024),s}function Ef(){var e=ec!==0;return ec=0,e}function Af(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function bf(e){if(tc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}tc=!1}Is=0,Re=ee=Lt=null,La=!1,el=ec=0,Ua=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Lt.memoizedState=Re=e:Re=Re.next=e,Re}function Ce(){if(ee===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var s=Re===null?Lt.memoizedState:Re.next;if(s!==null)Re=s,ee=e;else{if(e===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Re===null?Lt.memoizedState=Re=e:Re=Re.next=e}return Re}var nc;nc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(e){var s=el;return el+=1,Ua===null&&(Ua=[]),e=ty(Ua,e,s),s=Lt,(Re===null?s.memoizedState:Re.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?kr:Os),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===V)return rn(e)}throw Error(r(438,String(e)))}function Sf(e){var s=null,a=Lt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=nc(),Lt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=_t;return s.index++,a}function Qi(e,s){return typeof s=="function"?s(e):s}function sc(e){var s=Ce();return wf(s,ee,e)}function wf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}s.baseQueue=f=m,l.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{s=f.next;var b=T=null,M=null,L=s,Y=!1;do{var et=L.lane&-536870913;if(et!==L.lane?(Gt&et)===et:(Is&et)===et){var H=L.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),et===Na&&(Y=!0);else if((Is&H)===H){L=L.next,H===Na&&(Y=!0);continue}else et={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},M===null?(b=M=et,T=m):M=M.next=et,Lt.lanes|=H,qs|=H;et=L.action,Ur&&a(m,et),m=L.hasEagerState?L.eagerState:a(m,et)}else H={lane:et,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},M===null?(b=M=H,T=m):M=M.next=H,Lt.lanes|=et,qs|=et;L=L.next}while(L!==null&&L!==s);if(M===null?T=m:M.next=b,!Cn(m,e.memoizedState)&&(qe=!0,Y&&(a=Pa,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=M,l.lastRenderedState=m}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var s=Ce(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=e(m,T.action),T=T.next;while(T!==f);Cn(m,s.memoizedState)||(qe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function fy(e,s,a){var l=Lt,f=Ce(),m=$t;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!Cn((ee||f).memoizedState,a);if(T&&(f.memoizedState=a,qe=!0),f=f.queue,Vf(py.bind(null,l,f,e),[e]),f.getSnapshot!==s||T||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,ka(9,my.bind(null,l,f,a,s),{destroy:void 0},null),se===null)throw Error(r(349));m||(Is&60)!==0||dy(l,s,a)}return a}function dy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Lt.updateQueue,s===null?(s=nc(),Lt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function my(e,s,a,l){s.value=a,s.getSnapshot=l,gy(s)&&yy(e)}function py(e,s,a){return a(function(){gy(s)&&yy(e)})}function gy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Cn(e,a)}catch{return!0}}function yy(e){var s=Vs(e,2);s!==null&&gn(s,e,2)}function Cf(e){var s=Tn();if(typeof e=="function"){var a=e;if(e=a(),Ur){ui(!0);try{a()}finally{ui(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},s}function vy(e,s,a,l){return e.baseState=a,wf(e,ee,typeof l=="function"?l:Qi)}function Ow(e,s,a,l,f){if(oc(e))throw Error(r(485));if(e=s.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};C.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,_y(s,m)):(m.next=a.next,s.pending=a.next=m)}}function _y(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var m=C.T,T={};C.T=T;try{var b=a(f,l),M=C.S;M!==null&&M(T,b),Ty(e,s,b)}catch(L){Df(e,s,L)}finally{C.T=m}}else try{m=a(f,l),Ty(e,s,m)}catch(L){Df(e,s,L)}}function Ty(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(e,s,l)},function(l){return Df(e,s,l)}):Ey(e,s,a)}function Ey(e,s,a){s.status="fulfilled",s.value=a,Ay(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,_y(e,a)))}function Df(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ay(s),s=s.next;while(s!==l)}e.action=null}function Ay(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function by(e,s){return s}function Sy(e,s){if($t){var a=se.formState;if(a!==null){t:{var l=Lt;if($t){if(Xe){e:{for(var f=Xe,m=Ti;f.nodeType!==8;){if(!m){f=null;break e}if(f=ri(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Xe=ri(f.nextSibling),l=f.data==="F!";break t}}Nr(l)}l=!1}l&&(s=a[0])}}return a=Tn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:s},a.queue=l,a=qy.bind(null,Lt,l),l.dispatch=a,l=Cf(!1),m=Nf.bind(null,Lt,!1,l.queue),l=Tn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=Ow.bind(null,Lt,f,m,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function wy(e){var s=Ce();return Ry(s,ee,e)}function Ry(e,s,a){s=wf(e,s,by)[0],e=sc(Qi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?nl(s):s;var l=Ce(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(Lt.flags|=2048,ka(9,Nw.bind(null,f,a),{destroy:void 0},null)),[s,m,e]}function Nw(e,s){e.action=s}function Cy(e){var s=Ce(),a=ee;if(a!==null)return Ry(s,a,e);Ce(),s=s.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function ka(e,s,a,l){return e={tag:e,create:s,inst:a,deps:l,next:null},s=Lt.updateQueue,s===null&&(s=nc(),Lt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Dy(){return Ce().memoizedState}function rc(e,s,a,l){var f=Tn();Lt.flags|=e,f.memoizedState=ka(1|s,a,{destroy:void 0},l===void 0?null:l)}function ac(e,s,a,l){var f=Ce();l=l===void 0?null:l;var m=f.memoizedState.inst;ee!==null&&l!==null&&_f(l,ee.memoizedState.deps)?f.memoizedState=ka(s,a,m,l):(Lt.flags|=e,f.memoizedState=ka(1|s,a,m,l))}function Vy(e,s){rc(8390656,8,e,s)}function Vf(e,s){ac(2048,8,e,s)}function My(e,s){return ac(4,2,e,s)}function xy(e,s){return ac(4,4,e,s)}function Iy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Oy(e,s,a){a=a!=null?a.concat([e]):null,ac(4,4,Iy.bind(null,s,e),a)}function Mf(){}function Ny(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&_f(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Py(e,s){var a=Ce();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&_f(s,l[1]))return l[0];if(l=e(),Ur){ui(!0);try{e()}finally{ui(!1)}}return a.memoizedState=[l,s],l}function xf(e,s,a){return a===void 0||(Is&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=Uv(),Lt.lanes|=e,qs|=e,a)}function Ly(e,s,a,l){return Cn(a,s)?a:Oa.current!==null?(e=xf(e,a,l),Cn(e,s)||(qe=!0),e):(Is&42)===0?(qe=!0,e.memoizedState=a):(e=Uv(),Lt.lanes|=e,qs|=e,s)}function Uy(e,s,a,l,f){var m=J.p;J.p=m!==0&&8>m?m:8;var T=C.T,b={};C.T=b,Nf(e,!1,s,a);try{var M=f(),L=C.S;if(L!==null&&L(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=Mw(M,l);il(e,s,Y,xn(e))}else il(e,s,l,xn(e))}catch(et){il(e,s,{then:function(){},status:"rejected",reason:et},xn())}finally{J.p=m,C.T=T}}function Pw(){}function If(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=ky(e).queue;Uy(e,f,s,lt,a===null?Pw:function(){return By(e),a(l)})}function ky(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:lt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function By(e){var s=ky(e).next.queue;il(e,s,{},xn())}function Of(){return rn(bl)}function zy(){return Ce().memoizedState}function jy(){return Ce().memoizedState}function Lw(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();e=Ls(a);var l=Us(s,e,a);l!==null&&(gn(l,s,a),al(l,s,a)),s={cache:gf()},e.payload=s;return}s=s.return}}function Uw(e,s,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?Fy(s,a):(a=uf(e,s,a,l),a!==null&&(gn(a,e,l),Hy(a,s,l)))}function qy(e,s,a){var l=xn();il(e,s,a,l)}function il(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))Fy(s,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,b=m(T,a);if(f.hasEagerState=!0,f.eagerState=b,Cn(b,T))return Hu(e,s,f,0),se===null&&Fu(),!1}catch{}finally{}if(a=uf(e,s,f,l),a!==null)return gn(a,e,l),Hy(a,s,l),!0}return!1}function Nf(e,s,a,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(s)throw Error(r(479))}else s=uf(e,a,l,2),s!==null&&gn(s,e,2)}function oc(e){var s=e.alternate;return e===Lt||s!==null&&s===Lt}function Fy(e,s){La=tc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Hy(e,s,a){if((a&4194176)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,_s(e,a)}}var Ai={readContext:rn,use:ic,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae};Ai.useCacheRefresh=Ae,Ai.useMemoCache=Ae,Ai.useHostTransitionStatus=Ae,Ai.useFormState=Ae,Ai.useActionState=Ae,Ai.useOptimistic=Ae;var kr={readContext:rn,use:ic,useCallback:function(e,s){return Tn().memoizedState=[e,s===void 0?null:s],e},useContext:rn,useEffect:Vy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,rc(4194308,4,Iy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return rc(4194308,4,e,s)},useInsertionEffect:function(e,s){rc(4,2,e,s)},useMemo:function(e,s){var a=Tn();s=s===void 0?null:s;var l=e();if(Ur){ui(!0);try{e()}finally{ui(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Tn();if(a!==void 0){var f=a(s);if(Ur){ui(!0);try{a(s)}finally{ui(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Uw.bind(null,Lt,e),[l.memoizedState,e]},useRef:function(e){var s=Tn();return e={current:e},s.memoizedState=e},useState:function(e){e=Cf(e);var s=e.queue,a=qy.bind(null,Lt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,s){var a=Tn();return xf(a,e,s)},useTransition:function(){var e=Cf(!1);return e=Uy.bind(null,Lt,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Lt,f=Tn();if($t){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),se===null)throw Error(r(349));(Gt&60)!==0||dy(l,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Vy(py.bind(null,l,m,e),[e]),l.flags|=2048,ka(9,my.bind(null,l,m,a,s),{destroy:void 0},null),a},useId:function(){var e=Tn(),s=se.identifierPrefix;if($t){var a=Gi,l=Hi;a=(l&~(1<<32-fn(l)-1)).toString(32)+a,s=":"+s+"R"+a,a=ec++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=xw++,s=":"+s+"r"+a.toString(32)+":";return e.memoizedState=s},useCacheRefresh:function(){return Tn().memoizedState=Lw.bind(null,Lt)}};kr.useMemoCache=Sf,kr.useHostTransitionStatus=Of,kr.useFormState=Sy,kr.useActionState=Sy,kr.useOptimistic=function(e){var s=Tn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nf.bind(null,Lt,!0,a),a.dispatch=s,[e,s]};var Os={readContext:rn,use:ic,useCallback:Ny,useContext:rn,useEffect:Vf,useImperativeHandle:Oy,useInsertionEffect:My,useLayoutEffect:xy,useMemo:Py,useReducer:sc,useRef:Dy,useState:function(){return sc(Qi)},useDebugValue:Mf,useDeferredValue:function(e,s){var a=Ce();return Ly(a,ee.memoizedState,e,s)},useTransition:function(){var e=sc(Qi)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:nl(e),s]},useSyncExternalStore:fy,useId:zy};Os.useCacheRefresh=jy,Os.useMemoCache=Sf,Os.useHostTransitionStatus=Of,Os.useFormState=wy,Os.useActionState=wy,Os.useOptimistic=function(e,s){var a=Ce();return vy(a,ee,e,s)};var Br={readContext:rn,use:ic,useCallback:Ny,useContext:rn,useEffect:Vf,useImperativeHandle:Oy,useInsertionEffect:My,useLayoutEffect:xy,useMemo:Py,useReducer:Rf,useRef:Dy,useState:function(){return Rf(Qi)},useDebugValue:Mf,useDeferredValue:function(e,s){var a=Ce();return ee===null?xf(a,e,s):Ly(a,ee.memoizedState,e,s)},useTransition:function(){var e=Rf(Qi)[0],s=Ce().memoizedState;return[typeof e=="boolean"?e:nl(e),s]},useSyncExternalStore:fy,useId:zy};Br.useCacheRefresh=jy,Br.useMemoCache=Sf,Br.useHostTransitionStatus=Of,Br.useFormState=Cy,Br.useActionState=Cy,Br.useOptimistic=function(e,s){var a=Ce();return ee!==null?vy(a,ee,e,s):(a.baseState=e,[e,a.queue.dispatch])};function Pf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={isMounted:function(e){return(e=e._reactInternals)?ht(e)===e:!1},enqueueSetState:function(e,s,a){e=e._reactInternals;var l=xn(),f=Ls(l);f.payload=s,a!=null&&(f.callback=a),s=Us(e,f,l),s!==null&&(gn(s,e,l),al(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=xn(),f=Ls(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Us(e,f,l),s!==null&&(gn(s,e,l),al(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=xn(),l=Ls(a);l.tag=2,s!=null&&(l.callback=s),s=Us(e,l,a),s!==null&&(gn(s,e,a),al(s,e,a))}};function Gy(e,s,a,l,f,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!Ho(a,l)||!Ho(f,m):!0}function Ky(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Lf.enqueueReplaceState(s,s.state,null)}function zr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=x({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var lc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qy(e){lc(e)}function Yy(e){console.error(e)}function Xy(e){lc(e)}function uc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function $y(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uf(e,s,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,s)},a}function Zy(e){return e=Ls(e),e.tag=3,e}function Wy(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;e.payload=function(){return f(m)},e.callback=function(){$y(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){$y(s,a,l),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function kw(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&rl(s,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Ei===null?vd():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===df?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Td(e,l,f)),!1;case 22:return a.flags|=65536,l===df?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Td(e,l,f)),!1}throw Error(r(435,a.tag))}return Td(e,l,f),vd(),!1}if($t)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==ff&&(e=Error(r(422),{cause:l}),Yo(qn(e,a)))):(l!==ff&&(s=Error(r(423),{cause:l}),Yo(qn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=qn(l,a),f=Uf(e.stateNode,l,f),Wf(e,f),ye!==4&&(ye=2)),!1;var m=Error(r(520),{cause:l});if(m=qn(m,a),ml===null?ml=[m]:ml.push(m),ye!==4&&(ye=2),s===null)return!0;l=qn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Uf(a.stateNode,l,e),Wf(a,e),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fs===null||!Fs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),Wy(f,e,a,l),Wf(a,f),!1}a=a.return}while(a!==null);return!1}var Jy=Error(r(461)),qe=!1;function $e(e,s,a,l){s.child=e===null?sy(s,null,a,l):Pr(s,e.child,a,l)}function tv(e,s,a,l,f){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return qr(s),l=Tf(e,s,a,T,m,f),b=Ef(),e!==null&&!qe?(Af(e,s,f),Yi(e,s,f)):($t&&b&&cf(s),s.flags|=1,$e(e,s,l,f),s.child)}function ev(e,s,a,l,f){if(e===null){var m=a.type;return typeof m=="function"&&!ad(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,nv(e,s,m,l,f)):(e=mc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Kf(e,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(T,l)&&e.ref===s.ref)return Yi(e,s,f)}return s.flags|=1,e=js(m,l),e.ref=s.ref,e.return=s,s.child=e}function nv(e,s,a,l,f){if(e!==null){var m=e.memoizedProps;if(Ho(m,l)&&e.ref===s.ref)if(qe=!1,s.pendingProps=l=m,Kf(e,f))(e.flags&131072)!==0&&(qe=!0);else return s.lanes=e.lanes,Yi(e,s,f)}return kf(e,s,a,l,f)}function iv(e,s,a){var l=s.pendingProps,f=l.children,m=(s.stateNode._pendingVisibility&2)!==0,T=e!==null?e.memoizedState:null;if(sl(e,s),l.mode==="hidden"||m){if((s.flags&128)!==0){if(l=T!==null?T.baseLanes|a:a,e!==null){for(f=s.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return sv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ju(s,T!==null?T.cachePool:null),T!==null?ry(s,T):mf(),ay(s);else return s.lanes=s.childLanes=536870912,sv(e,s,T!==null?T.baseLanes|a:a,a)}else T!==null?(Ju(s,T.cachePool),ry(s,T),xs(),s.memoizedState=null):(e!==null&&Ju(s,null),mf(),xs());return $e(e,s,f,a),s.child}function sv(e,s,a,l){var f=vf();return f=f===null?null:{parent:Ne._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&Ju(s,null),mf(),ay(s),e!==null&&rl(e,s,l,!0),null}function sl(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=2097664)}}function kf(e,s,a,l,f){return qr(s),a=Tf(e,s,a,l,void 0,f),l=Ef(),e!==null&&!qe?(Af(e,s,f),Yi(e,s,f)):($t&&l&&cf(s),s.flags|=1,$e(e,s,a,f),s.child)}function rv(e,s,a,l,f,m){return qr(s),s.updateQueue=null,a=hy(s,l,a,f),cy(e),l=Ef(),e!==null&&!qe?(Af(e,s,m),Yi(e,s,m)):($t&&l&&cf(s),s.flags|=1,$e(e,s,a,m),s.child)}function av(e,s,a,l,f){if(qr(s),s.stateNode===null){var m=Va,T=a.contextType;typeof T=="object"&&T!==null&&(m=rn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Lf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},$f(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?rn(T):Va,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Pf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Lf.enqueueReplaceState(m,m.state,null),ll(s,l,m,f),ol(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var b=s.memoizedProps,M=zr(a,b);m.props=M;var L=m.context,Y=a.contextType;T=Va,typeof Y=="object"&&Y!==null&&(T=rn(Y));var et=a.getDerivedStateFromProps;Y=typeof et=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||L!==T)&&Ky(s,m,l,T),Ps=!1;var H=s.memoizedState;m.state=H,ll(s,l,m,f),ol(),L=s.memoizedState,b||H!==L||Ps?(typeof et=="function"&&(Pf(s,a,et,l),L=s.memoizedState),(M=Ps||Gy(s,a,M,l,H,L,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=L),m.props=l,m.state=L,m.context=T,l=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Zf(e,s),T=s.memoizedProps,Y=zr(a,T),m.props=Y,et=s.pendingProps,H=m.context,L=a.contextType,M=Va,typeof L=="object"&&L!==null&&(M=rn(L)),b=a.getDerivedStateFromProps,(L=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==et||H!==M)&&Ky(s,m,l,M),Ps=!1,H=s.memoizedState,m.state=H,ll(s,l,m,f),ol();var K=s.memoizedState;T!==et||H!==K||Ps||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof b=="function"&&(Pf(s,a,b,l),K=s.memoizedState),(Y=Ps||Gy(s,a,Y,l,H,K,M)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),m.props=l,m.state=K,m.context=M,l=Y):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&H===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,sl(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Pr(s,e.child,null,f),s.child=Pr(s,null,a,f)):$e(e,s,a,f),s.memoizedState=m.state,e=s.child):e=Yi(e,s,f),e}function ov(e,s,a,l){return Qo(),s.flags|=256,$e(e,s,a,l),s.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(e){return{baseLanes:e,cachePool:uy()}}function jf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Xn),e}function lv(e,s,a){var l=s.pendingProps,f=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if($t){if(f?Ms(s):xs(),$t){var b=Xe,M;if(M=b){t:{for(M=b,b=Ti;M.nodeType!==8;){if(!b){b=null;break t}if(M=ri(M.nextSibling),M===null){b=null;break t}}b=M}b!==null?(s.memoizedState={dehydrated:b,treeContext:Ir!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912},M=Yn(18,null,null,0),M.stateNode=b,M.return=s,s.child=M,pn=s,Xe=null,M=!0):M=!1}M||Nr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ki(s)}return b=l.children,l=l.fallback,f?(xs(),f=s.mode,b=Ff({mode:"hidden",children:b},f),l=Hr(l,f,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,f=s.child,f.memoizedState=zf(a),f.childLanes=jf(e,T,a),s.memoizedState=Bf,l):(Ms(s),qf(s,b))}if(M=e.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(m)s.flags&256?(Ms(s),s.flags&=-257,s=Hf(e,s,a)):s.memoizedState!==null?(xs(),s.child=e.child,s.flags|=128,s=null):(xs(),f=l.fallback,b=s.mode,l=Ff({mode:"visible",children:l.children},b),f=Hr(f,b,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Pr(s,e.child,null,a),l=s.child,l.memoizedState=zf(a),l.childLanes=jf(e,T,a),s.memoizedState=Bf,s=f);else if(Ms(s),b.data==="$!"){if(T=b.nextSibling&&b.nextSibling.dataset,T)var L=T.dgst;T=L,l=Error(r(419)),l.stack="",l.digest=T,Yo({value:l,source:null,stack:null}),s=Hf(e,s,a)}else if(qe||rl(e,s,a,!1),T=(a&e.childLanes)!==0,qe||T){if(T=se,T!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane)throw M.retryLane=l,Vs(e,l),gn(T,e,l),Jy}b.data==="$?"||vd(),s=Hf(e,s,a)}else b.data==="$?"?(s.flags|=128,s.child=e.child,s=Jw.bind(null,e),b._reactRetry=s,s=null):(e=M.treeContext,Xe=ri(b.nextSibling),pn=s,$t=!0,ii=null,Ti=!1,e!==null&&(Fn[Hn++]=Hi,Fn[Hn++]=Gi,Fn[Hn++]=Ir,Hi=e.id,Gi=e.overflow,Ir=s),s=qf(s,l.children),s.flags|=4096);return s}return f?(xs(),f=l.fallback,b=s.mode,M=e.child,L=M.sibling,l=js(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&31457280,L!==null?f=js(L,f):(f=Hr(f,b,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,b=e.child.memoizedState,b===null?b=zf(a):(M=b.cachePool,M!==null?(L=Ne._currentValue,M=M.parent!==L?{parent:L,pool:L}:M):M=uy(),b={baseLanes:b.baseLanes|a,cachePool:M}),f.memoizedState=b,f.childLanes=jf(e,T,a),s.memoizedState=Bf,l):(Ms(s),a=e.child,e=a.sibling,a=js(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function qf(e,s){return s=Ff({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ff(e,s){return Nv(e,s,0,null)}function Hf(e,s,a){return Pr(s,e.child,null,a),e=qf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function uv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Yf(e.return,s,a)}function Gf(e,s,a,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function cv(e,s,a){var l=s.pendingProps,f=l.revealOrder,m=l.tail;if($e(e,s,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uv(e,a,s);else if(e.tag===19)uv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(At(Oe,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Gf(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Wu(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Gf(s,!0,a,null,m);break;case"together":Gf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),qs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(rl(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=js(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=js(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Kf(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function Bw(e,s,a){switch(s.tag){case 3:le(s,s.stateNode.containerInfo),Ns(s,Ne,e.memoizedState.cache),Qo();break;case 27:case 5:Ke(s);break;case 4:le(s,s.stateNode.containerInfo);break;case 10:Ns(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ms(s),s.flags|=128,null):(a&s.child.childLanes)!==0?lv(e,s,a):(Ms(s),e=Yi(e,s,a),e!==null?e.sibling:null);Ms(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(rl(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return cv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),At(Oe,Oe.current),l)break;return null;case 22:case 23:return s.lanes=0,iv(e,s,a);case 24:Ns(s,Ne,e.memoizedState.cache)}return Yi(e,s,a)}function hv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)qe=!0;else{if(!Kf(e,a)&&(s.flags&128)===0)return qe=!1,Bw(e,s,a);qe=(e.flags&131072)!==0}else qe=!1,$t&&(s.flags&1048576)!==0&&Xg(s,Qu,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")ad(l)?(e=zr(l,e),s.tag=1,s=av(null,s,l,e,a)):(s.tag=0,s=kf(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===U){s.tag=11,s=tv(null,s,l,e,a);break t}else if(f===Q){s.tag=14,s=ev(null,s,l,e,a);break t}}throw s=R(l)||l,Error(r(306,s,""))}}return s;case 0:return kf(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=zr(l,s.pendingProps),av(e,s,l,f,a);case 3:t:{if(le(s,s.stateNode.containerInfo),e===null)throw Error(r(387));var m=s.pendingProps;f=s.memoizedState,l=f.element,Zf(e,s),ll(s,m,null,a);var T=s.memoizedState;if(m=T.cache,Ns(s,Ne,m),m!==f.cache&&Xf(s,[Ne],a,!0),ol(),m=T.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=ov(e,s,m,a);break t}else if(m!==l){l=qn(Error(r(424)),s),Yo(l),s=ov(e,s,m,a);break t}else for(Xe=ri(s.stateNode.containerInfo.firstChild),pn=s,$t=!0,ii=null,Ti=!0,a=sy(s,null,m,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qo(),m===l){s=Yi(e,s,a);break t}$e(e,s,m,a)}s=s.child}return s;case 26:return sl(e,s),e===null?(a=m0(s.type,null,s.pendingProps,null))?s.memoizedState=a:$t||(a=s.type,e=s.pendingProps,l=Rc(Wt.current).createElement(a),l[Be]=s,l[Me]=e,Ze(l,a,e),ue(l),s.stateNode=l):s.memoizedState=m0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Ke(s),e===null&&$t&&(l=s.stateNode=h0(s.type,s.pendingProps,Wt.current),pn=s,Ti=!0,Xe=ri(l.firstChild)),l=s.pendingProps.children,e!==null||$t?$e(e,s,l,a):s.child=Pr(s,null,l,a),sl(e,s),s.child;case 5:return e===null&&$t&&((f=l=Xe)&&(l=p1(l,s.type,s.pendingProps,Ti),l!==null?(s.stateNode=l,pn=s,Xe=ri(l.firstChild),Ti=!1,f=!0):f=!1),f||Nr(s)),Ke(s),f=s.type,m=s.pendingProps,T=e!==null?e.memoizedProps:null,l=m.children,Id(f,m)?l=null:T!==null&&Id(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Tf(e,s,Iw,null,null,a),bl._currentValue=f),sl(e,s),$e(e,s,l,a),s.child;case 6:return e===null&&$t&&((e=a=Xe)&&(a=g1(a,s.pendingProps,Ti),a!==null?(s.stateNode=a,pn=s,Xe=null,e=!0):e=!1),e||Nr(s)),null;case 13:return lv(e,s,a);case 4:return le(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Pr(s,null,l,a):$e(e,s,l,a),s.child;case 11:return tv(e,s,s.type,s.pendingProps,a);case 7:return $e(e,s,s.pendingProps,a),s.child;case 8:return $e(e,s,s.pendingProps.children,a),s.child;case 12:return $e(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ns(s,s.type,l.value),$e(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=rn(f),l=l(f),s.flags|=1,$e(e,s,l,a),s.child;case 14:return ev(e,s,s.type,s.pendingProps,a);case 15:return nv(e,s,s.type,s.pendingProps,a);case 19:return cv(e,s,a);case 22:return iv(e,s,a);case 24:return qr(s),l=rn(Ne),e===null?(f=vf(),f===null&&(f=se,m=gf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:l,cache:f},$f(s),Ns(s,Ne,f)):((e.lanes&a)!==0&&(Zf(e,s),ll(s,null,null,a),ol()),f=e.memoizedState,m=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ns(s,Ne,l)):(l=m.cache,Ns(s,Ne,l),l!==f.cache&&Xf(s,[Ne],a,!0))),$e(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Qf=ft(null),jr=null,Xi=null;function Ns(e,s,a){At(Qf,s._currentValue),s._currentValue=a}function $i(e){e._currentValue=Qf.current,Rt(Qf)}function Yf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Xf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var b=m;m=f;for(var M=0;M<s.length;M++)if(b.context===s[M]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Yf(m.return,a,e),l||(T=null);break t}m=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Yf(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function rl(e,s,a,l){e=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=f.type;Cn(f.pendingProps.value,T.value)||(e!==null?e.push(b):e=[b])}}else if(f===It.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}f=f.return}e!==null&&Xf(s,e,a,l),s.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){jr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return fv(jr,e)}function hc(e,s){return jr===null&&qr(e),fv(e,s)}function fv(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xi===null){if(e===null)throw Error(r(308));Xi=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Xi=Xi.next=s;return a}var Ps=!1;function $f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(he&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Gu(e),Qg(e,null,a),s}return Hu(e,l,s,a),Gu(e)}function al(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,_s(e,a)}}function Wf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Jf=!1;function ol(){if(Jf){var e=Pa;if(e!==null)throw e}}function ll(e,s,a,l){Jf=!1;var f=e.updateQueue;Ps=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,L=M.next;M.next=null,T===null?m=L:T.next=L,T=M;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==T&&(b===null?Y.firstBaseUpdate=L:b.next=L,Y.lastBaseUpdate=M))}if(m!==null){var et=f.baseState;T=0,Y=L=M=null,b=m;do{var H=b.lane&-536870913,K=H!==b.lane;if(K?(Gt&H)===H:(l&H)===H){H!==0&&H===Na&&(Jf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var vt=e,Mt=b;H=s;var ve=a;switch(Mt.tag){case 1:if(vt=Mt.payload,typeof vt=="function"){et=vt.call(ve,et,H);break t}et=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Mt.payload,H=typeof vt=="function"?vt.call(ve,et,H):vt,H==null)break t;et=x({},et,H);break t;case 2:Ps=!0}}H=b.callback,H!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(L=Y=K,M=et):Y=Y.next=K,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(M=et),f.baseState=M,f.firstBaseUpdate=L,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),qs|=T,e.lanes=T,e.memoizedState=et}}function dv(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function mv(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)dv(a[e],s)}function ul(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){ie(s,s.return,b)}}function ks(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&e)===e){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=s;var M=a;try{b()}catch(L){ie(f,M,L)}}}l=l.next}while(l!==m)}}catch(L){ie(s,s.return,L)}}function pv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{mv(s,a)}catch(l){ie(e,e.return,l)}}}function gv(e,s,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,s,l)}}function Fr(e,s){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(m){ie(e,s,m)}}function Dn(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(e,s,f)}else a.current=null}function yv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(e,e.return,f)}}function vv(e,s,a){try{var l=e.stateNode;c1(l,e.type,a,s),l[Me]=s}catch(f){ie(e,e.return,f)}}function _v(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_v(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(e,s):a.insertBefore(e,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(e,a)):(s=a,s.appendChild(e)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(ed(e,s,a),e=e.sibling;e!==null;)ed(e,s,a),e=e.sibling}function fc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(fc(e,s,a),e=e.sibling;e!==null;)fc(e,s,a),e=e.sibling}var Zi=!1,ge=!1,nd=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Fe=null,Ev=!1;function zw(e,s){if(e=e.containerInfo,Md=Ic,e=kg(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,b=-1,M=-1,L=0,Y=0,et=e,H=null;e:for(;;){for(var K;et!==a||f!==0&&et.nodeType!==3||(b=T+f),et!==m||l!==0&&et.nodeType!==3||(M=T+l),et.nodeType===3&&(T+=et.nodeValue.length),(K=et.firstChild)!==null;)H=et,et=K;for(;;){if(et===e)break e;if(H===a&&++L===f&&(b=T),H===m&&++Y===l&&(M=T),(K=et.nextSibling)!==null)break;et=H,H=et.parentNode}et=K}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:e,selectionRange:a},Ic=!1,Fe=s;Fe!==null;)if(s=Fe,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Fe=e;else for(;Fe!==null;){switch(s=Fe,m=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var vt=zr(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){ie(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Pd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Fe=e;break}Fe=s.return}return vt=Ev,Ev=!1,vt}function Av(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),l&4&&ul(5,a);break;case 1:if(Ji(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(b){ie(a,a.return,b)}else{var f=zr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ie(a,a.return,b)}}l&64&&pv(a),l&512&&Fr(a,a.return);break;case 3:if(Ji(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{mv(l,e)}catch(b){ie(a,a.return,b)}}break;case 26:Ji(e,a),l&512&&Fr(a,a.return);break;case 27:case 5:Ji(e,a),s===null&&l&4&&yv(a),l&512&&Fr(a,a.return);break;case 12:Ji(e,a);break;case 13:Ji(e,a),l&4&&wv(e,a);break;case 22:if(f=a.memoizedState!==null||Zi,!f){s=s!==null&&s.memoizedState!==null||ge;var m=Zi,T=ge;Zi=f,(ge=s)&&!T?Bs(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),Zi=m,ge=T}l&512&&(a.memoizedProps.mode==="manual"?Fr(a,a.return):Dn(a,a.return));break;default:Ji(e,a)}}function bv(e){var s=e.alternate;s!==null&&(e.alternate=null,bv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&_r(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,Vn=!1;function Wi(e,s,a){for(a=a.child;a!==null;)Sv(e,s,a),a=a.sibling}function Sv(e,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(li,a)}catch{}switch(a.tag){case 26:ge||Dn(a,s),Wi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||Dn(a,s);var l=De,f=Vn;for(De=a.stateNode,Wi(e,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);_r(a),De=l,Vn=f;break;case 5:ge||Dn(a,s);case 6:f=De;var m=Vn;if(De=null,Wi(e,s,a),De=f,Vn=m,De!==null)if(Vn)try{e=De,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(T){ie(a,s,T)}else try{De.removeChild(a.stateNode)}catch(T){ie(a,s,T)}break;case 18:De!==null&&(Vn?(s=De,a=a.stateNode,s.nodeType===8?Nd(s.parentNode,a):s.nodeType===1&&Nd(s,a),Cl(s)):Nd(De,a.stateNode));break;case 4:l=De,f=Vn,De=a.stateNode.containerInfo,Vn=!0,Wi(e,s,a),De=l,Vn=f;break;case 0:case 11:case 14:case 15:ge||ks(2,a,s),ge||ks(4,a,s),Wi(e,s,a);break;case 1:ge||(Dn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,s,l)),Wi(e,s,a);break;case 21:Wi(e,s,a);break;case 22:ge||Dn(a,s),ge=(l=ge)||a.memoizedState!==null,Wi(e,s,a),ge=l;break;default:Wi(e,s,a)}}function wv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cl(e)}catch(a){ie(s,s.return,a)}}function jw(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Tv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Tv),s;default:throw Error(r(435,e.tag))}}function id(e,s){var a=jw(e);s.forEach(function(l){var f=t1.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function Kn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=e,T=s,b=T;t:for(;b!==null;){switch(b.tag){case 27:case 5:De=b.stateNode,Vn=!1;break t;case 3:De=b.stateNode.containerInfo,Vn=!0;break t;case 4:De=b.stateNode.containerInfo,Vn=!0;break t}b=b.return}if(De===null)throw Error(r(160));Sv(m,T,f),De=null,Vn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Rv(s,e),s=s.sibling}var si=null;function Rv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kn(s,e),Qn(e),l&4&&(ks(3,e,e.return),ul(3,e),ks(5,e,e.return));break;case 1:Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Es]||m[Be]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ze(m,l,a),m[Be]=e,ue(m),l=m;break t;case"link":var T=y0("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;case"meta":if(T=y0("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break e}}m=f.createElement(l),Ze(m,l,a),f.head.appendChild(m);break;default:throw Error(r(468,l))}m[Be]=e,ue(m),l=m}e.stateNode=l}else v0(f,e.type,e.stateNode);else e.stateNode=g0(f,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?v0(f,e.type,e.stateNode):g0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vv(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){f=e.stateNode,m=e.memoizedProps;try{for(var M=f.firstChild;M;){var L=M.nextSibling,Y=M.nodeName;M[Es]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&M.rel.toLowerCase()==="stylesheet"||f.removeChild(M),M=L}for(var et=e.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ze(f,et,m),f[Be]=e,f[Me]=m}catch(vt){ie(e,e.return,vt)}}case 5:if(Kn(s,e),Qn(e),l&512&&(ge||a===null||Dn(a,a.return)),e.flags&32){f=e.stateNode;try{Un(f,"")}catch(vt){ie(e,e.return,vt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,vv(e,f,a!==null?a.memoizedProps:f)),l&1024&&(nd=!0);break;case 6:if(Kn(s,e),Qn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(vt){ie(e,e.return,vt)}}break;case 3:if(Vc=null,f=si,si=Cc(s.containerInfo),Kn(s,e),si=f,Qn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(vt){ie(e,e.return,vt)}nd&&(nd=!1,Cv(e));break;case 4:l=si,si=Cc(e.stateNode.containerInfo),Kn(s,e),Qn(e),si=l;break;case 12:Kn(s,e),Qn(e);break;case 13:Kn(s,e),Qn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fd=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 22:if(l&512&&(ge||a===null||Dn(a,a.return)),M=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Zi,et=ge,Zi=Y||M,ge=et||L,Kn(s,e),ge=et,Zi=Y,Qn(e),s=e.stateNode,s._current=e,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,l&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=Zi||ge,a===null||L||s||Ba(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,s=e;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){L=a=s;try{if(f=L.stateNode,M)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=L.stateNode,b=L.memoizedProps.style;var K=b!=null&&b.hasOwnProperty("display")?b.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(vt){ie(L,L.return,vt)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=M?"":L.memoizedProps}catch(vt){ie(L,L.return,vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,id(e,a))));break;case 19:Kn(s,e),Qn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,id(e,l)));break;case 21:break;default:Kn(s,e),Qn(e)}}function Qn(e){var s=e.flags;if(s&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(_v(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var f=l.stateNode,m=td(e);fc(e,m,f);break;case 5:var T=l.stateNode;l.flags&32&&(Un(T,""),l.flags&=-33);var b=td(e);fc(e,b,T);break;case 3:case 4:var M=l.stateNode.containerInfo,L=td(e);ed(e,L,M);break;default:throw Error(r(161))}}}catch(Y){ie(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Cv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Cv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Ji(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Av(e,s.alternate,s),s=s.sibling}function Ba(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Ba(s);break;case 1:Dn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&gv(s,s.return,a),Ba(s);break;case 26:case 27:case 5:Dn(s,s.return),Ba(s);break;case 22:Dn(s,s.return),s.memoizedState===null&&Ba(s);break;default:Ba(s)}e=e.sibling}}function Bs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Bs(f,m,a),ul(4,m);break;case 1:if(Bs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){ie(l,l.return,L)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)dv(M[f],b)}catch(L){ie(l,l.return,L)}}a&&T&64&&pv(m),Fr(m,m.return);break;case 26:case 27:case 5:Bs(f,m,a),a&&l===null&&T&4&&yv(m),Fr(m,m.return);break;case 12:Bs(f,m,a);break;case 13:Bs(f,m,a),a&&T&4&&wv(f,m);break;case 22:m.memoizedState===null&&Bs(f,m,a),Fr(m,m.return);break;default:Bs(f,m,a)}s=s.sibling}}function sd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function rd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Jo(e))}function zs(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dv(e,s,a,l),s=s.sibling}function Dv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:zs(e,s,a,l),f&2048&&ul(9,s);break;case 3:zs(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Jo(e)));break;case 12:if(f&2048){zs(e,s,a,l),e=s.stateNode;try{var m=s.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){ie(s,s.return,M)}}else zs(e,s,a,l);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?zs(e,s,a,l):cl(e,s):m._visibility&4?zs(e,s,a,l):(m._visibility|=4,za(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&sd(s.alternate,s);break;case 24:zs(e,s,a,l),f&2048&&rd(s.alternate,s);break;default:zs(e,s,a,l)}}function za(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=e,T=s,b=a,M=l,L=T.flags;switch(T.tag){case 0:case 11:case 15:za(m,T,b,M,f),ul(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&4?za(m,T,b,M,f):cl(m,T):(Y._visibility|=4,za(m,T,b,M,f)),f&&L&2048&&sd(T.alternate,T);break;case 24:za(m,T,b,M,f),f&&L&2048&&rd(T.alternate,T);break;default:za(m,T,b,M,f)}s=s.sibling}}function cl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:cl(a,l),f&2048&&sd(l.alternate,l);break;case 24:cl(a,l),f&2048&&rd(l.alternate,l);break;default:cl(a,l)}s=s.sibling}}var hl=8192;function ja(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Vv(e),e=e.sibling}function Vv(e){switch(e.tag){case 26:ja(e),e.flags&hl&&e.memoizedState!==null&&V1(si,e.memoizedState,e.memoizedProps);break;case 5:ja(e);break;case 3:case 4:var s=si;si=Cc(e.stateNode.containerInfo),ja(e),si=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=hl,hl=16777216,ja(e),hl=s):ja(e));break;default:ja(e)}}function Mv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function fl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,Iv(l,e)}Mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xv(e),e=e.sibling}function xv(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&ks(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&4&&(e.return===null||e.return.tag!==13)?(s._visibility&=-5,dc(e)):fl(e);break;default:fl(e)}}function dc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Fe=l,Iv(l,e)}Mv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ks(8,s,s.return),dc(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,dc(s));break;default:dc(s)}e=e.sibling}}function Iv(e,s){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=e;Fe!==null;){l=Fe;var f=l.sibling,m=l.return;if(bv(l),l===a){Fe=null;break t}if(f!==null){f.return=m,Fe=f;break t}Fe=m}}}function qw(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,s,a,l){return new qw(e,s,a,l)}function ad(e){return e=e.prototype,!(!e||!e.isReactComponent)}function js(e,s){var a=e.alternate;return a===null?(a=Yn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ov(e,s){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function mc(e,s,a,l,f,m){var T=0;if(l=e,typeof e=="function")ad(e)&&(T=1);else if(typeof e=="string")T=C1(e,a,Ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Hr(a.children,f,m,s);case g:T=8,f|=24;break;case v:return e=Yn(12,a,s,f|2),e.elementType=v,e.lanes=m,e;case j:return e=Yn(13,a,s,f),e.elementType=j,e.lanes=m,e;case k:return e=Yn(19,a,s,f),e.elementType=k,e.lanes=m,e;case nt:return Nv(a,f,m,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case V:T=10;break t;case S:T=9;break t;case U:T=11;break t;case Q:T=14;break t;case tt:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Yn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=m,s}function Hr(e,s,a,l){return e=Yn(7,e,l,s),e.lanes=a,e}function Nv(e,s,a,l){e=Yn(22,e,l,s),e.elementType=nt,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)===0){var T=Vs(m,2);T!==null&&(f._pendingVisibility|=2,gn(T,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(r(456));if((f._pendingVisibility&2)!==0){var T=Vs(m,2);T!==null&&(f._pendingVisibility&=-3,gn(T,m,2))}}};return e.stateNode=f,e}function od(e,s,a){return e=Yn(6,e,null,s),e.lanes=a,e}function ld(e,s,a){return s=Yn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function ts(e){e.flags|=4}function Pv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_0(s)){if(s=Gn.current,s!==null&&((Gt&4194176)===Gt?Ei!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||s!==Ei))throw $o=df,Wg;e.flags|=8192}}function pc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?ys():536870912,e.lanes|=s,Fa|=s)}function dl(e,s){if(!$t)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Fw(e,s,a){var l=s.pendingProps;switch(hf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$i(Ne),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ko(s)?ts(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ii!==null&&(gd(ii),ii=null))),ce(s),null;case 26:return a=s.memoizedState,e===null?(ts(s),a!==null?(ce(s),Pv(s,a)):(ce(s),s.flags&=-16777217)):a?a!==e.memoizedState?(ts(s),ce(s),Pv(s,a)):(ce(s),s.flags&=-16777217):(e.memoizedProps!==l&&ts(s),ce(s),s.flags&=-16777217),null;case 27:nn(s),a=Wt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ce(s),null}e=Ot.current,Ko(s)?$g(s):(e=h0(f,l,a),s.stateNode=e,ts(s))}return ce(s),null;case 5:if(nn(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&ts(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ce(s),null}if(e=Ot.current,Ko(s))$g(s);else{switch(f=Rc(Wt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[Be]=s,e[Me]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(Ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ts(s)}}return ce(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&ts(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Wt.current,Ko(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Be]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||r0(e.nodeValue,a)),e||Nr(s)}else e=Rc(e).createTextNode(l),e[Be]=s,s.stateNode=e}return ce(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ko(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Be]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),f=!1}else ii!==null&&(gd(ii),ii=null),f=!0;if(!f)return s.flags&256?(Ki(s),s):(Ki(s),null)}if(Ki(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),pc(s,s.updateQueue),ce(s),null;case 4:return Te(),e===null&&Cd(s.stateNode.containerInfo),ce(s),null;case 10:return $i(s.type),ce(s),null;case 19:if(Rt(Oe),f=s.memoizedState,f===null)return ce(s),null;if(l=(s.flags&128)!==0,m=f.rendering,m===null)if(l)dl(f,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Wu(e),m!==null){for(s.flags|=128,dl(f,!1),e=m.updateQueue,s.updateQueue=e,pc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Ov(a,e),a=a.sibling;return At(Oe,Oe.current&1|2),s.child}e=e.sibling}f.tail!==null&&Qe()>gc&&(s.flags|=128,l=!0,dl(f,!1),s.lanes=4194304)}else{if(!l)if(e=Wu(m),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,pc(s,e),dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$t)return ce(s),null}else 2*Qe()-f.renderingStartTime>gc&&a!==536870912&&(s.flags|=128,l=!0,dl(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(e=f.last,e!==null?e.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Qe(),s.sibling=null,e=Oe.current,At(Oe,l?e&1|2:e&1),s):(ce(s),null);case 22:case 23:return Ki(s),pf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),a=s.updateQueue,a!==null&&pc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&Rt(Lr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$i(Ne),ce(s),null;case 25:return null}throw Error(r(156,s.tag))}function Hw(e,s){switch(hf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return $i(Ne),Te(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return nn(s),null;case 13:if(Ki(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Qo()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Rt(Oe),null;case 4:return Te(),null;case 10:return $i(s.type),null;case 22:case 23:return Ki(s),pf(),e!==null&&Rt(Lr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return $i(Ne),null;case 25:return null;default:return null}}function Lv(e,s){switch(hf(s),s.tag){case 3:$i(Ne),Te();break;case 26:case 27:case 5:nn(s);break;case 4:Te();break;case 13:Ki(s);break;case 19:Rt(Oe);break;case 10:$i(s.type);break;case 22:case 23:Ki(s),pf(),e!==null&&Rt(Lr);break;case 24:$i(Ne)}}var Gw={getCacheForType:function(e){var s=rn(Ne),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},Kw=typeof WeakMap=="function"?WeakMap:Map,he=0,se=null,Bt=null,Gt=0,re=0,Mn=null,es=!1,qa=!1,ud=!1,ns=0,ye=0,qs=0,Gr=0,cd=0,Xn=0,Fa=0,ml=null,bi=null,hd=!1,fd=0,gc=1/0,yc=null,Fs=null,vc=!1,Kr=null,pl=0,dd=0,md=null,gl=0,pd=null;function xn(){if((he&2)!==0&&Gt!==0)return Gt&-Gt;if(C.T!==null){var e=Na;return e!==0?e:bd()}return Su()}function Uv(){Xn===0&&(Xn=(Gt&536870912)===0||$t?Do():536870912);var e=Gn.current;return e!==null&&(e.flags|=32),Xn}function gn(e,s,a){(e===se&&re===2||e.cancelPendingCommit!==null)&&(Ha(e,0),is(e,Gt,Xn,!1)),Ee(e,a),((he&2)===0||e!==se)&&(e===se&&((he&2)===0&&(Gr|=a),ye===4&&is(e,Gt,Xn,!1)),Si(e))}function kv(e,s,a){if((he&6)!==0)throw Error(r(327));var l=!a&&(s&60)===0&&(s&e.expiredLanes)===0||gs(e,s),f=l?Xw(e,s):_d(e,s,!0),m=l;do{if(f===0){qa&&!l&&is(e,s,0,!1);break}else if(f===6)is(e,s,0,!es);else{if(a=e.current.alternate,m&&!Qw(a)){f=_d(e,s,!1),m=!1;continue}if(f===2){if(m=s,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var b=e;f=ml;var M=b.current.memoizedState.isDehydrated;if(M&&(Ha(b,T).flags|=256),T=_d(b,T,!1),T!==2){if(ud&&!M){b.errorRecoveryDisabledLanes|=m,Gr|=m,f=4;break t}m=bi,bi=f,m!==null&&gd(m)}f=T}if(m=!1,f!==2)continue}}if(f===1){Ha(e,0),is(e,s,0,!0);break}t:{switch(l=e,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){is(l,s,Xn,!es);break t}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=s,(s&62914560)===s&&(m=fd+300-Qe(),10<m)){if(is(l,s,Xn,!es),Pn(l,0)!==0)break t;l.timeoutHandle=l0(Bv.bind(null,l,a,bi,yc,hd,s,Xn,Gr,Fa,es,2,-0,0),m);break t}Bv(l,a,bi,yc,hd,s,Xn,Gr,Fa,es,0,-0,0)}}break}while(!0);Si(e)}function gd(e){bi===null?bi=e:bi.push.apply(bi,e)}function Bv(e,s,a,l,f,m,T,b,M,L,Y,et,H){var K=s.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:D1},Vv(s),s=M1(),s!==null)){e.cancelPendingCommit=s(Kv.bind(null,e,a,l,f,T,b,M,1,et,H)),is(e,m,T,!L);return}Kv(e,a,l,f,T,b,M,Y,et,H)}function Qw(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Cn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(e,s,a,l){s&=~cd,s&=~Gr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var m=31-fn(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&vs(e,a,s)}function _c(){return(he&6)===0?(yl(0),!1):!0}function yd(){if(Bt!==null){if(re===0)var e=Bt.return;else e=Bt,Xi=jr=null,bf(e),Ia=null,Zo=0,e=Bt;for(;e!==null;)Lv(e.alternate,e),e=e.return;Bt=null}}function Ha(e,s){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,f1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yd(),se=e,Bt=a=js(e.current,null),Gt=s,re=0,Mn=null,es=!1,qa=gs(e,s),ud=!1,Fa=Xn=cd=Gr=qs=ye=0,bi=ml=null,hd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-fn(l),m=1<<f;s|=e[f],l&=~m}return ns=s,Fu(),a}function zv(e,s){Lt=null,C.H=Ai,s===Xo?(s=ey(),re=3):s===Wg?(s=ey(),re=4):re=s===Jy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Bt===null&&(ye=1,uc(e,qn(s,e.current)))}function jv(){var e=C.H;return C.H=Ai,e===null?Ai:e}function qv(){var e=C.A;return C.A=Gw,e}function vd(){ye=4,es||(Gt&4194176)!==Gt&&Gn.current!==null||(qa=!0),(qs&134217727)===0&&(Gr&134217727)===0||se===null||is(se,Gt,Xn,!1)}function _d(e,s,a){var l=he;he|=2;var f=jv(),m=qv();(se!==e||Gt!==s)&&(yc=null,Ha(e,s)),s=!1;var T=ye;t:do try{if(re!==0&&Bt!==null){var b=Bt,M=Mn;switch(re){case 8:yd(),T=6;break t;case 3:case 2:case 6:Gn.current===null&&(s=!0);var L=re;if(re=0,Mn=null,Ga(e,b,M,L),a&&qa){T=0;break t}break;default:L=re,re=0,Mn=null,Ga(e,b,M,L)}}Yw(),T=ye;break}catch(Y){zv(e,Y)}while(!0);return s&&e.shellSuspendCounter++,Xi=jr=null,he=l,C.H=f,C.A=m,Bt===null&&(se=null,Gt=0,Fu()),T}function Yw(){for(;Bt!==null;)Fv(Bt)}function Xw(e,s){var a=he;he|=2;var l=jv(),f=qv();se!==e||Gt!==s?(yc=null,gc=Qe()+500,Ha(e,s)):qa=gs(e,s);t:do try{if(re!==0&&Bt!==null){s=Bt;var m=Mn;e:switch(re){case 1:re=0,Mn=null,Ga(e,s,m,1);break;case 2:if(Jg(m)){re=0,Mn=null,Hv(s);break}s=function(){re===2&&se===e&&(re=7),Si(e)},m.then(s,s);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:Jg(m)?(re=0,Mn=null,Hv(s)):(re=0,Mn=null,Ga(e,s,m,7));break;case 5:var T=null;switch(Bt.tag){case 26:T=Bt.memoizedState;case 5:case 27:var b=Bt;if(!T||_0(T)){re=0,Mn=null;var M=b.sibling;if(M!==null)Bt=M;else{var L=b.return;L!==null?(Bt=L,Tc(L)):Bt=null}break e}}re=0,Mn=null,Ga(e,s,m,5);break;case 6:re=0,Mn=null,Ga(e,s,m,6);break;case 8:yd(),ye=6;break t;default:throw Error(r(462))}}$w();break}catch(Y){zv(e,Y)}while(!0);return Xi=jr=null,C.H=l,C.A=f,he=a,Bt!==null?0:(se=null,Gt=0,Fu(),ye)}function $w(){for(;Bt!==null&&!wo();)Fv(Bt)}function Fv(e){var s=hv(e.alternate,e,ns);e.memoizedProps=e.pendingProps,s===null?Tc(e):Bt=s}function Hv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=rv(a,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=rv(a,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:bf(s);default:Lv(a,s),s=Bt=Ov(s,ns),s=hv(a,s,ns)}e.memoizedProps=e.pendingProps,s===null?Tc(e):Bt=s}function Ga(e,s,a,l){Xi=jr=null,bf(s),Ia=null,Zo=0;var f=s.return;try{if(kw(e,f,s,a,Gt)){ye=1,uc(e,qn(a,e.current)),Bt=null;return}}catch(m){if(f!==null)throw Bt=f,m;ye=1,uc(e,qn(a,e.current)),Bt=null;return}s.flags&32768?($t||l===1?e=!0:qa||(Gt&536870912)!==0?e=!1:(es=e=!0,(l===2||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(s,e)):Tc(s)}function Tc(e){var s=e;do{if((s.flags&32768)!==0){Gv(s,es);return}e=s.return;var a=Fw(s.alternate,s,ns);if(a!==null){Bt=a;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=e}while(s!==null);ye===0&&(ye=5)}function Gv(e,s){do{var a=Hw(e.alternate,e);if(a!==null){a.flags&=32767,Bt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Bt=e;return}Bt=e=a}while(e!==null);ye=6,Bt=null}function Kv(e,s,a,l,f,m,T,b,M,L){var Y=C.T,et=J.p;try{J.p=2,C.T=null,Zw(e,s,a,l,et,f,m,T,b,M,L)}finally{C.T=Y,J.p=et}}function Zw(e,s,a,l,f,m,T,b){do Ka();while(Kr!==null);if((he&6)!==0)throw Error(r(327));var M=e.finishedWork;if(l=e.finishedLanes,M===null)return null;if(e.finishedWork=null,e.finishedLanes=0,M===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=M.lanes|M.childLanes;if(L|=lf,Au(e,l,L,m,T,b),e===se&&(Bt=se=null,Gt=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||vc||(vc=!0,dd=L,md=a,e1(Jn,function(){return Ka(),null})),a=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||a?(a=C.T,C.T=null,m=J.p,J.p=2,T=he,he|=4,zw(e,M),Rv(M,e),Ew(xd,e.containerInfo),Ic=!!Md,xd=Md=null,e.current=M,Av(e,M.alternate,M),pr(),he=T,J.p=m,C.T=a):e.current=M,vc?(vc=!1,Kr=e,pl=l):Qv(e,L),L=e.pendingLanes,L===0&&(Fs=null),Ro(M.stateNode),Si(e),s!==null)for(f=e.onRecoverableError,M=0;M<s.length;M++)L=s[M],f(L.value,{componentStack:L.stack});return(pl&3)!==0&&Ka(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===pd?gl++:(gl=0,pd=e):gl=0,yl(0),null}function Qv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Jo(s)))}function Ka(){if(Kr!==null){var e=Kr,s=dd;dd=0;var a=bu(pl),l=C.T,f=J.p;try{if(J.p=32>a?32:a,C.T=null,Kr===null)var m=!1;else{a=md,md=null;var T=Kr,b=pl;if(Kr=null,pl=0,(he&6)!==0)throw Error(r(331));var M=he;if(he|=4,xv(T.current),Dv(T,T.current,b,a),he=M,yl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(li,T)}catch{}m=!0}return m}finally{J.p=f,C.T=l,Qv(e,s)}}return!1}function Yv(e,s,a){s=qn(a,s),s=Uf(e.stateNode,s,2),e=Us(e,s,2),e!==null&&(Ee(e,2),Si(e))}function ie(e,s,a){if(e.tag===3)Yv(e,e,a);else for(;s!==null;){if(s.tag===3){Yv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){e=qn(a,e),a=Zy(2),l=Us(s,a,2),l!==null&&(Wy(a,l,s,e),Ee(l,2),Si(l));break}}s=s.return}}function Td(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Kw;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(ud=!0,f.add(a),e=Ww.bind(null,e,s,a),s.then(e,e))}function Ww(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Gt&a)===a&&(ye===4||ye===3&&(Gt&62914560)===Gt&&300>Qe()-fd?(he&2)===0&&Ha(e,0):cd|=a,Fa===Gt&&(Fa=0)),Si(e)}function Xv(e,s){s===0&&(s=ys()),e=Vs(e,s),e!==null&&(Ee(e,s),Si(e))}function Jw(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Xv(e,a)}function t1(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Xv(e,a)}function e1(e,s){return ke(e,s)}var Ec=null,Qa=null,Ed=!1,Ac=!1,Ad=!1,Qr=0;function Si(e){e!==Qa&&e.next===null&&(Qa===null?Ec=Qa=e:Qa=Qa.next=e),Ac=!0,Ed||(Ed=!0,i1(n1))}function yl(e,s){if(!Ad&&Ac){Ad=!0;do for(var a=!1,l=Ec;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-fn(42|e)+1)-1,m&=f&~(T&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Wv(l,m))}else m=Gt,m=Pn(l,l===se?m:0),(m&3)===0||gs(l,m)||(a=!0,Wv(l,m));l=l.next}while(a);Ad=!1}}function n1(){Ac=Ed=!1;var e=0;Qr!==0&&(h1()&&(e=Qr),Qr=0);for(var s=Qe(),a=null,l=Ec;l!==null;){var f=l.next,m=$v(l,s);m===0?(l.next=null,a===null?Ec=f:a.next=f,f===null&&(Qa=a)):(a=l,(e!==0||(m&3)!==0)&&(Ac=!0)),l=f}yl(e)}function $v(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-fn(m),b=1<<T,M=f[T];M===-1?((b&a)===0||(b&l)!==0)&&(f[T]=ha(b,s)):M<=s&&(e.expiredLanes|=b),m&=~b}if(s=se,a=Gt,a=Pn(e,e===s?a:0),l=e.callbackNode,a===0||e===s&&re===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||gs(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&ds(l),bu(a)){case 2:case 8:a=we;break;case 32:a=Jn;break;case 268435456:a=ms;break;default:a=Jn}return l=Zv.bind(null,e),a=ke(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&ds(l),e.callbackPriority=2,e.callbackNode=null,2}function Zv(e,s){var a=e.callbackNode;if(Ka()&&e.callbackNode!==a)return null;var l=Gt;return l=Pn(e,e===se?l:0),l===0?null:(kv(e,l,s),$v(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?Zv.bind(null,e):null)}function Wv(e,s){if(Ka())return null;kv(e,s,!0)}function i1(e){d1(function(){(he&6)!==0?ke(me,e):e()})}function bd(){return Qr===0&&(Qr=Do()),Qr}function Jv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function t0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function s1(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var m=Jv((f[Me]||null).action),T=l.submitter;T&&(s=(s=T[Me]||null)?Jv(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var b=new va("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var M=T?t0(f,T):new FormData(f);If(a,{pending:!0,data:M,method:f.method,action:m},null,M)}}else typeof m=="function"&&(b.preventDefault(),M=T?t0(f,T):new FormData(f),If(a,{pending:!0,data:M,method:f.method,action:m},m,M))},currentTarget:f}]})}}for(var Sd=0;Sd<Kg.length;Sd++){var wd=Kg[Sd],r1=wd.toLowerCase(),a1=wd[0].toUpperCase()+wd.slice(1);ni(r1,"on"+a1)}ni(jg,"onAnimationEnd"),ni(qg,"onAnimationIteration"),ni(Fg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(bw,"onTransitionRun"),ni(Sw,"onTransitionStart"),ni(ww,"onTransitionCancel"),ni(Hg,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function e0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var b=l[T],M=b.instance,L=b.currentTarget;if(b=b.listener,M!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=L;try{m(f)}catch(Y){lc(Y)}f.currentTarget=null,m=M}else for(T=0;T<l.length;T++){if(b=l[T],M=b.instance,L=b.currentTarget,b=b.listener,M!==m&&f.isPropagationStopped())break t;m=b,f.currentTarget=L;try{m(f)}catch(Y){lc(Y)}f.currentTarget=null,m=M}}}}function jt(e,s){var a=s[vr];a===void 0&&(a=s[vr]=new Set);var l=e+"__bubble";a.has(l)||(n0(s,e,2,!1),a.add(l))}function Rd(e,s,a){var l=0;s&&(l|=4),n0(a,e,l,s)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[bc]){e[bc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||Rd(a,!1,e),Rd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[bc]||(s[bc]=!0,Rd("selectionchange",!1,s))}}function n0(e,s,a,l){switch(w0(s)){case 2:var f=O1;break;case 8:f=N1;break;default:f=zd}a=f.bind(null,s,a,e),f=void 0,!Bn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Dd(e,s,a,l,f){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(T===4)for(T=l.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;T=T.return}for(;b!==null;){if(T=ei(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){l=m=T;continue t}b=b.parentNode}}l=l.return}Du(function(){var L=m,Y=ya(a),et=[];t:{var H=Gg.get(e);if(H!==void 0){var K=va,vt=e;switch(e){case"keypress":if(pi(a)===0)break t;case"keydown":case"keyup":K=Sa;break;case"focusin":vt="focus",K=Ea;break;case"focusout":vt="blur",K=Ea;break;case"beforeblur":case"afterblur":K=Ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Lu;break;case jg:case qg:case Fg:K=Aa;break;case Hg:K=ku;break;case"scroll":case"scrollend":K=Vu;break;case"wheel":K=wa;break;case"copy":case"cut":case"paste":K=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qo;break;case"toggle":case"beforetoggle":K=zu}var Mt=(s&4)!==0,ve=!Mt&&(e==="scroll"||e==="scrollend"),z=Mt?H!==null?H+"Capture":null:H;Mt=[];for(var P=L,F;P!==null;){var $=P;if(F=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||F===null||z===null||($=br(P,z),$!=null&&Mt.push(_l(P,$,F))),ve)break;P=P.return}0<Mt.length&&(H=new K(H,vt,null,a,Y),et.push({event:H,listeners:Mt}))}}if((s&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",H&&a!==kn&&(vt=a.relatedTarget||a.fromElement)&&(ei(vt)||vt[Pi]))break t;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(vt=a.relatedTarget||a.toElement,K=L,vt=vt?ei(vt):null,vt!==null&&(ve=ht(vt),Mt=vt.tag,vt!==ve||Mt!==5&&Mt!==27&&Mt!==6)&&(vt=null)):(K=null,vt=L),K!==vt)){if(Mt=zn,$="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=qo,$="onPointerLeave",z="onPointerEnter",P="pointer"),ve=K==null?H:As(K),F=vt==null?H:As(vt),H=new Mt($,P+"leave",K,a,Y),H.target=ve,H.relatedTarget=F,$=null,ei(Y)===L&&(Mt=new Mt(z,P+"enter",vt,a,Y),Mt.target=F,Mt.relatedTarget=ve,$=Mt),ve=$,K&&vt)e:{for(Mt=K,z=vt,P=0,F=Mt;F;F=Ya(F))P++;for(F=0,$=z;$;$=Ya($))F++;for(;0<P-F;)Mt=Ya(Mt),P--;for(;0<F-P;)z=Ya(z),F--;for(;P--;){if(Mt===z||z!==null&&Mt===z.alternate)break e;Mt=Ya(Mt),z=Ya(z)}Mt=null}else Mt=null;K!==null&&i0(et,H,K,Mt,!1),vt!==null&&ve!==null&&i0(et,ve,vt,Mt,!0)}}t:{if(H=L?As(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var pt=Mg;else if(Ie(H))if(xg)pt=_w;else{pt=yw;var kt=gw}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Po(L.elementType)&&(pt=Mg):pt=vw;if(pt&&(pt=pt(e,L))){Fi(et,pt,a,Y);break t}kt&&kt(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&ga(H,"number",H.value)}switch(kt=L?As(L):window,e){case"focusin":(Ie(kt)||kt.contentEditable==="true")&&(Ra=kt,rf=L,Go=null);break;case"focusout":Go=rf=Ra=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Bg(et,a,Y);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":Bg(et,a,Y)}var Tt;if(vi)t:{switch(e){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else Ft?G(e,a)&&(St="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(St="onCompositionStart");St&&(_&&a.locale!=="ko"&&(Ft||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ft&&(Tt=Uo()):(mi=Y,Ds="value"in mi?mi.value:mi.textContent,Ft=!0)),kt=Sc(L,St),0<kt.length&&(St=new zo(St,e,null,a,Y),et.push({event:St,listeners:kt}),Tt?St.data=Tt:(Tt=ot(a),Tt!==null&&(St.data=Tt)))),(Tt=y?xe(e,a):Ht(e,a))&&(St=Sc(L,"onBeforeInput"),0<St.length&&(kt=new zo("onBeforeInput","beforeinput",null,a,Y),et.push({event:kt,listeners:St}),kt.data=Tt)),s1(et,e,L,a,Y)}e0(et,s)})}function _l(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Sc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=br(e,a),f!=null&&l.unshift(_l(e,f,m)),f=br(e,s),f!=null&&l.push(_l(e,f,m))),e=e.return}return l}function Ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i0(e,s,a,l,f){for(var m=s._reactName,T=[];a!==null&&a!==l;){var b=a,M=b.alternate,L=b.stateNode;if(b=b.tag,M!==null&&M===l)break;b!==5&&b!==26&&b!==27||L===null||(M=L,f?(L=br(a,m),L!=null&&T.unshift(_l(a,L,M))):f||(L=br(a,m),L!=null&&T.push(_l(a,L,M)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var l1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function s0(e){return(typeof e=="string"?e:""+e).replace(l1,`
`).replace(u1,"")}function r0(e,s){return s=s0(s),s0(e)===s}function wc(){}function ne(e,s,a,l,f,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Un(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Un(e,""+l);break;case"className":ws(e,"class",l);break;case"tabIndex":ws(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(e,a,l);break;case"style":Cu(e,l,m);break;case"data":if(s!=="object"){ws(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ne(e,s,"name",f.name,f,null),ne(e,s,"formEncType",f.formEncType,f,null),ne(e,s,"formMethod",f.formMethod,f,null),ne(e,s,"formTarget",f.formTarget,f,null)):(ne(e,s,"encType",f.encType,f,null),ne(e,s,"method",f.method,f,null),ne(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=wc);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=di(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":jt("beforetoggle",e),jt("toggle",e),Ss(e,"popover",l);break;case"xlinkActuate":Ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ln(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ln(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ln(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ln(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ss(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zh.get(a)||a,Ss(e,a,l))}}function Vd(e,s,a,l,f,m){switch(a){case"style":Cu(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Un(e,l):(typeof l=="number"||typeof l=="bigint")&&Un(e,""+l);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=e[Me]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(s,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ss(e,a,l)}}}function Ze(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(e,s,m,T,a,null)}}f&&ne(e,s,"srcSet",a.srcSet,a,null),l&&ne(e,s,"src",a.src,a,null);return;case"input":jt("invalid",e);var b=m=T=f=null,M=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":M=Y;break;case"defaultChecked":L=Y;break;case"value":m=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ne(e,s,l,Y,a,null)}}Er(e,m,b,M,L,T,f,!1),Tr(e);return;case"select":jt("invalid",e),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:ne(e,s,f,b,a,null)}s=m,a=T,e.multiple=!!l,s!=null?Xt(e,!!l,s,!1):a!=null&&Xt(e,!!l,a,!0);return;case"textarea":jt("invalid",e),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ne(e,s,T,b,a,null)}Cs(e,l,f,m),Tr(e);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,s,M,l,a,null)}return;case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)jt(vl[l],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ne(e,s,L,l,a,null)}return;default:if(Po(s)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Vd(e,s,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ne(e,s,b,l,a,null))}function c1(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,b=null,M=null,L=null,Y=null;for(K in a){var et=a[K];if(a.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=et;default:l.hasOwnProperty(K)||ne(e,s,K,null,l,et)}}for(var H in l){var K=l[H];if(et=a[H],l.hasOwnProperty(H)&&(K!=null||et!=null))switch(H){case"type":m=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":Y=K;break;case"value":T=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==et&&ne(e,s,H,K,l,et)}}Rs(e,T,b,M,L,Y,m,f);return;case"select":K=T=b=H=null;for(m in a)if(M=a[m],a.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(m)||ne(e,s,m,null,l,M)}for(f in l)if(m=l[f],M=a[f],l.hasOwnProperty(f)&&(m!=null||M!=null))switch(f){case"value":H=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==M&&ne(e,s,f,m,l,M)}s=b,a=T,l=K,H!=null?Xt(e,!!a,H,!1):!!l!=!!a&&(s!=null?Xt(e,!!a,s,!0):Xt(e,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ne(e,s,b,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ne(e,s,T,f,l,m)}Ar(e,H,K);return;case"option":for(var vt in a)if(H=a[vt],a.hasOwnProperty(vt)&&H!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:ne(e,s,vt,null,l,H)}for(M in l)if(H=l[M],K=a[M],l.hasOwnProperty(M)&&H!==K&&(H!=null||K!=null))switch(M){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ne(e,s,M,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)H=a[Mt],a.hasOwnProperty(Mt)&&H!=null&&!l.hasOwnProperty(Mt)&&ne(e,s,Mt,null,l,H);for(L in l)if(H=l[L],K=a[L],l.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:ne(e,s,L,H,l,K)}return;default:if(Po(s)){for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!==void 0&&!l.hasOwnProperty(ve)&&Vd(e,s,ve,void 0,l,H);for(Y in l)H=l[Y],K=a[Y],!l.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||Vd(e,s,Y,H,l,K);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&ne(e,s,z,null,l,H);for(et in l)H=l[et],K=a[et],!l.hasOwnProperty(et)||H===K||H==null&&K==null||ne(e,s,et,H,l,K)}var Md=null,xd=null;function Rc(e){return e.nodeType===9?e:e.ownerDocument}function a0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Id(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Od=null;function h1(){var e=window.event;return e&&e.type==="popstate"?e===Od?!1:(Od=e,!0):(Od=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(e){return u0.resolve(null).then(e).catch(m1)}:l0;function m1(e){setTimeout(function(){throw e})}function Nd(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){e.removeChild(f),Cl(s);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Cl(s)}function Pd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function p1(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Es])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ri(e.nextSibling),e===null)break}return null}function g1(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ri(e.nextSibling),e===null))return null;return e}function ri(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}function c0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function h0(e,s,a){switch(s=Rc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var $n=new Map,f0=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ss=J.d;J.d={f:y1,r:v1,D:_1,C:T1,L:E1,m:A1,X:S1,S:b1,M:w1};function y1(){var e=ss.f(),s=_c();return e||s}function v1(e){var s=Li(e);s!==null&&s.tag===5&&s.type==="form"?By(s):ss.r(e)}var Xa=typeof document>"u"?null:document;function d0(e,s,a){var l=Xa;if(l&&typeof s=="string"&&s){var f=pe(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),f0.has(f)||(f0.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ze(s,"link",e),ue(s),l.head.appendChild(s)))}}function _1(e){ss.D(e),d0("dns-prefetch",e,null)}function T1(e,s){ss.C(e,s),d0("preconnect",e,s)}function E1(e,s,a){ss.L(e,s,a);var l=Xa;if(l&&e&&s){var f='link[rel="preload"][as="'+pe(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pe(a.imageSizes)+'"]')):f+='[href="'+pe(e)+'"]';var m=f;switch(s){case"style":m=$a(e);break;case"script":m=Za(e)}$n.has(m)||(e=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),$n.set(m,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Tl(m))||s==="script"&&l.querySelector(El(m))||(s=l.createElement("link"),Ze(s,"link",e),ue(s),l.head.appendChild(s)))}}function A1(e,s){ss.m(e,s);var a=Xa;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Za(e)}if(!$n.has(m)&&(e=x({rel:"modulepreload",href:e},s),$n.set(m,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(m)))return}l=a.createElement("link"),Ze(l,"link",e),ue(l),a.head.appendChild(l)}}}function b1(e,s,a){ss.S(e,s,a);var l=Xa;if(l&&e){var f=bs(l).hoistableStyles,m=$a(e);s=s||"default";var T=f.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Tl(m)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":s},a),(a=$n.get(m))&&Ld(e,a);var M=T=l.createElement("link");ue(M),Ze(M,"link",e),M._p=new Promise(function(L,Y){M.onload=L,M.onerror=Y}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(m,T)}}}function S1(e,s){ss.X(e,s);var a=Xa;if(a&&e){var l=bs(a).hoistableScripts,f=Za(e),m=l.get(f);m||(m=a.querySelector(El(f)),m||(e=x({src:e,async:!0},s),(s=$n.get(f))&&Ud(e,s),m=a.createElement("script"),ue(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function w1(e,s){ss.M(e,s);var a=Xa;if(a&&e){var l=bs(a).hoistableScripts,f=Za(e),m=l.get(f);m||(m=a.querySelector(El(f)),m||(e=x({src:e,async:!0,type:"module"},s),(s=$n.get(f))&&Ud(e,s),m=a.createElement("script"),ue(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function m0(e,s,a,l){var f=(f=Wt.current)?Cc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=$a(a.href),a=bs(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var m=bs(f).hoistableStyles,T=m.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=f.querySelector(Tl(e)))&&!m._p&&(T.instance=m,T.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),m||R1(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Za(a),a=bs(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $a(e){return'href="'+pe(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function p0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function R1(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ze(s,"link",a),ue(s),e.head.appendChild(s))}function Za(e){return'[src="'+pe(e)+'"]'}function El(e){return"script[async]"+e}function g0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return s.instance=l,ue(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ue(l),Ze(l,"style",f),Dc(l,a.precedence,e),s.instance=l;case"stylesheet":f=$a(a.href);var m=e.querySelector(Tl(f));if(m)return s.state.loading|=4,s.instance=m,ue(m),m;l=p0(a),(f=$n.get(f))&&Ld(l,f),m=(e.ownerDocument||e).createElement("link"),ue(m);var T=m;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),Ze(m,"link",l),s.state.loading|=4,Dc(m,a.precedence,e),s.instance=m;case"script":return m=Za(a.src),(f=e.querySelector(El(m)))?(s.instance=f,ue(f),f):(l=a,(f=$n.get(m))&&(l=x({},a),Ud(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ue(f),Ze(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Dc(l,a.precedence,e));return s.instance}function Dc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Ld(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Ud(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Vc=null;function y0(e,s,a){if(Vc===null){var l=new Map,f=Vc=new Map;f.set(a,l)}else f=Vc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[Es]||m[Be]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=e+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function v0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function C1(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Al=null;function D1(){}function V1(e,s,a){if(Al===null)throw Error(r(475));var l=Al;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=$a(a.href),m=e.querySelector(Tl(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Mc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=m,ue(m);return}m=e.ownerDocument||e,a=p0(a),(f=$n.get(f))&&Ld(a,f),m=m.createElement("link"),ue(m);var T=m;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),Ze(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Mc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function M1(){if(Al===null)throw Error(r(475));var e=Al;return e.stylesheets&&e.count===0&&kd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&kd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function kd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,s.forEach(x1,e),xc=null,Mc.call(e))}function x1(e,s){if(!(s.state.loading&4)){var a=xc.get(e);if(a)var l=a.get(null);else{a=new Map,xc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=Mc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var bl={$$typeof:V,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function I1(e,s,a,l,f,m,T,b){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function T0(e,s,a,l,f,m,T,b,M,L,Y,et){return e=new I1(e,s,a,T,b,M,L,et),s=1,m===!0&&(s|=24),m=Yn(3,null,null,s),e.current=m,m.stateNode=e,s=gf(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},$f(m),e}function E0(e){return e?(e=Va,e):Va}function A0(e,s,a,l,f,m){f=E0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ls(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Us(e,l,s),a!==null&&(gn(a,e,s),al(a,e,s))}function b0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Bd(e,s){b0(e,s),(e=e.alternate)&&b0(e,s)}function S0(e){if(e.tag===13){var s=Vs(e,67108864);s!==null&&gn(s,e,67108864),Bd(e,67108864)}}var Ic=!0;function O1(e,s,a,l){var f=C.T;C.T=null;var m=J.p;try{J.p=2,zd(e,s,a,l)}finally{J.p=m,C.T=f}}function N1(e,s,a,l){var f=C.T;C.T=null;var m=J.p;try{J.p=8,zd(e,s,a,l)}finally{J.p=m,C.T=f}}function zd(e,s,a,l){if(Ic){var f=jd(l);if(f===null)Dd(e,s,l,Oc,a),R0(e,l);else if(L1(f,e,s,a,l))l.stopPropagation();else if(R0(e,l),s&4&&-1<P1.indexOf(e)){for(;f!==null;){var m=Li(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ti(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-fn(T);b.entanglements[1]|=M,T&=~M}Si(m),(he&6)===0&&(gc=Qe()+500,yl(0))}}break;case 13:b=Vs(m,2),b!==null&&gn(b,m,2),_c(),Bd(m,2)}if(m=jd(l),m===null&&Dd(e,s,l,Oc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Dd(e,s,l,null,a)}}function jd(e){return e=ya(e),qd(e)}var Oc=null;function qd(e){if(Oc=null,e=ei(e),e!==null){var s=ht(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=Pt(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Oc=e,null}function w0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case me:return 2;case we:return 8;case Jn:case gr:return 32;case ms:return 268435456;default:return 32}default:return 32}}var Fd=!1,Hs=null,Gs=null,Ks=null,Sl=new Map,wl=new Map,Qs=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(e,s){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(s.pointerId)}}function Rl(e,s,a,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Li(s),s!==null&&S0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function L1(e,s,a,l,f){switch(s){case"focusin":return Hs=Rl(Hs,e,s,a,l,f),!0;case"dragenter":return Gs=Rl(Gs,e,s,a,l,f),!0;case"mouseover":return Ks=Rl(Ks,e,s,a,l,f),!0;case"pointerover":var m=f.pointerId;return Sl.set(m,Rl(Sl.get(m)||null,e,s,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,wl.set(m,Rl(wl.get(m)||null,e,s,a,l,f)),!0}return!1}function C0(e){var s=ei(e.target);if(s!==null){var a=ht(s);if(a!==null){if(s=a.tag,s===13){if(s=Pt(a),s!==null){e.blockedOn=s,Ts(e.priority,function(){if(a.tag===13){var l=xn(),f=Vs(a,l);f!==null&&gn(f,a,l),Bd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);kn=l,a.target.dispatchEvent(l),kn=null}else return s=Li(a),s!==null&&S0(s),e.blockedOn=a,!1;s.shift()}return!0}function D0(e,s,a){Nc(e)&&a.delete(s)}function U1(){Fd=!1,Hs!==null&&Nc(Hs)&&(Hs=null),Gs!==null&&Nc(Gs)&&(Gs=null),Ks!==null&&Nc(Ks)&&(Ks=null),Sl.forEach(D0),wl.forEach(D0)}function Pc(e,s){e.blockedOn===s&&(e.blockedOn=null,Fd||(Fd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,U1)))}var Lc=null;function V0(e){Lc!==e&&(Lc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(qd(l||a)===null)continue;break}var m=Li(a);m!==null&&(e.splice(s,3),s-=3,If(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Cl(e){function s(M){return Pc(M,e)}Hs!==null&&Pc(Hs,e),Gs!==null&&Pc(Gs,e),Ks!==null&&Pc(Ks,e),Sl.forEach(s),wl.forEach(s);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)C0(a),a.blockedOn===null&&Qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[Me]||null;if(typeof m=="function")T||V0(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[Me]||null)b=T.formAction;else if(qd(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),V0(a)}}}function Hd(e){this._internalRoot=e}Uc.prototype.render=Hd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=xn();A0(a,l,e,s,null,null)},Uc.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;e.tag===0&&Ka(),A0(e.current,2,null,e,null,null),_c(),s[Pi]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Su();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Qs.length&&s!==0&&s<Qs[a].priority;a++);Qs.splice(a,0,e),a===0&&C0(e)}};var M0=t.version;if(M0!=="19.0.0")throw Error(r(527,M0,"19.0.0"));J.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=D(s),e=e!==null?Z(e):null,e=e===null?null:e.stateNode,e};var k1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ei,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{li=kc.inject(k1),sn=kc}catch{}}return Vl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=Qy,m=Yy,T=Xy,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=T0(e,1,!1,null,null,a,l,f,m,T,b,null),e[Pi]=s.current,Cd(e.nodeType===8?e.parentNode:e),new Hd(s)},Vl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",m=Qy,T=Yy,b=Xy,M=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),s=T0(e,1,!0,s,a??null,l,f,m,T,b,M,L),s.context=E0(null),a=s.current,l=xn(),f=Ls(l),f.callback=null,Us(a,f,l),s.current.lanes=l,Ee(s,l),Si(s),e[Pi]=s.current,Cd(e),new Uc(s)},Vl.version="19.0.0",Vl}var z0;function $1(){if(z0)return Qd.exports;z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qd.exports=X1(),Qd.exports}var Z1=$1();const W1=wE(Z1);function J1({question:n,answers:t,correctIndex:i,selectedAnswer:r,onSelectAnswer:o,id:u,imageId:h}){const[d,p]=yt.useState(!1);if(yt.useEffect(()=>{const v=E=>{E.key==="Escape"&&p(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),!n||!t||t.length===0)return st.jsx("p",{className:"text-base",children:"Loading question..."});const g=h?`/images/${h}.png`:null;return st.jsxs(st.Fragment,{children:[st.jsxs("div",{className:"flashcard",children:[st.jsxs("div",{className:"question-section",children:[g&&st.jsx("img",{src:g,alt:`Bild zur Frage ${u}`,className:"question-image",onClick:()=>p(!0)}),st.jsx("p",{className:"question-text text-base font-medium mb-4 mt-2",children:n}),st.jsx("div",{className:"answer-list",children:t.map((v,E)=>{const S=r!==null,V=E===i,U=E===r;let j="answer-button text-base";return S&&(V?j+=" correct":U&&(j+=" wrong")),st.jsx("button",{className:j,onClick:k=>{k.preventDefault(),o(E)},disabled:S,children:v},E)})})]}),st.jsxs("div",{className:"question-meta text-sm text-muted-light",children:["Frage #",u]})]}),d&&g&&st.jsx("div",{className:"lightbox-overlay",onClick:()=>p(!1),children:st.jsx("img",{src:g,alt:`Frage ${u} groß`,className:"lightbox-image",onClick:v=>v.stopPropagation()})})]})}const tR=()=>{};var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},eR=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],d=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},CE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,d=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,V=g&63;p||(V=64,h||(S=64)),r.push(i[v],i[E],i[S],i[V])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(RE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):eR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],d=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new nR;const S=u<<2|d>>4;if(r.push(S),g!==64){const V=d<<4&240|g>>2;if(r.push(V),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(n){const t=RE(n);return CE.encodeByteArray(t,!0)},nh=function(n){return iR(n).replace(/\./g,"")},sR=function(n){try{return CE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>rR().__FIREBASE_DEFAULTS__,oR=()=>{if(typeof process>"u"||typeof j0>"u")return;const n=j0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&sR(n[1]);return t&&JSON.parse(t)},hp=()=>{try{return tR()||aR()||oR()||lR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uR=n=>{var t,i;return(i=(t=hp())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},cR=n=>{const t=uR(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},DE=()=>{var n;return(n=hp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nh(JSON.stringify(i)),nh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){var n;const t=(n=hp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pR(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fp(){try{return typeof indexedDB=="object"}catch{return!1}}function dp(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}function ME(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FirebaseError";class hr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=gR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?yR(u,r):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new hr(o,d,r)}}function yR(n,t){return n.replace(vR,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function Ql(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(q0(u)&&q0(h)){if(!Ql(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=1e3,TR=2,ER=4*60*60*1e3,AR=.5;function F0(n,t=_R,i=TR){const r=t*Math.pow(i,n),o=Math.round(AR*r*(Math.random()-.5)*2);return Math.min(ER,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n){return n&&n._delegate?n._delegate:n}class ls{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new hR;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wR(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&h.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SR(n){return n===Xr?void 0:n}function wR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bR(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qt||(Qt={}));const CR={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},DR=Qt.INFO,VR={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},MR=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=VR[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=DR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const xR=(n,t)=>t.some(i=>n instanceof i);let H0,G0;function IR(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xE=new WeakMap,Tm=new WeakMap,IE=new WeakMap,Zd=new WeakMap,pp=new WeakMap;function NR(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Zs(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&xE.set(i,n)}).catch(()=>{}),pp.set(t,n),t}function PR(n){if(Tm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Tm.set(n,t)}let Em={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Tm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||IE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function LR(n){Em=n(Em)}function UR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Wd(this),t,...i);return IE.set(r,t.sort?t.sort():[t]),Zs(r)}:OR().includes(n)?function(...t){return n.apply(Wd(this),t),Zs(xE.get(this))}:function(...t){return Zs(n.apply(Wd(this),t))}}function kR(n){return typeof n=="function"?UR(n):(n instanceof IDBTransaction&&PR(n),xR(n,IR())?new Proxy(n,Em):n)}function Zs(n){if(n instanceof IDBRequest)return NR(n);if(Zd.has(n))return Zd.get(n);const t=kR(n);return t!==n&&(Zd.set(n,t),pp.set(t,n)),t}const Wd=n=>pp.get(n);function OE(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),d=Zs(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Zs(h.result),p.oldVersion,p.newVersion,Zs(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const BR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Jd=new Map;function K0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Jd.get(t))return Jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=zR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||BR.includes(i)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[i](...d),o&&p.done]))[0]};return Jd.set(t,u),u}LR(n=>({...n,get:(t,i,r)=>K0(t,i)||n.get(t,i,r),has:(t,i)=>!!K0(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function qR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Am="@firebase/app",Q0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new mp("@firebase/app"),FR="@firebase/app-compat",HR="@firebase/analytics-compat",GR="@firebase/analytics",KR="@firebase/app-check-compat",QR="@firebase/app-check",YR="@firebase/auth",XR="@firebase/auth-compat",$R="@firebase/database",ZR="@firebase/data-connect",WR="@firebase/database-compat",JR="@firebase/functions",tC="@firebase/functions-compat",eC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",sC="@firebase/messaging-compat",rC="@firebase/performance",aC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",hC="@firebase/firestore",fC="@firebase/vertexai",dC="@firebase/firestore-compat",mC="firebase",pC="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",gC={[Am]:"fire-core",[FR]:"fire-core-compat",[GR]:"fire-analytics",[HR]:"fire-analytics-compat",[QR]:"fire-app-check",[KR]:"fire-app-check-compat",[YR]:"fire-auth",[XR]:"fire-auth-compat",[$R]:"fire-rtdb",[ZR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[JR]:"fire-fn",[tC]:"fire-fn-compat",[eC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[sC]:"fire-fcm-compat",[rC]:"fire-perf",[aC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[hC]:"fire-fst",[dC]:"fire-fst-compat",[fC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,yC=new Map,Sm=new Map;function Y0(n,t){try{n.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function nr(n){const t=n.name;if(Sm.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;Sm.set(t,n);for(const i of ih.values())Y0(i,n);for(const i of yC.values())Y0(i,n);return!0}function cu(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function vC(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new bh("app","Firebase",_C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=pC;function NE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:bm,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=DE()),!i)throw Ws.create("no-options");const u=ih.get(o);if(u){if(Ql(i,u.options)&&Ql(r,u.config))return u;throw Ws.create("duplicate-app",{appName:o})}const h=new RR(o);for(const p of Sm.values())h.addComponent(p);const d=new TC(i,r,h);return ih.set(o,d),d}function PE(n=bm){const t=ih.get(n);if(!t&&n===bm&&DE())return NE();if(!t)throw Ws.create("no-app",{appName:n});return t}function Ri(n,t,i){var r;let o=(r=gC[n])!==null&&r!==void 0?r:n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}nr(new ls(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",bC=1,Yl="firebase-heartbeat-store";let tm=null;function LE(){return tm||(tm=OE(AC,bC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),tm}async function SC(n){try{const i=(await LE()).transaction(Yl),r=await i.objectStore(Yl).get(UE(n));return await i.done,r}catch(t){if(t instanceof hr)us.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});us.warn(i.message)}}}async function X0(n,t){try{const r=(await LE()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(t,UE(n)),await r.done}catch(i){if(i instanceof hr)us.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});us.warn(r.message)}}}function UE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,RC=30;class CC{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VC(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>RC){const h=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$0(),{heartbeatsToSend:r,unsentEntries:o}=DC(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return us.warn(i),""}}}function $0(){return new Date().toISOString().substring(0,10)}function DC(n,t=wC){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Z0(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Z0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class VC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fp()?dp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return X0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return X0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Z0(n){return nh(JSON.stringify({version:2,heartbeats:n})).length}function MC(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n){nr(new ls("platform-logger",t=>new jR(t),"PRIVATE")),nr(new ls("heartbeat",t=>new CC(t),"PRIVATE")),Ri(Am,Q0,n),Ri(Am,Q0,"esm2017"),Ri("fire-js","")}xC("");var IC="firebase",OC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(IC,OC,"app");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,kE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(x,N,B){for(var I=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)I[Dt-2]=arguments[Dt];return R.prototype[N].apply(x,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var x=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)x[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;16>N;++N)x[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],N=O.g[2];var B=O.g[3],I=R+(B^C&(N^B))+x[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[1]+3905402710&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[2]+606105819&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[5]+1200080426&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[6]+2821735955&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[9]+2336552879&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[10]+4294925233&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(B^C&(N^B))+x[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(N^R&(C^N))+x[13]+4254626195&4294967295,B=R+(I<<12&4294967295|I>>>20),I=N+(C^B&(R^C))+x[14]+2792965006&4294967295,N=B+(I<<17&4294967295|I>>>15),I=C+(R^N&(B^R))+x[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=R+(N^B&(C^N))+x[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[6]+3225465664&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[11]+643717713&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[10]+38016083&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[15]+3634488961&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[14]+3275163606&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[3]+4107603335&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(N^B&(C^N))+x[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^N&(R^C))+x[2]+4243563512&4294967295,B=R+(I<<9&4294967295|I>>>23),I=N+(R^C&(B^R))+x[7]+1735328473&4294967295,N=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(N^B))+x[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=R+(C^N^B)+x[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[8]+2272392833&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[11]+1839030562&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[4]+1272893353&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[7]+4139469664&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[0]+3936430074&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[3]+3572445317&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(C^N^B)+x[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^N)+x[12]+3873151461&4294967295,B=R+(I<<11&4294967295|I>>>21),I=N+(B^R^C)+x[15]+530742520&4294967295,N=B+(I<<16&4294967295|I>>>16),I=C+(N^B^R)+x[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=R+(N^(C|~B))+x[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[7]+1126891415&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[14]+2878612391&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[3]+2399980690&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[10]+4293915773&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[15]+4264355552&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[6]+2734768916&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=R+(N^(C|~B))+x[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~N))+x[11]+3174756917&4294967295,B=R+(I<<10&4294967295|I>>>22),I=N+(R^(B|~C))+x[2]+718787259&4294967295,N=B+(I<<15&4294967295|I>>>17),I=C+(B^(N|~R))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,x=this.B,N=this.h,B=0;B<R;){if(N==0)for(;B<=C;)o(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<R;)if(x[N++]=O.charCodeAt(B++),N==this.blockSize){o(this,x),N=0;break}}else for(;B<R;)if(x[N++]=O[B++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var x=0;32>x;x+=8)O[C++]=this.g[R]>>>x&255;return O};function u(O,R){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function h(O,R){this.h=R;for(var C=[],x=!0,N=O.length-1;0<=N;N--){var B=O[N]|0;x&&B==R||(C[N]=B,x=!1)}this.g=C}var d={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return k(g(-O));for(var R=[],C=1,x=0;O>=C;x++)R[x]=O/C|0,C*=4294967296;return new h(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return k(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),x=E,N=0;N<O.length;N+=8){var B=Math.min(8,O.length-N),I=parseInt(O.substring(N,N+B),R);8>B?(B=g(Math.pow(R,B)),x=x.j(B).add(g(I))):(x=x.j(C),x=x.add(g(I)))}return x}var E=p(0),S=p(1),V=p(16777216);n=h.prototype,n.m=function(){if(j(this))return-k(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var x=this.i(C);O+=(0<=x?x:4294967296+x)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(j(this))return"-"+k(this).toString(O);for(var R=g(Math.pow(O,6)),C=this,x="";;){var N=_t(C,R).g;C=Q(C,N.j(R));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=N,U(C))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}n.l=function(O){return O=Q(this,O),j(O)?-1:U(O)?0:1};function k(O){for(var R=O.g.length,C=[],x=0;x<R;x++)C[x]=~O.g[x];return new h(C,~O.h).add(S)}n.abs=function(){return j(this)?k(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0,N=0;N<=R;N++){var B=x+(this.i(N)&65535)+(O.i(N)&65535),I=(B>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);x=I>>>16,B&=65535,I&=65535,C[N]=I<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(k(R))}n.j=function(O){if(U(this)||U(O))return E;if(j(this))return j(O)?k(this).j(k(O)):k(k(this).j(O));if(j(O))return k(this.j(k(O)));if(0>this.l(V)&&0>O.l(V))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],x=0;x<2*R;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<O.g.length;N++){var B=this.i(x)>>>16,I=this.i(x)&65535,Dt=O.i(N)>>>16,qt=O.i(N)&65535;C[2*x+2*N]+=I*qt,tt(C,2*x+2*N),C[2*x+2*N+1]+=B*qt,tt(C,2*x+2*N+1),C[2*x+2*N+1]+=I*Dt,tt(C,2*x+2*N+1),C[2*x+2*N+2]+=B*Dt,tt(C,2*x+2*N+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function tt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function nt(O,R){this.g=O,this.h=R}function _t(O,R){if(U(R))throw Error("division by zero");if(U(O))return new nt(E,E);if(j(O))return R=_t(k(O),R),new nt(k(R.g),k(R.h));if(j(R))return R=_t(O,k(R)),new nt(k(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,x=R;0>=x.l(O);)C=rt(C),x=rt(x);var N=gt(C,1),B=gt(x,1);for(x=gt(x,2),C=gt(C,2);!U(x);){var I=B.add(x);0>=I.l(O)&&(N=N.add(C),B=I),x=gt(x,1),C=gt(C,1)}return R=Q(O,N.j(R)),new nt(N,R)}for(N=E;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=g(C),I=B.j(R);j(I)||0<I.l(O);)C-=x,B=g(C),I=B.j(R);U(B)&&(B=S),N=N.add(B),O=Q(O,I)}return new nt(N,O)}n.A=function(O){return _t(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)&O.i(x);return new h(C,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)|O.i(x);return new h(C,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],x=0;x<R;x++)C[x]=this.i(x)^O.i(x);return new h(C,this.h^O.h)};function rt(O){for(var R=O.g.length+1,C=[],x=0;x<R;x++)C[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(C,O.h)}function gt(O,R){var C=R>>5;R%=32;for(var x=O.g.length-C,N=[],B=0;B<x;B++)N[B]=0<R?O.i(B+C)>>>R|O.i(B+C+1)<<32-R:O.i(B+C);return new h(N,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Js=h}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BE,Il,zE,Qc,wm,jE,qE,FE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break t;_=_[q]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,q={next:function(){if(!w&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,q,G){for(var ot=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)ot[Ft-2]=arguments[Ft];return y.prototype[q].apply(w,ot)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const q=c.length||0,G=w.length||0;c.length=q+G;for(let ot=0;ot<G;ot++)c[q+ot]=w[ot]}else c.push(w)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function tt(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var rt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function gt(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let G=0;G<C.length;G++)_=C[G],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Pt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Dt{constructor(){this.h=this.g=null}add(y,_){const w=qt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var qt=new Q(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ht=!1,Pt=new Dt,A=()=>{const c=d.Promise.resolve(void 0);ct=()=>{c.then(D)}};var D=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){B(_)}var y=qt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function lt(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(rt){t:{try{_t(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&lt.aa.h.call(this)}}U(lt,X);var ut={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function Rt(c,y,_,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++ft,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c){this.src=c,this.g={},this.h=0}Ot.prototype.add=function(c,y,_,w,q){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=Wt(c,y,w,q);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Rt(y,this.src,G,!!w,q),y.fa=_,c.push(y)),y};function Yt(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,y,void 0),G;(G=0<=q)&&Array.prototype.splice.call(w,q,1),G&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,y,_,w){for(var q=0;q<c.length;++q){var G=c[q];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==w)return q}return-1}var It="closure_lm_"+(1e6*Math.random()|0),le={};function Te(c,y,_,w,q){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Te(c,y[G],_,w,q);return null}return _=ca(_),c&&c[dt]?c.K(y,_,g(w)?!!w.capture:!1,q):Ke(c,y,_,!1,w,q)}function Ke(c,y,_,w,q,G){if(!y)throw Error("Invalid event type");var ot=g(q)?!!q.capture:!!q,Ft=pr(c);if(Ft||(c[It]=Ft=new Ot(c)),_=Ft.add(y,_,w,ot,G),_.proxy)return _;if(w=nn(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)J||(q=ot),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(ds(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nn(){function c(_){return y.call(c.src,c.listener,_)}const y=wo;return c}function vn(c,y,_,w,q){if(Array.isArray(y))for(var G=0;G<y.length;G++)vn(c,y[G],_,w,q);else w=g(w)?!!w.capture:!!w,_=ca(_),c&&c[dt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Wt(G,_,w,q),-1<_&&(At(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=pr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,_,w,q)),(_=-1<c?y[c]:null)&&ke(_))}function ke(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])Yt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ds(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=pr(y))?(Yt(_,c),_.h==0&&(_.src=null,y[It]=null)):At(c)}}}function ds(c){return c in le?le[c]:le[c]="on"+c}function wo(c,y){if(c.da)c=!0;else{y=new lt(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ke(c),c=_.call(w,y)}return c}function pr(c){return c=c[It],c instanceof Ot?c:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ca(c){return typeof c=="function"?c:(c[Qe]||(c[Qe]=function(y){return c.handleEvent(y)}),c[Qe])}function me(){Z.call(this),this.i=new Ot(this),this.M=this,this.F=null}U(me,Z),me.prototype[dt]=!0,me.prototype.removeEventListener=function(c,y,_,w){vn(this,c,y,_,w)};function we(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var q=y;y=new X(w,c),x(y,q)}if(q=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];q=Jn(ot,w,!0,y)&&q}if(ot=y.g=c,q=Jn(ot,w,!0,y)&&q,q=Jn(ot,w,!1,y)&&q,_)for(G=0;G<_.length;G++)ot=y.g=_[G],q=Jn(ot,w,!1,y)&&q}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)At(_[w]);delete c.g[y],c.h--}}this.F=null},me.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},me.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Jn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var Ft=ot.listener,xe=ot.ha||ot.src;ot.fa&&Yt(c.i,ot),q=Ft.call(xe,w)!==!1&&q}}return q&&!w.defaultPrevented}function gr(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ms(c){c.g=gr(()=>{c.g=null,c.i&&(c.i=!1,ms(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yr extends Z{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(c){Z.call(this),this.h=c,this.g={}}U(Ni,Z);var li=[];function sn(c){gt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ke(y)},c),c.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),sn(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ro=d.JSON.stringify,ui=d.JSON.parse,fn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Tu(c){return c.h||(c.h=c.i())}function Eu(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ps(){X.call(this,"d")}U(ps,X);function ti(){X.call(this,"c")}U(ti,X);var Pn={},gs=null;function ha(){return gs=gs||new me}Pn.La="serverreachability";function Do(c){X.call(this,Pn.La,c)}U(Do,X);function ys(c){const y=ha();we(y,new Do(y))}Pn.STAT_EVENT="statevent";function fa(c,y){X.call(this,Pn.STAT_EVENT,c),this.stat=y}U(fa,X);function Ee(c){const y=ha();we(y,new fa(y,c))}Pn.Ma="timingevent";function Au(c,y){X.call(this,Pn.Ma,c),this.size=y}U(Au,X);function vs(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function bu(c,y,_,w,q,G){c.info(function(){if(c.g)if(G)for(var ot="",Ft=G.split("&"),xe=0;xe<Ft.length;xe++){var Ht=Ft[xe].split("=");if(1<Ht.length){var je=Ht[0];Ht=Ht[1];var Ie=je.split("_");ot=2<=Ie.length&&Ie[1]=="type"?ot+(je+"="+Ht+"&"):ot+(je+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+ot})}function Su(c,y,_,w,q,G,ot){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+G+" "+ot})}function Ts(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Be(c,_)+(w?" "+w:"")})}function hi(c,y){c.info(function(){return"TIMEOUT: "+y})}_s.prototype.info=function(){};function Be(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var G=q[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<q.length;ot++)q[ot]=""}}}}return Ro(_)}catch{return y}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function da(){}U(da,Co),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},vr=new da;function fi(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vo}function Vo(){this.i=null,this.g="",this.h=!1}var Es={},_r={};function ei(c,y,_){c.L=1,c.v=Ar(pe(y)),c.m=_,c.P=!0,Li(c,null)}function Li(c,y){c.F=Date.now(),ue(c),c.A=pe(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Bi(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Vo,c.g=ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new yr(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(li[0]=q.toString()),q=li);for(var G=0;G<q.length;G++){var ot=Te(_,q[G],w||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ys(),bu(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)t:{const Ie=zn(this.g);var y=this.g.Ba();const Fi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=Fi?ys(3):ys(2)),ma(this);var _=this.g.Z();this.X=_;e:if(As(this)){var w=Mu(this.g);c="";var q=w.length,G=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),wn(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(G&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,Su(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,xe=this.g;if((Ft=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Ft)){var Ht=Ft;break e}}Ht=null}if(_=Ht)Ts(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rn(this,_);else{this.o=!1,this.s=3,Ee(12),_n(this),wn(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<ot.length;)if(Ye=bs(this,ot),Ye==_r){Ie==4&&(this.s=4,Ee(14),_=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==Es){this.s=4,Ee(15),Ts(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Ts(this.i,this.l,Ye,null),Rn(this,Ye);if(As(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ot.length!=0||this.h.h||(this.s=1,Ee(16),_=!1),this.o=this.o&&_,!_)Ts(this.i,this.l,ot,"[Invalid Chunked Response]"),_n(this),wn(this);else if(0<ot.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Vr(je),je.M=!0,Ee(11))}}else Ts(this.i,this.l,ot,null),Rn(this,ot);Ie==4&&_n(this),this.o&&!this.J&&(Ie==4?Pu(this.j,this):(this.o=!1,ue(this)))}else Jh(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),_n(this),wn(this)}}}catch{}finally{}};function As(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bs(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?_r:(_=Number(y.substring(_,w)),isNaN(_)?Es:(w+=1,w+_>y.length?_r:(y=y.slice(w,w+_),c.C=w+_,y)))}fi.prototype.cancel=function(){this.J=!0,_n(this)};function ue(c){c.S=Date.now()+c.I,Mo(c,c.I)}function Mo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vs(S(c.ba,c),y)}function ma(c){c.B&&(d.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hi(this.i,this.A),this.L!=2&&(ys(),Ee(17)),_n(this),this.s=2,wn(this)):Mo(this,this.S-c)};function wn(c){c.j.G==0||c.J||Pu(c.j,c)}function _n(c){ma(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,sn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Rn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ss(_.h,c))){if(!c.K&&Ss(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),Aa(_);else break t;jo(_),Ee(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=vs(S(_.Za,_),6e3));if(1>=wu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((c.K||_.g==c)&&Sa(_),!tt(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Ht=q[y];if(_.T=Ht[0],Ht=Ht[1],_.G==2)if(Ht[0]=="c"){_.K=Ht[1],_.ia=Ht[2];const je=Ht[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const Ie=Ht[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const Fi=Ht[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(w=1.5*Fi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ye=c.g;if(Ye){const _i=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var G=w.h;G.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ws(G,G.h),G.h=null))}if(w.D){const Fo=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(w.ya=Fo,Xt(w.I,w.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ot=c;if(w.qa=Uu(w,w.J?w.ia:null,w.W),ot.K){Ln(w.h,ot);var Ft=ot,xe=w.L;xe&&(Ft.I=xe),Ft.B&&(ma(Ft),ue(Ft)),w.g=ot}else Ou(w);0<_.i.length&&ba(_)}else Ht[0]!="stop"&&Ht[0]!="close"||qi(_,7);else _.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?qi(_,7):Bo(_):Ht[0]!="noop"&&_.l&&_.l.ta(Ht),_.v=0)}}ys(4)}catch{}}var Yh=class{constructor(c,y){this.g=c,this.map=y}};function xo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wu(c){return c.h?1:c.g?c.g.size:0}function Ss(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ws(c,y){c.g?c.g.add(y):c.h=y}function Ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function Ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Xh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Tr(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Xh(c),w=Ru(c),q=w.length,G=0;G<q;G++)y.call(void 0,w[G],_&&_[G],c)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),q=null;if(0<=w){var G=c[_].substring(0,w);q=c[_].substring(w+1)}else G=c[_];y(G,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.s),this.l=c.l;var y=c.i,_=new di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ga(this,_),this.m=c.m}else c&&(y=String(c).match(Oo))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Cs(y[2]||""),this.g=Cs(y[3]||"",!0),Er(this,y[4]),this.l=Cs(y[5]||"",!0),ga(this,y[6]||"",!0),this.m=Cs(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Ui.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Un(y,No,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Un(y,No,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Un(_,_.charAt(0)=="/"?Po:Cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Un(_,Wh)),c.join("")};function pe(c){return new Ui(c)}function Rs(c,y,_){c.j=_?Cs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ga(c,y,_){y instanceof di?(c.i=y,Lo(c.i,c.h)):(_||(y=Un(y,Zh)),c.i=new di(y,c.h))}function Xt(c,y,_){c.i.set(y,_)}function Ar(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Un(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,$h),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $h(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,Cu=/[#\?:]/g,Po=/[#\?]/g,Zh=/[#\?@]/g,Wh=/#/g;function di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=di.prototype,n.add=function(c,y){kn(this),this.i=null,c=zi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ya(c,y){kn(c),y=zi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ki(c,y){return kn(c),y=zi(c,y),c.g.has(y)}n.forEach=function(c,y){kn(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(y,q,w,this)},this)},this)},n.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const q=c[w];for(let G=0;G<q.length;G++)_.push(y[w])}return _},n.V=function(c){kn(this);let y=[];if(typeof c=="string")ki(this,c)&&(y=y.concat(this.g.get(zi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return kn(this),this.i=null,c=zi(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bi(c,y,_){ya(c,y),0<_.length&&(c.i=null,c.g.set(zi(c,y),j(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const G=encodeURIComponent(String(w)),ot=this.V(w);for(w=0;w<ot.length;w++){var q=G;ot[w]!==""&&(q+="="+encodeURIComponent(String(ot[w]))),c.push(q)}}return this.i=c.join("&")};function zi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lo(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var q=w.toLowerCase();w!=q&&(ya(this,w),Bi(this,q,_))},c)),c.j=y}function Du(c,y){const _=new _s;if(d.Image){const w=new Image;w.onload=V(Bn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=V(Bn,_,"TestLoadImage: error",!1,y,w),w.onabort=V(Bn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(Bn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function br(c,y){const _=new _s,w=new AbortController,q=setTimeout(()=>{w.abort(),Bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(q),G.ok?Bn(_,"TestPingServer: ok",!0,y):Bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Bn(_,"TestPingServer: error",!1,y)})}function Bn(c,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function Sr(){this.g=new fn}function mi(c,y,_){const w=_||"";try{Tr(c,function(q,G){let ot=q;g(q)&&(ot=Ro(q)),y.push(w+G+"="+encodeURIComponent(ot))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function Ds(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ds,Co),Ds.prototype.g=function(){return new ji(this.l,this.j)},Ds.prototype.i=function(c){return function(){return c}}({});function ji(c,y){me.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ji,me),n=ji.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gi(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pi(this):gi(this),this.readyState==3&&Uo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},n.Qa=function(c){this.g&&(this.response=c,pi(this))},n.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let y="";return gt(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function ze(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xt(c,y,_))}function Jt(c){me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Jt,me);var va=/^https?$/i,wr=["POST","PUT"];n=Jt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?Tu(this.o):Tu(vr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Vu(this,G);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(wr,y,void 0))||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rr(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Vu(this,G)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),yi(c)}function _a(c){c.A||(c.A=!0,we(c,"complete"),we(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,we(this,"complete"),we(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},n.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof h<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)gr(c.Ea,0,c);else if(we(c,"readystatechange"),zn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=ot===0){var q=String(c.D).match(Oo)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!va.test(q?q.toLowerCase():"")}_=w}if(_)we(c,"complete"),we(c,"success");else{c.m=6;try{var G=2<zn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",_a(c)}}finally{yi(c)}}}}function yi(c,y){if(c.g){Rr(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||we(c,"ready");try{_.onreadystatechange=w}catch{}}}function Rr(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ui(y)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(tt(c[w]))continue;var _=N(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[q]||[];y[q]=G,G.push(_)}O(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,c),this.cb=Cr("retryDelaySeedMs",1e4,c),this.Wa=Cr("forwardChannelMaxRetries",2,c),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(c&&c.concurrentRequestLimit),this.Da=new Sr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ea.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,w){Ee(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Uu(this,null,this.W),ba(this)};function Bo(c){if(xu(c),c.G==3){var y=c.U++,_=pe(c.I);if(Xt(_,"SID",c.K),Xt(_,"RID",y),Xt(_,"TYPE","terminate"),Dr(c,_),y=new fi(c,c.j,y),y.L=2,y.v=Ar(pe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ue(y)}Lu(c)}function Aa(c){c.g&&(Vr(c),c.g.cancel(),c.g=null)}function xu(c){Aa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ba(c){if(!Io(c.h)&&!c.s){c.s=!0;var y=c.Ga;ct||A(),ht||(ct(),ht=!0),Pt.add(y,c),c.B=0}}function tf(c,y){return wu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vs(S(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new fi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(q.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Iu(this,q,y),_=pe(this.I),Xt(_,"RID",c),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),Dr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(ko(G)))+"&"+y:this.m&&ze(_,this.m,G)),ws(this.h,q),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",y),Xt(_,"SID","null"),q.T=!0,ei(q,_,null)):ei(q,_,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||Io(this.h)||zo(this))};function zo(c,y){var _;y?_=y.l:_=c.U++;const w=pe(c.I);Xt(w,"SID",c.K),Xt(w,"RID",_),Xt(w,"AID",c.T),Dr(c,w),c.m&&c.o&&ze(w,c.m,c.o),_=new fi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ws(c.h,_),ei(_,w,y)}function Dr(c,y){c.H&&gt(c.H,function(_,w){Xt(y,w,_)}),c.l&&Tr({},function(_,w){Xt(y,w,_)})}function Iu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;t:{var q=c.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=q[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let Ft=!0;for(let xe=0;xe<_;xe++){let Ht=q[xe].g;const je=q[xe].map;if(Ht-=G,0>Ht)G=Math.max(0,q[xe].g-100),Ft=!1;else try{mi(je,ot,"req"+Ht+"_")}catch{w&&w(je)}}if(Ft){w=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function Ou(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ct||A(),ht||(ct(),ht=!0),Pt.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vs(S(c.Fa,c),qo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vs(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Aa(this),Nu(this))};function Vr(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pe(c.qa);Xt(y,"RID","rpc"),Xt(y,"SID",c.K),Xt(y,"AID",c.T),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(y,"TO",c.ja),Xt(y,"TYPE","xmlhttp"),Dr(c,y),c.m&&c.o&&ze(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ar(pe(y)),_.m=null,_.P=!0,Li(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Aa(this),jo(this),Ee(19))};function Sa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){Sa(c),Vr(c),c.g=null;var w=2}else if(Ss(c.h,y))_=y.D,Ln(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=ha(),we(w,new Au(w,_)),ba(c)}else Ou(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&tf(c,y)||w==2&&jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),q){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const q=!w;w=new Ui(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rs(w,"https"),Ar(w),q?Du(w.toString(),_):br(w.toString(),_)}else Ee(2);c.G=0,c.l&&c.l.sa(y),Lu(c),xu(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const y=dn(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Uu(c,y,_){var w=_ instanceof Ui?pe(_):new Ui(_);if(w.g!="")y&&(w.g=y+"."+w.g),Er(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var G=new Ui(null);w&&Rs(G,w),y&&(G.g=y),q&&Er(G,q),_&&(G.l=_),w=G}return _=c.D,y=c.ya,_&&y&&Xt(w,_,y),Xt(w,"VER",c.la),Dr(c,w),w}function ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Jt(new Ds({eb:_})):new Jt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}n=Bu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){me.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!tt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!tt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vi(this)}U(mn,me),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Bo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ro(c),c=_);y.i.push(new Yh(y.Ya++,c)),y.G==3&&ba(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,mn.aa.N.call(this)};function zu(c){ps.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(zu,ps);function ju(){ti.call(this),this.status=1}U(ju,ti);function vi(c){this.g=c}U(vi,Bu),vi.prototype.ua=function(){we(this.g,"a")},vi.prototype.ta=function(c){we(this.g,new zu(c))},vi.prototype.sa=function(c){we(this.g,new ju)},vi.prototype.ra=function(){we(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,FE=function(){return new wa},qE=function(){return ha()},jE=Pn,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Qc=Me,Pi.COMPLETE="complete",zE=Pi,Eu.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",me.prototype.listen=me.prototype.K,Il=Eu,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,BE=Jt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const J0="@firebase/firestore",t_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new mp("@firebase/firestore");function Wa(){return ia.logLevel}function mt(n,...t){if(ia.logLevel<=Qt.DEBUG){const i=t.map(gp);ia.debug(`Firestore (${_o}): ${n}`,...i)}}function cs(n,...t){if(ia.logLevel<=Qt.ERROR){const i=t.map(gp);ia.error(`Firestore (${_o}): ${n}`,...i)}}function lo(n,...t){if(ia.logLevel<=Qt.WARN){const i=t.map(gp);ia.warn(`Firestore (${_o}): ${n}`,...i)}}function gp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n="Unexpected state"){const t=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+n;throw cs(t),new Error(t)}function te(n,t){n||Ct()}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends hr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(un.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class LC{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ea,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ea)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new HE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new un(t)}}class UC{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kC{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new UC(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vC(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){te(this.o===void 0);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new e_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(te(typeof i.token=="string"),this.R=i.token,new e_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=zC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Ut(n,t){return n<t?-1:n>t?1:0}function Rm(n,t){let i=0;for(;i<n.length&&i<t.length;){const r=n.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Ut(r,o);{const u=GE(),h=jC(u.encode(n_(n,i)),u.encode(n_(t,i)));return h!==0?h:Ut(r,o)}}i+=r>65535?2:1}return Ut(n.length,t.length)}function n_(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function jC(n,t){for(let i=0;i<n.length&&i<t.length;++i)if(n[i]!==t[i])return Ut(n[i],t[i]);return Ut(n.length,t.length)}function uo(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,s_=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*s_);return new Le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Et(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i_)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Et(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Le(0,0))}static max(){return new Vt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class wi{constructor(t,i,r){i===void 0?i=0:i>t.length&&Ct(),r===void 0?r=t.length-i:r>t.length-i&&Ct(),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=wi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Ut(t.length,i.length)}static compareSegments(t,i){const r=wi.isNumericId(t),o=wi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(t).compare(wi.extractNumericId(i)):Rm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class oe extends wi{construct(t,i,r){return new oe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new Et(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends wi{construct(t,i,r){return new tn(t,i,r)}static isValidIdentifier(t){return qC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new tn([r_])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Et(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new Et(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Et(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(r+=d,o++):(u(),o++)}if(u(),h)throw new Et(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.path=t}static fromPath(t){return new bt(oe.fromString(t))}static fromName(t){return new bt(oe.fromString(t).popFirst(5))}static empty(){return new bt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function FC(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Vt.fromTimestamp(r===1e9?new Le(i+1,0):new Le(i,r));return new ir(o,bt.empty(),t)}function HC(n){return new ir(n.readTime,n.key,Xl)}class ir{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new ir(Vt.min(),bt.empty(),Xl)}static max(){return new ir(Vt.max(),bt.empty(),Xl)}}function GC(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=bt.comparator(n.documentKey,t.documentKey),i!==0?i:Ut(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==KC)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,r)=>{i(t)})}static reject(t){return new W((i,r)=>{r(t)})}static waitFor(t){return new W((i,r)=>{let o=0,u=0,h=!1;t.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=W.resolve(!1);for(const r of t)i=i.next(o=>o?W.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new W((r,o)=>{const u=t.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++d,d===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new W((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function YC(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function wh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function XC(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function $C(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=a_(t)),t=ZC(n.get(i),t);return a_(t)}function ZC(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case QE:i+="";break;default:i+=u}}return i}function a_(n){return n+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function fr(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function YE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zc(this.root,t,this.comparator,!0)}}class zc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Je(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const t=this.left.check();if(t!==this.right.check())throw Ct();return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(t,i,r,o,u){return this}insert(t,i,r){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(t){return new l_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class l_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new In([])}unionWith(t){let i=new Ue(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XE("Invalid base64 string: "+u):u}}(t);return new en(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(n){if(te(!!n),typeof n=="string"){let t=0;const i=WC.exec(n);if(te(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",ZE="__type__",WE="__previous_value__",JE="__local_write_time__";function vp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||i===void 0?void 0:i.stringValue)===$E}function Rh(n){const t=n.mapValue.fields[WE];return vp(t)?Rh(t):t}function $l(n){const t=sr(n.mapValue.fields[JE].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,i,r,o,u,h,d,p,g){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const rh="(default)";class Zl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",tD="__max__",jc={mapValue:{}},eA="__vector__",ah="value";function ar(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vp(n)?4:nD(n)?9007199254740991:eD(n)?10:11:Ct()}function Ii(n,t){if(n===t)return!0;const i=ar(n);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return $l(n).isEqual($l(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=sr(o.timestampValue),d=sr(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Se(o.doubleValue),d=Se(u.doubleValue);return h===d?sh(h)===sh(d):isNaN(h)&&isNaN(d)}return!1}(n,t);case 9:return uo(n.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(o_(h)!==o_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ii(h[p],d[p])))return!1;return!0}(n,t);default:return Ct()}}function Wl(n,t){return(n.values||[]).find(i=>Ii(i,t))!==void 0}function co(n,t){if(n===t)return 0;const i=ar(n),r=ar(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return function(u,h){const d=Se(u.integerValue||u.doubleValue),p=Se(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return u_(n.timestampValue,t.timestampValue);case 4:return u_($l(n),$l(t));case 5:return Rm(n.stringValue,t.stringValue);case 6:return function(u,h){const d=rr(u),p=rr(h);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ut(d[g],p[g]);if(v!==0)return v}return Ut(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const d=Ut(Se(u.latitude),Se(h.latitude));return d!==0?d:Ut(Se(u.longitude),Se(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return c_(n.arrayValue,t.arrayValue);case 10:return function(u,h){var d,p,g,v;const E=u.fields||{},S=h.fields||{},V=(d=E[ah])===null||d===void 0?void 0:d.arrayValue,U=(p=S[ah])===null||p===void 0?void 0:p.arrayValue,j=Ut(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((v=U==null?void 0:U.values)===null||v===void 0?void 0:v.length)||0);return j!==0?j:c_(V,U)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===jc.mapValue&&h===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(h===jc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Rm(p[E],v[E]);if(S!==0)return S;const V=co(d[p[E]],g[v[E]]);if(V!==0)return V}return Ut(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Ct()}}function u_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const i=sr(n),r=sr(t),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function c_(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=co(i[o],r[o]);if(u)return u}return Ut(i.length,r.length)}function ho(n){return Cm(n)}function Cm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=sr(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return rr(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return bt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Cm(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Cm(i.fields[h])}`;return o+"}"}(n.mapValue):Ct()}function Yc(n){switch(ar(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(n);return t?16+Yc(t):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Yc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return fr(r.fields,(u,h)=>{o+=u.length+Yc(h)}),o}(n.mapValue);default:throw Ct()}}function Dm(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function h_(n){return!!n&&"nullValue"in n}function f_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xc(n){return!!n&&"mapValue"in n}function eD(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[tA])===null||i===void 0?void 0:i.stringValue)===eA}function kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return fr(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=kl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=kl(n.arrayValue.values[i]);return t}return Object.assign({},n)}function nD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=kl(i)}setAll(t){let i=tn.emptyPath(),r={},o=[];t.forEach((h,d)=>{if(!i.isImmediateParentOf(d)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=d.popLast()}h?r[d.lastSegment()]=kl(h):o.push(d.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){fr(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new An(kl(this.value))}}function nA(n){const t=[];return fr(n.fields,(i,r)=>{const o=new tn([i]);if(Xc(r)){const u=nA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,i,r,o,u,h,d){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(t){return new cn(t,0,Vt.min(),Vt.min(),Vt.min(),An.empty(),0)}static newFoundDocument(t,i,r,o){return new cn(t,1,i,Vt.min(),r,o,0)}static newNoDocument(t,i){return new cn(t,2,i,Vt.min(),Vt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new cn(t,3,i,Vt.min(),Vt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i){this.position=t,this.inclusive=i}}function d_(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=bt.comparator(bt.fromName(h.referenceValue),i.key):r=co(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Ii(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i="asc"){this.field=t,this.dir=i}}function iD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{}class Pe extends iA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new rD(t,i,r):i==="array-contains"?new lD(t,r):i==="in"?new uD(t,r):i==="not-in"?new cD(t,r):i==="array-contains-any"?new hD(t,r):new Pe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new aD(t,r):new oD(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(co(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends iA{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Oi(t,i)}matches(t){return sA(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sA(n){return n.op==="and"}function rA(n){return sD(n)&&sA(n)}function sD(n){for(const t of n.filters)if(t instanceof Oi)return!1;return!0}function Vm(n){if(n instanceof Pe)return n.field.canonicalString()+n.op.toString()+ho(n.value);if(rA(n))return n.filters.map(t=>Vm(t)).join(",");{const t=n.filters.map(i=>Vm(i)).join(",");return`${n.op}(${t})`}}function aA(n,t){return n instanceof Pe?function(r,o){return o instanceof Pe&&r.op===o.op&&r.field.isEqual(o.field)&&Ii(r.value,o.value)}(n,t):n instanceof Oi?function(r,o){return o instanceof Oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,d)=>u&&aA(h,o.filters[d]),!0):!1}(n,t):void Ct()}function oA(n){return n instanceof Pe?function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`}(n):n instanceof Oi?function(i){return i.op.toString()+" {"+i.getFilters().map(oA).join(" ,")+"}"}(n):"Filter"}class rD extends Pe{constructor(t,i,r){super(t,i,r),this.key=bt.fromName(r.referenceValue)}matches(t){const i=bt.comparator(t.key,this.key);return this.matchesComparison(i)}}class aD extends Pe{constructor(t,i){super(t,"in",i),this.keys=lA("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class oD extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=lA("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function lA(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>bt.fromName(r.referenceValue))}class lD extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return _p(i)&&Wl(i.arrayValue,this.value)}}class uD extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class cD extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Wl(this.value.arrayValue,i)}}class hD extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!_p(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,i=null,r=[],o=[],u=null,h=null,d=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function p_(n,t=null,i=[],r=[],o=null,u=null,h=null){return new fD(n,t,i,r,o,u,h)}function Tp(n){const t=xt(n);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Vm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),wh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ho(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ho(r)).join(",")),t.le=i}return t.le}function Ep(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!iD(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!aA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!m_(n.startAt,t.startAt)&&m_(n.endAt,t.endAt)}function Mm(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i=null,r=[],o=[],u=null,h="F",d=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dD(n,t,i,r,o,u,h,d){return new Ch(n,t,i,r,o,u,h,d)}function Ap(n){return new Ch(n)}function g_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mD(n){return n.collectionGroup!==null}function Bl(n){const t=xt(n);if(t.he===null){t.he=[];const i=new Set;for(const u of t.explicitOrderBy)t.he.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ue(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.he.push(new lh(u,r))}),i.has(tn.keyField().canonicalString())||t.he.push(new lh(tn.keyField(),r))}return t.he}function Ci(n){const t=xt(n);return t.Pe||(t.Pe=pD(t,Bl(n))),t.Pe}function pD(n,t){if(n.limitType==="F")return p_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)});const i=n.endAt?new oh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new oh(n.startAt.position,n.startAt.inclusive):null;return p_(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function xm(n,t,i){return new Ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Dh(n,t){return Ep(Ci(n),Ci(t))&&n.limitType===t.limitType}function uA(n){return`${Tp(Ci(n))}|lt:${n.limitType}`}function Ja(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>oA(o)).join(", ")}]`),wh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>ho(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>ho(o)).join(",")),`Target(${r})`}(Ci(n))}; limitType=${n.limitType})`}function Vh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):bt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,d,p){const g=d_(h,d,p);return h.inclusive?g<=0:g<0}(r.startAt,Bl(r),o)||r.endAt&&!function(h,d,p){const g=d_(h,d,p);return h.inclusive?g>=0:g>0}(r.endAt,Bl(r),o))}(n,t)}function gD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cA(n){return(t,i)=>{let r=!1;for(const o of Bl(n)){const u=yD(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function yD(n,t,i){const r=n.field.isKeyField()?bt.comparator(t.key,i.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?co(p,g):Ct()}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new de(bt.comparator);function hs(){return vD}const hA=new de(bt.comparator);function Ol(...n){let t=hA;for(const i of n)t=t.insert(i.key,i);return t}function fA(n){let t=hA;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Zr(){return zl()}function dA(){return zl()}function zl(){return new oa(n=>n.toString(),(n,t)=>n.isEqual(t))}const _D=new de(bt.comparator),TD=new Ue(bt.comparator);function zt(...n){let t=TD;for(const i of n)t=t.add(i);return t}const ED=new Ue(Ut);function AD(){return ED}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(t)?"-0":t}}function mA(n){return{integerValue:""+n}}function pA(n,t){return XC(t)?mA(t):bp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function bD(n,t,i){return n instanceof uh?function(o,u){const h={fields:{[ZE]:{stringValue:$E},[JE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Rh(u)),u&&(h.fields[WE]=u),{mapValue:h}}(i,t):n instanceof Jl?yA(n,t):n instanceof tu?vA(n,t):function(o,u){const h=gA(o,u),d=y_(h)+y_(o.Ie);return Dm(h)&&Dm(o.Ie)?mA(d):bp(o.serializer,d)}(n,t)}function SD(n,t,i){return n instanceof Jl?yA(n,t):n instanceof tu?vA(n,t):i}function gA(n,t){return n instanceof eu?function(r){return Dm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class uh extends Mh{}class Jl extends Mh{constructor(t){super(),this.elements=t}}function yA(n,t){const i=_A(t);for(const r of n.elements)i.some(o=>Ii(o,r))||i.push(r);return{arrayValue:{values:i}}}class tu extends Mh{constructor(t){super(),this.elements=t}}function vA(n,t){let i=_A(t);for(const r of n.elements)i=i.filter(o=>!Ii(o,r));return{arrayValue:{values:i}}}class eu extends Mh{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function y_(n){return Se(n.integerValue||n.doubleValue)}function _A(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,i){this.field=t,this.transform=i}}function RD(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Jl&&o instanceof Jl||r instanceof tu&&o instanceof tu?uo(r.elements,o.elements,Ii):r instanceof eu&&o instanceof eu?Ii(r.Ie,o.Ie):r instanceof uh&&o instanceof uh}(n.transform,t.transform)}class CD{constructor(t,i){this.version=t,this.transformResults=i}}class Di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $c(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class xh{}function TA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new AA(n.key,Di.none()):new hu(n.key,n.data,Di.none());{const i=n.data,r=An.empty();let o=new Ue(tn.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new dr(n.key,r,new In(o.toArray()),Di.none())}}function DD(n,t,i){n instanceof hu?function(o,u,h){const d=o.value.clone(),p=__(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,t,i):n instanceof dr?function(o,u,h){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=__(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(EA(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function jl(n,t,i,r){return n instanceof hu?function(u,h,d,p){if(!$c(u.precondition,h))return d;const g=u.value.clone(),v=T_(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof dr?function(u,h,d,p){if(!$c(u.precondition,h))return d;const g=T_(u.fieldTransforms,p,h),v=h.data;return v.setAll(EA(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,d){return $c(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,t,i)}function VD(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=gA(r.transform,o||null);u!=null&&(i===null&&(i=An.empty()),i.set(r.field,u))}return i||null}function v_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&uo(r,o,(u,h)=>RD(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hu extends xh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends xh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function EA(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function __(n,t,i){const r=new Map;te(n.length===i.length);for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,d=t.data.field(u.field);r.set(u.field,SD(h,d,i[o]))}return r}function T_(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,bD(u,h,t))}return r}class AA extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MD extends xh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&DD(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=jl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=jl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=dA();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=i.has(o.key)?null:d;const p=TA(h,d);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),zt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,(i,r)=>v_(i,r))&&uo(this.baseMutations,t.baseMutations,(i,r)=>v_(i,r))}}class Sp{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){te(t.mutations.length===r.length);let o=function(){return _D}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Sp(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Kt;function ND(n){switch(n){case it.OK:return Ct();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Ct()}}function bA(n){if(n===void 0)return cs("GRPC error has no .code"),it.UNKNOWN;switch(n){case Ve.OK:return it.OK;case Ve.CANCELLED:return it.CANCELLED;case Ve.UNKNOWN:return it.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return it.INTERNAL;case Ve.UNAVAILABLE:return it.UNAVAILABLE;case Ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ve.NOT_FOUND:return it.NOT_FOUND;case Ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ve.ABORTED:return it.ABORTED;case Ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ve.DATA_LOSS:return it.DATA_LOSS;default:return Ct()}}(Kt=Ve||(Ve={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Js([4294967295,4294967295],0);function E_(n){const t=GE().encode(n),i=new kE;return i.update(t),new Uint8Array(i.digest())}function A_(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Js([i,r],0),new Js([o,u],0)]}class wp{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Js.fromNumber(this.Ee)}Ae(t,i,r){let o=t.add(i.multiply(Js.fromNumber(r)));return o.compare(PD)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=E_(t),[r,o]=A_(i);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,o,u);if(!this.Re(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new wp(u,o,i);return r.forEach(d=>h.insert(d)),h}insert(t){if(this.Ee===0)return;const i=E_(t),[r,o]=A_(i);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,o,u);this.Ve(h)}}Ve(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,fu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ih(Vt.min(),o,new de(Ut),hs(),zt())}}class fu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new fu(r,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i,r,o){this.me=t,this.removedTargetIds=i,this.key=r,this.fe=o}}class SA{constructor(t,i){this.targetId=t,this.ge=i}}class wA{constructor(t,i,r=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class b_{constructor(){this.pe=0,this.ye=S_(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=zt(),i=zt(),r=zt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ct()}}),new fu(this.we,this.Se,t,i,r)}Me(){this.be=!1,this.ye=S_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LD{constructor(t){this.ke=t,this.qe=new Map,this.Qe=hs(),this.$e=qc(),this.Ue=qc(),this.Ke=new de(Ut)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const r=this.He(i);switch(t.state){case 0:this.Je(i)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(t.resumeToken));break;default:Ct()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((r,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,r=t.ge.count,o=this.Xe(i);if(o){const u=o.target;if(Mm(u))if(r===0){const h=new bt(u.path);this.ze(i,h,cn.newNoDocument(h,Vt.min()))}else te(r===1);else{const h=this.et(i);if(h!==r){const d=this.tt(t),p=d?this.nt(d,t,h):1;if(p!==0){this.Ye(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,d;try{h=rr(r).toUint8Array()}catch(p){if(p instanceof XE)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new wp(h,o,u)}catch(p){return lo(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(t,i,r){return i.ge.count===r-this.st(t,i.targetId)?0:2}st(t,i){const r=this.ke.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(i,u,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&Mm(d.target)){const p=new bt(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,cn.newNoDocument(p,t))}u.ve&&(i.set(h,u.Fe()),u.Me())}});let r=zt();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(t));const o=new Ih(t,i,this.Ke,this.Qe,r);return this.Qe=hs(),this.$e=qc(),this.Ue=qc(),this.Ke=new de(Ut),o}Ge(t,i){if(!this.Je(t))return;const r=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,r){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new b_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Ue(Ut),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ue(Ut),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new b_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function qc(){return new de(bt.comparator)}function S_(){return new de(bt.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},kD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BD={and:"AND",or:"OR"};class zD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(n,t){return n.useProto3Json||wh(t)?t:{value:t}}function ch(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function jD(n,t){return ch(n,t.toTimestamp())}function Vi(n){return te(!!n),Vt.fromTimestamp(function(i){const r=sr(i);return new Le(r.seconds,r.nanos)}(n))}function Rp(n,t){return Om(n,t).canonicalString()}function Om(n,t){const i=function(o){return new oe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function CA(n){const t=oe.fromString(n);return te(IA(t)),t}function Nm(n,t){return Rp(n.databaseId,t.path)}function em(n,t){const i=CA(t);if(i.get(1)!==n.databaseId.projectId)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new Et(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new bt(VA(i))}function DA(n,t){return Rp(n.databaseId,t)}function qD(n){const t=CA(n);return t.length===4?oe.emptyPath():VA(t)}function Pm(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VA(n){return te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function w_(n,t,i){return{name:Nm(n,t),fields:i.value.mapValue.fields}}function FD(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(te(v===void 0||typeof v=="string"),en.fromBase64String(v||"")):(te(v===void 0||v instanceof Buffer||v instanceof Uint8Array),en.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,d=h&&function(g){const v=g.code===void 0?it.UNKNOWN:bA(g.code);return new Et(v,g.message||"")}(h);i=new wA(r,o,u,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=em(n,r.document.name),u=Vi(r.document.updateTime),h=r.document.createTime?Vi(r.document.createTime):Vt.min(),d=new An({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(o,u,h,d),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Zc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=em(n,r.document),u=r.readTime?Vi(r.readTime):Vt.min(),h=cn.newNoDocument(o,u),d=r.removedTargetIds||[];i=new Zc([],d,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=em(n,r.document),u=r.removedTargetIds||[];i=new Zc([],u,o,null)}else{if(!("filter"in t))return Ct();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new OD(o,u),d=r.targetId;i=new SA(d,h)}}return i}function HD(n,t){let i;if(t instanceof hu)i={update:w_(n,t.key,t.value)};else if(t instanceof AA)i={delete:Nm(n,t.key)};else if(t instanceof dr)i={update:w_(n,t.key,t.data),updateMask:JD(t.fieldMask)};else{if(!(t instanceof MD))return Ct();i={verify:Nm(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const d=h.transform;if(d instanceof uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Jl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof eu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ct()}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:jD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ct()}(n,t.precondition)),i}function GD(n,t){return n&&n.length>0?(te(t!==void 0),n.map(i=>function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Vt.min())&&(h=Vi(u)),new CD(h,o.transformResults||[])}(i,t))):[]}function KD(n,t){return{documents:[DA(n,t.path)]}}function QD(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=DA(n,o);const u=function(g){if(g.length!==0)return xA(Oi.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:to(S.field),direction:$D(S.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const d=Im(n,t.limit);return d!==null&&(i.structuredQuery.limit=d),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:i,parent:o}}function YD(n){let t=qD(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){te(r===1);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const S=MA(E);return S instanceof Oi&&rA(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(S=>function(U){return new lh(eo(U.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(i.orderBy));let d=null;i.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,wh(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(E){const S=!!E.before,V=E.values||[];return new oh(V,S)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const S=!E.before,V=E.values||[];return new oh(V,S)}(i.endAt)),dD(t,o,h,u,d,"F",p,g)}function XD(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function MA(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=eo(i.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(i.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=eo(i.unaryFilter.field);return Pe.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):n.fieldFilter!==void 0?function(i){return Pe.create(eo(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Oi.create(i.compositeFilter.filters.map(r=>MA(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct()}}(i.compositeFilter.op))}(n):Ct()}function $D(n){return UD[n]}function ZD(n){return kD[n]}function WD(n){return BD[n]}function to(n){return{fieldPath:n.canonicalString()}}function eo(n){return tn.fromServerFormat(n.fieldPath)}function xA(n){return n instanceof Pe?function(i){if(i.op==="=="){if(f_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(h_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(h_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:ZD(i.op),value:i.value}}}(n):n instanceof Oi?function(i){const r=i.getFilters().map(o=>xA(o));return r.length===1?r[0]:{compositeFilter:{op:WD(i.op),filters:r}}}(n):Ct()}function JD(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function IA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,i,r,o,u=Vt.min(),h=Vt.min(),d=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.Tt=t}}function e2(n){const t=YD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Tn=new i2}addToCollectionParentIndex(t,i){return this.Tn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(ir.min())}updateCollectionGroup(t,i,r){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class i2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ue(oe.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OA=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(OA,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new fo(0)}static Kn(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",s2=1048576;function D_([n,t],[i,r]){const o=Ut(n,i);return o===0?Ut(t,r):o}class r2{constructor(t){this.Hn=t,this.buffer=new Ue(D_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();D_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class a2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){mt(C_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?mt(C_,"Ignoring IndexedDB error during garbage collection: ",i):await To(i)}await this.er(3e5)})}}class o2{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Sh.ae);const r=new r2(i);return this.tr.forEachTarget(t,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.tr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(R_)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let r,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,d=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Wa()<=Qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function l2(n,t){return new o2(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.changes=new oa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&jl(r.mutation,o,In.empty(),Le.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,zt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=zt()){const o=Zr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=Ol();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Zr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,zt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,d)=>{i.set(h,d)})})}computeViews(t,i,r,o){let u=hs();const h=zl(),d=function(){return zl()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof dr)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),jl(v.mutation,g,v.mutation.getFieldMask(),Le.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>{var E;return d.set(g,new c2(v,(E=h.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,i){const r=zl();let o=new de((h,d)=>h-d),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||In.empty();v=d.applyToLocalView(g,v),r.set(p,v);const E=(o.get(d.batchId)||zt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=dA();v.forEach(S=>{if(!u.has(S)){const V=TA(i.get(S),r.get(S));V!==null&&E.set(S,V),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return bt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mD(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):W.resolve(Zr());let d=Xl,p=u;return h.next(g=>W.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,zt())).next(v=>({batchId:d,changes:fA(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new bt(i)).next(r=>{let o=Ol();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=Ol();return this.indexManager.getCollectionParents(t,u).next(d=>W.forEach(d,p=>{const g=function(E,S){return new Ch(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,S)=>{h=h.insert(E,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,cn.newInvalidDocument(v)))});let d=Ol();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&jl(v.mutation,g,In.empty(),Le.now()),Vh(i,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:e2(o.bundledQuery),readTime:Vi(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.overlays=new de(bt.comparator),this.Rr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Zr();return W.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.Et(t,i,u)}),W.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),W.resolve()}getOverlaysForCollection(t,i,r){const o=Zr(),u=i.length+1,h=new bt(i.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new de((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Zr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Zr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return W.resolve(d)}Et(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new ID(i,r));let u=this.Rr.get(i);u===void 0&&(u=zt(),this.Rr.set(i,u)),this.Rr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.Vr=new Ue(Ge.mr),this.gr=new Ue(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const r=new Ge(t,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.wr(new Ge(t,i))}Sr(t,i){t.forEach(r=>this.removeReference(r,i))}br(t){const i=new bt(new oe([])),r=new Ge(i,t),o=new Ge(i,t+1),u=[];return this.gr.forEachInRange([r,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new bt(new oe([])),r=new Ge(i,t),o=new Ge(i,t+1);let u=zt();return this.gr.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new Ge(t,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return bt.comparator(t.key,i.key)||Ut(t.Cr,i.Cr)}static pr(t,i){return Ut(t.Cr,i.Cr)||bt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ue(Ge.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xD(u,i,r,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return W.resolve(h)}lookupMutationBatch(t,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Nr(r),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?yp:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,o],h=>{const d=this.Or(h.Cr);u.push(d)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ue(Ut);return i.forEach(o=>{const u=new Ge(o,0),h=new Ge(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{r=r.add(d.Cr)})}),W.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;bt.isDocumentKey(u)||(u=u.child(""));const h=new Ge(new bt(u),0);let d=new Ue(Ut);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),W.resolve(this.Br(d))}Br(t){const i=[];return t.forEach(r=>{const o=this.Or(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){te(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return W.forEach(i.mutations,o=>{const u=new Ge(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,i){const r=new Ge(i,0),o=this.Mr.firstAfterOrEqual(r);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.kr=t,this.docs=function(){return new de(bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(t,i){let r=hs();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))}),W.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=hs();const h=i.path,d=new bt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||GC(HC(v),r)<=0||(o.has(v.key)||Vh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Ct()}qr(t,i){return W.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new y2(this)}getSize(t){return W.resolve(this.size)}}class y2 extends u2{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(r)}),W.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.persistence=t,this.Qr=new oa(i=>Tp(i),Ep),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Cp,this.targetCount=0,this.Kr=fo.Un()}forEachTarget(t,i){return this.Qr.forEach((r,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),W.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.zn(i),W.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=i&&r.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const r=this.Qr.get(i)||null;return W.resolve(r)}addMatchingKeys(t,i,r){return this.Ur.yr(i,r),W.resolve()}removeMatchingKeys(t,i,r){this.Ur.Sr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(t,i){const r=this.Ur.vr(i);return W.resolve(r)}containsKey(t,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Sh(0),this.zr=!1,this.zr=!0,this.jr=new m2,this.referenceDelegate=t(this),this.Hr=new v2(this),this.indexManager=new n2,this.remoteDocumentCache=function(o){return new g2(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new t2(i),this.Yr=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new d2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.Wr[t.toKey()];return r||(r=new p2(i,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,r){mt("MemoryPersistence","Starting transaction:",t);const o=new _2(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,i){return W.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,i)))}}class _2 extends QC{constructor(t){super(),this.currentSequenceNumber=t}}class Dp{constructor(t){this.persistence=t,this.ti=new Cp,this.ni=null}static ri(t){return new Dp(t)}get ii(){if(this.ni)return this.ni;throw Ct()}addReference(t,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),W.resolve()}removeReference(t,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,r=>{const o=bt.fromPath(r);return this.si(t,o).next(u=>{u||i.removeEntry(o,Vt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.oi=new oa(r=>$C(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=l2(this,i)}static ri(t,i){return new hh(t,i)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}sr(t){let i=0;return this.rr(t,r=>{i++}).next(()=>i)}rr(t,i){return W.forEach(this.oi,(r,o)=>this.ar(t,r,o).next(u=>u?W.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,i).next(d=>{d||(r++,u.removeEntry(h,Vt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}removeReference(t,i,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Yc(t.data.value)),i}ar(t,i,r){return W.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Hi=r,this.Ji=o}static Yi(t,i){let r=zt(),o=zt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pR()?8:YC(dR())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.rs(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new T2;return this._s(t,i,h).next(d=>{if(u.result=d,this.Xi)return this.us(t,i,h,d.size)})}).next(()=>u.result)}us(t,i,r,o){return r.documentReadCount<this.es?(Wa()<=Qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Wa()<=Qt.DEBUG&&mt("QueryEngine","Query:",Ja(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Wa()<=Qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ci(i))):W.resolve())}rs(t,i){if(g_(i))return W.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=xm(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=zt(...u);return this.ns.getDocuments(t,h).next(d=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.cs(i,d);return this.ls(i,g,h,p.readTime)?this.rs(t,xm(i,null,"F")):this.hs(t,g,i,p)}))})))}ss(t,i,r,o){return g_(i)||o.isEqual(Vt.min())?W.resolve(null):this.ns.getDocuments(t,r).next(u=>{const h=this.cs(i,u);return this.ls(i,h,r,o)?W.resolve(null):(Wa()<=Qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(i)),this.hs(t,h,i,FC(o,Xl)).next(d=>d))})}cs(t,i){let r=new Ue(cA(t));return i.forEach((o,u)=>{Vh(t,u)&&(r=r.add(u))}),r}ls(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,i,r){return Wa()<=Qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ns.getDocumentsMatchingQuery(t,i,ir.min(),r)}hs(t,i,r,o){return this.ns.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",A2=3e8;class b2{constructor(t,i,r,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new de(Ut),this.Is=new oa(u=>Tp(u),Ep),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function S2(n,t,i,r){return new b2(n,t,i,r)}async function PA(n,t){const i=xt(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.As(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],d=[];let p=zt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function w2(n,t){const i=xt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,S=E.keys();let V=W.resolve();return S.forEach(U=>{V=V.next(()=>v.getEntry(p,U)).next(j=>{const k=g.docVersions.get(U);te(k!==null),j.version.compareTo(k)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=zt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function LA(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function R2(n,t){const i=xt(n),r=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const d=[];t.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;d.push(i.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.Hr.addMatchingKeys(u,v.addedDocuments,E)));let V=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(en.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):v.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(v.resumeToken,r)),o=o.insert(E,V),function(j,k,Q){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=A2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,V,v)&&d.push(i.Hr.updateTargetData(u,V))});let p=hs(),g=zt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(C2(u,h,t.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!r.isEqual(Vt.min())){const v=i.Hr.getLastRemoteSnapshotVersion(u).next(E=>i.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));d.push(v)}return W.waitFor(d).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ts=o,u))}function C2(n,t,i){let r=zt(),o=zt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=hs();return i.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Vt.min())?(t.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(d,p)):mt(Mp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function D2(n,t){const i=xt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=yp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function V2(n,t){const i=xt(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Hr.getTargetData(r,t).next(u=>u?(o=u,W.resolve(o)):i.Hr.allocateTargetId(r).next(h=>(o=new $s(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(t,r.targetId)),r})}async function Lm(n,t,i){const r=xt(n),o=r.Ts.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;mt(Mp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ts=r.Ts.remove(t),r.Is.delete(o.target)}function V_(n,t,i){const r=xt(n);let o=Vt.min(),u=zt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=xt(p),S=E.Is.get(v);return S!==void 0?W.resolve(E.Ts.get(S)):E.Hr.getTargetData(g,v)}(r,h,Ci(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(h,t,i?o:Vt.min(),i?u:zt())).next(d=>(M2(r,gD(t),d),{documents:d,gs:u})))}function M2(n,t,i){let r=n.Es.get(t)||Vt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Es.set(t,r)}class M_{constructor(){this.activeTargetIds=AD()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class x2{constructor(){this.ho=new M_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,r){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new M_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class I_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(x_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){mt(x_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Um(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(t,i,r,o,u){const h=Um(),d=this.bo(t,i.toUriEncodedString());mt(nm,`Sending RPC '${t}' ${h}:`,d,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,d,p,r).then(g=>(mt(nm,`Received RPC '${t}' ${h}: `,g),g),g=>{throw lo(nm,`RPC '${t}' ${h} failed with error: `,g,"url: ",d,"request:",r),g})}Co(t,i,r,o,u,h){return this.So(t,i,r,o,u)}Do(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}bo(t,i){const r=O2[t];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class L2 extends N2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,r,o){const u=Um();return new Promise((h,d)=>{const p=new BE;p.setWithCredentials(!0),p.listenOnce(zE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const v=p.getResponseJson();mt(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Qc.TIMEOUT:mt(on,`RPC '${t}' ${u} timed out`),d(new Et(it.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const E=p.getStatus();if(mt(on,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const U=function(k){const Q=k.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Q)>=0?Q:it.UNKNOWN}(V.status);d(new Et(U,V.message))}else d(new Et(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Et(it.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{mt(on,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);mt(on,`RPC '${t}' ${u} sending request:`,o),p.send(i,"POST",g,r,15)})}Wo(t,i,r){const o=Um(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=FE(),d=qE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(on,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);let S=!1,V=!1;const U=new P2({Fo:k=>{V?mt(on,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(mt(on,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),mt(on,`RPC '${t}' stream ${o} sending:`,k),E.send(k))},Mo:()=>E.close()}),j=(k,Q,tt)=>{k.listen(Q,nt=>{try{tt(nt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return j(E,Il.EventType.OPEN,()=>{V||(mt(on,`RPC '${t}' stream ${o} transport opened.`),U.Qo())}),j(E,Il.EventType.CLOSE,()=>{V||(V=!0,mt(on,`RPC '${t}' stream ${o} transport closed`),U.Uo())}),j(E,Il.EventType.ERROR,k=>{V||(V=!0,lo(on,`RPC '${t}' stream ${o} transport errored:`,k),U.Uo(new Et(it.UNAVAILABLE,"The operation could not be completed")))}),j(E,Il.EventType.MESSAGE,k=>{var Q;if(!V){const tt=k.data[0];te(!!tt);const nt=tt,_t=(nt==null?void 0:nt.error)||((Q=nt[0])===null||Q===void 0?void 0:Q.error);if(_t){mt(on,`RPC '${t}' stream ${o} received error:`,_t);const rt=_t.status;let gt=function(C){const x=Ve[C];if(x!==void 0)return bA(x)}(rt),O=_t.message;gt===void 0&&(gt=it.INTERNAL,O="Unknown error status: "+rt+" with message "+_t.message),V=!0,U.Uo(new Et(gt,O)),E.close()}else mt(on,`RPC '${t}' stream ${o} received:`,tt),U.Ko(tt)}}),j(d,jE.STAT_EVENT,k=>{k.stat===wm.PROXY?mt(on,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===wm.NOPROXY&&mt(on,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){return new zD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=i,this.Go=r,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="PersistentStream";class kA{constructor(t,i,r,o,u,h,d,p){this.Ti=t,this.n_=r,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new UA(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===i&&this.V_(r,o)},r=>{t(()=>{const o=new Et(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(t,i){const r=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return mt(O_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(mt(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U2 extends kA{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=FD(this.serializer,t),r=function(u){if(!("targetChange"in u))return Vt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Vt.min():h.readTime?Vi(h.readTime):Vt.min()}(t);return this.listener.p_(i,r)}y_(t){const i={};i.database=Pm(this.serializer),i.addTarget=function(u,h){let d;const p=h.target;if(d=Mm(p)?{documents:KD(u,p)}:{query:QD(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=RA(u,h.resumeToken);const g=Im(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Vt.min())>0){d.readTime=ch(u,h.snapshotVersion.toTimestamp());const g=Im(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const r=XD(this.serializer,t);r&&(i.labels=r),this.I_(i)}w_(t){const i={};i.database=Pm(this.serializer),i.removeTarget=t,this.I_(i)}}class k2 extends kA{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return te(!!t.streamToken),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=GD(t.writeResults,t.commitTime),r=Vi(t.commitTime);return this.listener.v_(r,i)}C_(){const t={};t.database=Pm(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>HD(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{}class z2 extends B2{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(t,Om(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(it.UNKNOWN,u.toString())})}Co(t,i,r,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(t,Om(i,r),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Et(it.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class j2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cs(i),this.N_=!1):mt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class q2{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{r.enqueueAndForget(async()=>{la(this)&&(mt(sa,"Restarting streams for network reachability change."),await async function(p){const g=xt(p);g.W_.add(4),await du(g),g.j_.set("Unknown"),g.W_.delete(4),await Nh(g)}(this))})}),this.j_=new j2(r,o)}}async function Nh(n){if(la(n))for(const t of n.G_)await t(!0)}async function du(n){for(const t of n.G_)await t(!1)}function BA(n,t){const i=xt(n);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Np(i)?Op(i):Ao(i).c_()&&Ip(i,t))}function xp(n,t){const i=xt(n),r=Ao(i);i.K_.delete(t),r.c_()&&zA(i,t),i.K_.size===0&&(r.c_()?r.P_():la(i)&&i.j_.set("Unknown"))}function Ip(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ao(n).y_(t)}function zA(n,t){n.H_.Ne(t),Ao(n).w_(t)}function Op(n){n.H_=new LD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Ao(n).start(),n.j_.B_()}function Np(n){return la(n)&&!Ao(n).u_()&&n.K_.size>0}function la(n){return xt(n).W_.size===0}function jA(n){n.H_=void 0}async function F2(n){n.j_.set("Online")}async function H2(n){n.K_.forEach((t,i)=>{Ip(n,t)})}async function G2(n,t){jA(n),Np(n)?(n.j_.q_(t),Op(n)):n.j_.set("Unknown")}async function K2(n,t,i){if(n.j_.set("Online"),t instanceof wA&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(n,t)}catch(r){mt(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(n,r)}else if(t instanceof Zc?n.H_.We(t):t instanceof SA?n.H_.Ze(t):n.H_.je(t),!i.isEqual(Vt.min()))try{const r=await LA(n.localStore);i.compareTo(r)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),zA(u,p);const E=new $s(v.target,p,g,v.sequenceNumber);Ip(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,i)}catch(r){mt(sa,"Failed to raise snapshot:",r),await fh(n,r)}}async function fh(n,t,i){if(!Eo(t))throw t;n.W_.add(1),await du(n),n.j_.set("Offline"),i||(i=()=>LA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{mt(sa,"Retrying IndexedDB access"),await i(),n.W_.delete(1),await Nh(n)})}function qA(n,t){return t().catch(i=>fh(n,i,t))}async function Ph(n){const t=xt(n),i=or(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:yp;for(;Q2(t);)try{const o=await D2(t.localStore,r);if(o===null){t.U_.length===0&&i.P_();break}r=o.batchId,Y2(t,o)}catch(o){await fh(t,o)}FA(t)&&HA(t)}function Q2(n){return la(n)&&n.U_.length<10}function Y2(n,t){n.U_.push(t);const i=or(n);i.c_()&&i.S_&&i.b_(t.mutations)}function FA(n){return la(n)&&!or(n).u_()&&n.U_.length>0}function HA(n){or(n).start()}async function X2(n){or(n).C_()}async function $2(n){const t=or(n);for(const i of n.U_)t.b_(i.mutations)}async function Z2(n,t,i){const r=n.U_.shift(),o=Sp.from(r,t,i);await qA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ph(n)}async function W2(n,t){t&&or(n).S_&&await async function(r,o){if(function(h){return ND(h)&&h!==it.ABORTED}(o.code)){const u=r.U_.shift();or(r).h_(),await qA(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ph(r)}}(n,t),FA(n)&&HA(n)}async function N_(n,t){const i=xt(n);i.asyncQueue.verifyOperationInProgress(),mt(sa,"RemoteStore received new credentials");const r=la(i);i.W_.add(3),await du(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Nh(i)}async function J2(n,t){const i=xt(n);t?(i.W_.delete(2),await Nh(i)):t||(i.W_.add(2),await du(i),i.j_.set("Unknown"))}function Ao(n){return n.J_||(n.J_=function(i,r,o){const u=xt(i);return u.M_(),new U2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:F2.bind(null,n),No:H2.bind(null,n),Lo:G2.bind(null,n),p_:K2.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),Np(n)?Op(n):n.j_.set("Unknown")):(await n.J_.stop(),jA(n))})),n.J_}function or(n){return n.Y_||(n.Y_=function(i,r,o){const u=xt(i);return u.M_(),new k2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:X2.bind(null,n),Lo:W2.bind(null,n),D_:$2.bind(null,n),v_:Z2.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Ph(n)):(await n.Y_.stop(),n.U_.length>0&&(mt(sa,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,d=new Pp(t,i,h,o,u);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(n,t){if(cs("AsyncQueue",`${t}: ${n}`),Eo(n))return new Et(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||bt.comparator(i.key,r.key):(i,r)=>bt.comparator(i.key,r.key),this.keyedMap=Ol(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new oo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Z_=new de(bt.comparator)}track(t){const i=t.doc.key,r=this.Z_.get(i);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(i):t.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Ct():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,r)=>{t.push(r)}),t}}class mo{constructor(t,i,r,o,u,h,d,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(d=>{h.push({type:0,doc:d})}),new mo(t,i,oo.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class eV{constructor(){this.queries=L_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const o=xt(i),u=o.queries;o.queries=L_(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(r)})})(this,new Et(it.ABORTED,"Firestore shutting down"))}}function L_(){return new oa(n=>uA(n),Dh)}async function nV(n,t){const i=xt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.na()&&t.ra()&&(r=2):(u=new tV,r=t.ra()?0:1);try{switch(r){case 0:u.ea=await i.onListen(o,!0);break;case 1:u.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const d=Lp(h,`Initialization of query '${Ja(t.query)}' failed`);return void t.onError(d)}i.queries.set(o,u),u.ta.push(t),t.sa(i.onlineState),u.ea&&t.oa(u.ea)&&Up(i)}async function iV(n,t){const i=xt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.ta.indexOf(t);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function sV(n,t){const i=xt(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(r=!0);h.ea=o}}r&&Up(i)}function rV(n,t,i){const r=xt(n),o=r.queries.get(t);if(o)for(const u of o.ta)u.onError(i);r.queries.delete(t)}function Up(n){n.ia.forEach(t=>{t.next()})}var km,U_;(U_=km||(km={}))._a="default",U_.Cache="cache";class aV{constructor(t,i,r){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new mo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.key=t}}class KA{constructor(t){this.key=t}}class oV{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=cA(t),this.wa=new oo(this.ya)}get Sa(){return this.fa}ba(t,i){const r=i?i.Da:new P_,o=i?i.wa:this.wa;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const S=o.get(v),V=Vh(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),j=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;S&&V?S.data.isEqual(V.data)?U!==j&&(r.track({type:3,doc:V}),k=!0):this.va(S,V)||(r.track({type:2,doc:V}),k=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(d=!0)):!S&&V?(r.track({type:0,doc:V}),k=!0):S&&!V&&(r.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(V?(h=h.add(V),u=j?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{wa:h,Da:r,ls:d,mutatedKeys:u}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((v,E)=>function(V,U){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return j(V)-j(U)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(r),o=o!=null&&o;const d=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new mo(this.query,t.wa,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new P_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=zt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return t.forEach(r=>{this.pa.has(r)||i.push(new KA(r))}),this.pa.forEach(r=>{t.has(r)||i.push(new GA(r))}),i}Oa(t){this.fa=t.gs,this.pa=zt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const kp="SyncEngine";class lV{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class uV{constructor(t){this.key=t,this.Ba=!1}}class cV{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new oa(d=>uA(d),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new de(bt.comparator),this.Ua=new Map,this.Ka=new Cp,this.Wa={},this.Ga=new Map,this.za=fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hV(n,t,i=!0){const r=WA(n);let o;const u=r.ka.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await QA(r,t,i,!0),o}async function fV(n,t){const i=WA(n);await QA(i,t,!0,!1)}async function QA(n,t,i,r){const o=await V2(n.localStore,Ci(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let d;return r&&(d=await dV(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&BA(n.remoteStore,o),d}async function dV(n,t,i,r,o){n.Ha=(E,S,V)=>async function(j,k,Q,tt){let nt=k.view.ba(Q);nt.ls&&(nt=await V_(j.localStore,k.query,!1).then(({documents:O})=>k.view.ba(O,nt)));const _t=tt&&tt.targetChanges.get(k.targetId),rt=tt&&tt.targetMismatches.get(k.targetId)!=null,gt=k.view.applyChanges(nt,j.isPrimaryClient,_t,rt);return B_(j,k.targetId,gt.Ma),gt.snapshot}(n,E,S,V);const u=await V_(n.localStore,t,!0),h=new oV(t,u.gs),d=h.ba(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(d,n.isPrimaryClient,p);B_(n,i,g.Ma);const v=new lV(t,i,h);return n.ka.set(t,v),n.qa.has(i)?n.qa.get(i).push(t):n.qa.set(i,[t]),g.snapshot}async function mV(n,t,i){const r=xt(n),o=r.ka.get(t),u=r.qa.get(o.targetId);if(u.length>1)return r.qa.set(o.targetId,u.filter(h=>!Dh(h,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&xp(r.remoteStore,o.targetId),Bm(r,o.targetId)}).catch(To)):(Bm(r,o.targetId),await Lm(r.localStore,o.targetId,!0))}async function pV(n,t){const i=xt(n),r=i.ka.get(t),o=i.qa.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),xp(i.remoteStore,r.targetId))}async function gV(n,t,i){const r=bV(n);try{const o=await function(h,d){const p=xt(h),g=Le.now(),v=d.reduce((V,U)=>V.add(U.key),zt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=hs(),j=zt();return p.ds.getEntries(V,v).next(k=>{U=k,U.forEach((Q,tt)=>{tt.isValidDocument()||(j=j.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,U)).next(k=>{E=k;const Q=[];for(const tt of d){const nt=VD(tt,E.get(tt.key).overlayedDocument);nt!=null&&Q.push(new dr(tt.key,nt,nA(nt.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Q,d)}).next(k=>{S=k;const Q=k.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(V,k.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:fA(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new de(Ut)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(r,o.batchId,i),await mu(r,o.changes),await Ph(r.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");i.reject(u)}}async function YA(n,t){const i=xt(n);try{const r=await R2(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i.Ua.get(u);h&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?te(h.Ba):o.removedDocuments.size>0&&(te(h.Ba),h.Ba=!1))}),await mu(i,r,t)}catch(r){await To(r)}}function k_(n,t,i){const r=xt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.ka.forEach((u,h)=>{const d=h.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xt(h);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.ta)S.sa(d)&&(g=!0)}),g&&Up(p)}(r.eventManager,t),o.length&&r.La.p_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yV(n,t,i){const r=xt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Ua.get(t),u=o&&o.key;if(u){let h=new de(bt.comparator);h=h.insert(u,cn.newNoDocument(u,Vt.min()));const d=zt().add(u),p=new Ih(Vt.min(),new Map,new de(Ut),h,d);await YA(r,p),r.$a=r.$a.remove(u),r.Ua.delete(t),Bp(r)}else await Lm(r.localStore,t,!1).then(()=>Bm(r,t,i)).catch(To)}async function vV(n,t){const i=xt(n),r=t.batch.batchId;try{const o=await w2(i.localStore,t);$A(i,r,null),XA(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mu(i,o)}catch(o){await To(o)}}async function _V(n,t,i){const r=xt(n);try{const o=await function(h,d){const p=xt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(te(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(r.localStore,t);$A(r,t,i),XA(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await mu(r,o)}catch(o){await To(o)}}function XA(n,t){(n.Ga.get(t)||[]).forEach(i=>{i.resolve()}),n.Ga.delete(t)}function $A(n,t,i){const r=xt(n);let o=r.Wa[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Wa[r.currentUser.toKey()]=o}}function Bm(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.qa.get(t))n.ka.delete(r),i&&n.La.Ja(r,i);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(r=>{n.Ka.containsKey(r)||ZA(n,r)})}function ZA(n,t){n.Qa.delete(t.path.canonicalString());const i=n.$a.get(t);i!==null&&(xp(n.remoteStore,i),n.$a=n.$a.remove(t),n.Ua.delete(i),Bp(n))}function B_(n,t,i){for(const r of i)r instanceof GA?(n.Ka.addReference(r.key,t),TV(n,r)):r instanceof KA?(mt(kp,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,t),n.Ka.containsKey(r.key)||ZA(n,r.key)):Ct()}function TV(n,t){const i=t.key,r=i.path.canonicalString();n.$a.get(i)||n.Qa.has(r)||(mt(kp,"New document in limbo: "+i),n.Qa.add(r),Bp(n))}function Bp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const i=new bt(oe.fromString(t)),r=n.za.next();n.Ua.set(r,new uV(i)),n.$a=n.$a.insert(i,r),BA(n.remoteStore,new $s(Ci(Ap(i.path)),r,"TargetPurposeLimboResolution",Sh.ae))}}async function mu(n,t,i){const r=xt(n),o=[],u=[],h=[];r.ka.isEmpty()||(r.ka.forEach((d,p)=>{h.push(r.Ha(p,t,i).then(g=>{var v;if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Vp.Yi(p.targetId,g);u.push(E)}}))}),await Promise.all(h),r.La.p_(o),await async function(p,g){const v=xt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>W.forEach(g,S=>W.forEach(S.Hi,V=>v.persistence.referenceDelegate.addReference(E,S.targetId,V)).next(()=>W.forEach(S.Ji,V=>v.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))}catch(E){if(!Eo(E))throw E;mt(Mp,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const V=v.Ts.get(S),U=V.snapshotVersion,j=V.withLastLimboFreeSnapshotVersion(U);v.Ts=v.Ts.insert(S,j)}}}(r.localStore,u))}async function EV(n,t){const i=xt(n);if(!i.currentUser.isEqual(t)){mt(kp,"User change. New user:",t.toKey());const r=await PA(i.localStore,t);i.currentUser=t,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Et(it.CANCELLED,h))})}),u.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await mu(i,r.Rs)}}function AV(n,t){const i=xt(n),r=i.Ua.get(t);if(r&&r.Ba)return zt().add(r.key);{let o=zt();const u=i.qa.get(t);if(!u)return o;for(const h of u){const d=i.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function WA(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yV.bind(null,t),t.La.p_=sV.bind(null,t.eventManager),t.La.Ja=rV.bind(null,t.eventManager),t}function bV(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_V.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Oh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return S2(this.persistence,new E2,t.initialUser,this.serializer)}Xa(t){return new NA(Dp.ri,this.serializer)}Za(t){return new x2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class SV extends dh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){te(this.persistence.referenceDelegate instanceof hh);const r=this.persistence.referenceDelegate.garbageCollector;return new a2(r,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new NA(r=>hh.ri(r,i),this.serializer)}}class zm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EV.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eV}()}createDatastore(t){const i=Oh(t.databaseInfo.databaseId),r=function(u){return new L2(u)}(t.databaseInfo);return function(u,h,d,p){return new z2(u,h,d,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,d){return new q2(r,o,u,h,d)}(this.localStore,this.datastore,t.asyncQueue,i=>k_(this.syncEngine,i,0),function(){return I_.D()?new I_:new I2}())}createSyncEngine(t,i){return function(o,u,h,d,p,g,v){const E=new cV(o,u,h,d,p,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const u=xt(o);mt(sa,"RemoteStore shutting down."),u.W_.add(5),await du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class RV{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{mt(lr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(mt(lr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Lp(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function sm(n,t){n.asyncQueue.verifyOperationInProgress(),mt(lr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await PA(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function z_(n,t){n.asyncQueue.verifyOperationInProgress();const i=await CV(n);mt(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>N_(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>N_(t.remoteStore,o)),n._onlineComponents=t}async function CV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(lr,"Using user provided OfflineComponentProvider");try{await sm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;lo("Error using user provided cache. Falling back to memory cache: "+i),await sm(n,new dh)}}else mt(lr,"Using default OfflineComponentProvider"),await sm(n,new SV(void 0));return n._offlineComponents}async function JA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(lr,"Using user provided OnlineComponentProvider"),await z_(n,n._uninitializedComponentsProvider._online)):(mt(lr,"Using default OnlineComponentProvider"),await z_(n,new zm))),n._onlineComponents}function DV(n){return JA(n).then(t=>t.syncEngine)}async function j_(n){const t=await JA(n),i=t.eventManager;return i.onListen=hV.bind(null,t.syncEngine),i.onUnlisten=mV.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fV.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=pV.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n,t,i){if(!i)throw new Et(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function VV(n,t,i,r){if(t===!0&&r===!0)throw new Et(it.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function F_(n){if(!bt.isDocumentKey(n))throw new Et(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H_(n){if(bt.isDocumentKey(n))throw new Et(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ct()}function tr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Et(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zp(n);throw new Et(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",G_=!0;class K_{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Et(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=G_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:G_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s2)throw new Et(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Et(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Et(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NC;switch(r.type){case"firstParty":return new kC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=q_.get(i);r&&(mt("ComponentProvider","Removing Datastore"),q_.delete(i),r.terminate())}(this),Promise.resolve()}}function MV(n,t,i,r={}){var o;const u=(n=tr(n,Lh))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${i}`;u.host!==nb&&u.host!==d&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:r});if(!Ql(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=un.MOCK_USER;else{g=fR(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Et(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(E)}n._authCredentials=new PC(new HE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Uh(this.firestore,t,this._query)}}class bn{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}}class er extends Uh{constructor(t,i,r){super(t,i,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new bt(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function xV(n,t,...i){if(n=oi(n),eb("collection","path",t),n instanceof Lh){const r=oe.fromString(t,...i);return H_(r),new er(n,null,r)}{if(!(n instanceof bn||n instanceof er))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...i));return H_(r),new er(n.firestore,null,r)}}function Q_(n,t,...i){if(n=oi(n),arguments.length===1&&(t=KE.newId()),eb("doc","path",t),n instanceof Lh){const r=oe.fromString(t,...i);return F_(r),new bn(n,null,new bt(r))}{if(!(n instanceof bn||n instanceof er))throw new Et(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oe.fromString(t,...i));return F_(r),new bn(n.firestore,n instanceof er?n.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="AsyncQueue";class X_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new UA(this,"async_queue_retry"),this.Su=()=>{const r=im();r&&mt(Y_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const i=im();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=im();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ea;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Eo(t))throw t;mt(Y_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(r);throw cs("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(t,i,r){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Pp.createAndSchedule(this,t,i,r,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ct()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function $_(n){return function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class nu extends Lh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new X_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X_(t),this._firestoreClient=void 0,await t}}}function IV(n,t){const i=typeof n=="object"?n:PE(),r=typeof n=="string"?n:rh,o=cu(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=cR("firestore");u&&MV(o,...u)}return o}function ib(n){if(n._terminated)throw new Et(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OV(n),n._firestoreClient}function OV(n){var t,i,r;const o=n._freezeSettings(),u=function(d,p,g,v){return new JC(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,tb(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new RV(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this._byteString=t}static fromBase64String(t){try{return new po(en.fromBase64String(t))}catch(i){throw new Et(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new po(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new Et(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Et(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Et(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=/^__.*__$/;class PV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new hu(t,this.data,i,this.fieldTransforms)}}class sb{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class Fp{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Fp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:r,Qu:!1});return o.$u(t),o}Uu(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return mh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(rb(this.Lu)&&NV.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class LV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Oh(t)}ju(t,i,r,o=!1){return new Fp({Lu:t,methodName:i,zu:r,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(n){const t=n._freezeSettings(),i=Oh(n._databaseId);return new LV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function UV(n,t,i,r,o,u={}){const h=n.ju(u.merge||u.mergeFields?2:0,t,i,o);Gp("Data must be an object, but it was:",h,r);const d=ob(r,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=jm(t,E,i);if(!h.contains(S))throw new Et(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);ub(v,S)||v.push(S)}p=new In(v),g=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=h.fieldTransforms;return new PV(new An(d),p,g)}class zh extends Bh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}class Hp extends Bh{constructor(t,i){super(t),this.Ju=i}_toFieldTransform(t){const i=new eu(t.serializer,pA(t.serializer,this.Ju));return new wD(t.path,i)}isEqual(t){return t instanceof Hp&&this.Ju===t.Ju}}function kV(n,t,i,r){const o=n.ju(1,t,i);Gp("Data must be an object, but it was:",o,r);const u=[],h=An.empty();fr(r,(p,g)=>{const v=Kp(t,p,i);g=oi(g);const E=o.Uu(v);if(g instanceof zh)u.push(v);else{const S=jh(g,E);S!=null&&(u.push(v),h.set(v,S))}});const d=new In(u);return new sb(h,d,o.fieldTransforms)}function BV(n,t,i,r,o,u){const h=n.ju(1,t,i),d=[jm(t,r,i)],p=[o];if(u.length%2!=0)throw new Et(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(jm(t,u[S])),p.push(u[S+1]);const g=[],v=An.empty();for(let S=d.length-1;S>=0;--S)if(!ub(g,d[S])){const V=d[S];let U=p[S];U=oi(U);const j=h.Uu(V);if(U instanceof zh)g.push(V);else{const k=jh(U,j);k!=null&&(g.push(V),v.set(V,k))}}const E=new In(g);return new sb(v,E,h.fieldTransforms)}function jh(n,t){if(lb(n=oi(n)))return Gp("Unsupported field value:",t,n),ob(n,t);if(n instanceof Bh)return function(r,o){if(!rb(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const d of r){let p=jh(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=oi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Le.fromDate(r);return{timestampValue:ch(o.serializer,u)}}if(r instanceof Le){const u=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(r instanceof jp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:RA(o.serializer,r._byteString)};if(r instanceof bn){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof qp)return function(h,d){return{mapValue:{fields:{[tA]:{stringValue:eA},[ah]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return bp(d.serializer,g)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${zp(r)}`)}(n,t)}function ob(n,t){const i={};return YE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(n,(r,o)=>{const u=jh(o,t.qu(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function lb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof jp||n instanceof po||n instanceof bn||n instanceof Bh||n instanceof qp)}function Gp(n,t,i){if(!lb(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const r=zp(i);throw r==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+r)}}function jm(n,t,i){if((t=oi(t))instanceof kh)return t._internalPath;if(typeof t=="string")return Kp(n,t);throw mh("Field path arguments must be of type string or ",n,!1,void 0,i)}const zV=new RegExp("[~\\*/\\[\\]]");function Kp(n,t,i){if(t.search(zV)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new kh(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function mh(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let d=`Function ${t}() called with invalid data`;i&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new Et(it.INVALID_ARGUMENT,d+n+p)}function ub(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jV extends cb{data(){return super.data()}}function hb(n,t){return typeof t=="string"?Kp(n,t):t instanceof kh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Et(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FV{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return fr(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[ah].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(h=>Se(h.doubleValue));return new qp(u)}convertGeoPoint(t){return new jp(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Rh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){const i=sr(t);return new Le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=oe.fromString(t);te(IA(r));const o=new Zl(r.get(1),r.get(3)),u=new bt(r.popFirst(5));return o.isEqual(i)||cs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(n,t,i){let r;return r=n?n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fb extends cb{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(hb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Wc extends fb{data(t={}){return super.data(t)}}class GV{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Et(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:KV(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function KV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}class db extends FV{constructor(t){super(),this.firestore=t}convertBytes(t){return new po(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function QV(n,t,i){n=tr(n,bn);const r=tr(n.firestore,nu),o=HV(n.converter,t);return mb(r,[UV(ab(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Di.none())])}function YV(n,t,i,...r){n=tr(n,bn);const o=tr(n.firestore,nu),u=ab(o);let h;return h=typeof(t=oi(t))=="string"||t instanceof kh?BV(u,"updateDoc",n._key,t,i,r):kV(u,"updateDoc",n._key,t),mb(o,[h.toMutation(n._key,Di.exists(!0))])}function XV(n,...t){var i,r,o;n=oi(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||$_(t[h])||(u=t[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if($_(t[h])){const E=t[h];t[h]=(i=E.next)===null||i===void 0?void 0:i.bind(E),t[h+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),t[h+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let p,g,v;if(n instanceof bn)g=tr(n.firestore,nu),v=Ap(n._key.path),p={next:E=>{t[h]&&t[h]($V(g,n,E))},error:t[h+1],complete:t[h+2]};else{const E=tr(n,Uh);g=tr(E.firestore,nu),v=E._query;const S=new db(g);p={next:V=>{t[h]&&t[h](new GV(g,S,E,V))},error:t[h+1],complete:t[h+2]},qV(n._query)}return function(S,V,U,j){const k=new wV(j),Q=new aV(V,k,U);return S.asyncQueue.enqueueAndForget(async()=>nV(await j_(S),Q)),()=>{k.su(),S.asyncQueue.enqueueAndForget(async()=>iV(await j_(S),Q))}}(ib(g),v,d,p)}function mb(n,t){return function(r,o){const u=new ea;return r.asyncQueue.enqueueAndForget(async()=>gV(await DV(r),o,u)),u.promise}(ib(n),t)}function $V(n,t,i){const r=i.docs.get(t._key),o=new db(n);return new fb(n,o,t._key,r,new Pl(i.hasPendingWrites,i.fromCache),t.converter)}function Ml(n){return new Hp("increment",n)}(function(t,i=!0){(function(o){_o=o})(EC),nr(new ls("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),d=new nu(new LC(r.getProvider("auth-internal")),new BC(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Et(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:i},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ri(J0,t_,t),Ri(J0,t_,"esm2017")})();const pb="@firebase/installations",Qp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1e4,yb=`w:${Qp}`,vb="FIS_v2",ZV="https://firebaseinstallations.googleapis.com/v1",WV=60*60*1e3,JV="installations",tM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new bh(JV,tM,eM);function _b(n){return n instanceof hr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb({projectId:n}){return`${ZV}/projects/${n}/installations`}function Eb(n){return{token:n.token,requestStatus:2,expiresIn:iM(n.expiresIn),creationTime:Date.now()}}async function Ab(n,t){const r=(await t.json()).error;return ra.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function nM(n,{refreshToken:t}){const i=bb(n);return i.append("Authorization",sM(t)),i}async function Sb(n){const t=await n();return t.status>=500&&t.status<600?n():t}function iM(n){return Number(n.replace("s","000"))}function sM(n){return`${vb} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM({appConfig:n,heartbeatServiceProvider:t},{fid:i}){const r=Tb(n),o=bb(n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:vb,appId:n.appId,sdkVersion:yb},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Sb(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:Eb(g.authToken)}}else throw await Ab("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^[cdef][\w-]{21}$/,qm="";function lM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const i=uM(n);return oM.test(i)?i:qm}catch{return qm}}function uM(n){return aM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;function Cb(n,t){const i=qh(n);Db(i,t),cM(i,t)}function Db(n,t){const i=Rb.get(n);if(i)for(const r of i)r(t)}function cM(n,t){const i=hM();i&&i.postMessage({key:n,fid:t}),fM()}let Wr=null;function hM(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=n=>{Db(n.data.key,n.data.fid)}),Wr}function fM(){Rb.size===0&&Wr&&(Wr.close(),Wr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="firebase-installations-database",mM=1,aa="firebase-installations-store";let rm=null;function Yp(){return rm||(rm=OE(dM,mM,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(aa)}}})),rm}async function ph(n,t){const i=qh(n),o=(await Yp()).transaction(aa,"readwrite"),u=o.objectStore(aa),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&Cb(n,t.fid),t}async function Vb(n){const t=qh(n),r=(await Yp()).transaction(aa,"readwrite");await r.objectStore(aa).delete(t),await r.done}async function Fh(n,t){const i=qh(n),o=(await Yp()).transaction(aa,"readwrite"),u=o.objectStore(aa),h=await u.get(i),d=t(h);return d===void 0?await u.delete(i):await u.put(d,i),await o.done,d&&(!h||h.fid!==d.fid)&&Cb(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(n){let t;const i=await Fh(n.appConfig,r=>{const o=pM(r),u=gM(n,o);return t=u.registrationPromise,u.installationEntry});return i.fid===qm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function pM(n){const t=n||{fid:lM(),registrationStatus:0};return Mb(t)}function gM(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ra.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=yM(n,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:vM(n)}:{installationEntry:t}}async function yM(n,t){try{const i=await rM(n,t);return ph(n.appConfig,i)}catch(i){throw _b(i)&&i.customData.serverCode===409?await Vb(n.appConfig):await ph(n.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function vM(n){let t=await Z_(n.appConfig);for(;t.registrationStatus===1;)await wb(100),t=await Z_(n.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Xp(n);return r||i}return t}function Z_(n){return Fh(n,t=>{if(!t)throw ra.create("installation-not-found");return Mb(t)})}function Mb(n){return _M(n)?{fid:n.fid,registrationStatus:0}:n}function _M(n){return n.registrationStatus===1&&n.registrationTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM({appConfig:n,heartbeatServiceProvider:t},i){const r=EM(n,i),o=nM(n,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:yb,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Sb(()=>fetch(r,d));if(p.ok){const g=await p.json();return Eb(g)}else throw await Ab("Generate Auth Token",p)}function EM(n,{fid:t}){return`${Tb(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(n,t=!1){let i;const r=await Fh(n.appConfig,u=>{if(!xb(u))throw ra.create("not-registered");const h=u.authToken;if(!t&&SM(h))return u;if(h.requestStatus===1)return i=AM(n,t),u;{if(!navigator.onLine)throw ra.create("app-offline");const d=RM(u);return i=bM(n,d),d}});return i?await i:r.authToken}async function AM(n,t){let i=await W_(n.appConfig);for(;i.authToken.requestStatus===1;)await wb(100),i=await W_(n.appConfig);const r=i.authToken;return r.requestStatus===0?$p(n,t):r}function W_(n){return Fh(n,t=>{if(!xb(t))throw ra.create("not-registered");const i=t.authToken;return CM(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function bM(n,t){try{const i=await TM(n,t),r=Object.assign(Object.assign({},t),{authToken:i});return await ph(n.appConfig,r),i}catch(i){if(_b(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Vb(n.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ph(n.appConfig,r)}throw i}}function xb(n){return n!==void 0&&n.registrationStatus===2}function SM(n){return n.requestStatus===2&&!wM(n)}function wM(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+WV}function RM(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function CM(n){return n.requestStatus===1&&n.requestTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n){const t=n,{installationEntry:i,registrationPromise:r}=await Xp(t);return r?r.catch(console.error):$p(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(n,t=!1){const i=n;return await MM(i),(await $p(i,t)).token}async function MM(n){const{registrationPromise:t}=await Xp(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(n){if(!n||!n.options)throw am("App Configuration");if(!n.name)throw am("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!n.options[i])throw am(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function am(n){return ra.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="installations",IM="installations-internal",OM=n=>{const t=n.getProvider("app").getImmediate(),i=xM(t),r=cu(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NM=n=>{const t=n.getProvider("app").getImmediate(),i=cu(t,Ib).getImmediate();return{getId:()=>DM(i),getToken:o=>VM(i,o)}};function PM(){nr(new ls(Ib,OM,"PUBLIC")),nr(new ls(IM,NM,"PRIVATE"))}PM();Ri(pb,Qp);Ri(pb,Qp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",LM="firebase_id",UM="origin",kM=60*1e3,BM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new mp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new bh("analytics","Analytics",zM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){if(!n.startsWith(Zp)){const t=On.create("invalid-gtag-resource",{gtagURL:n});return Sn.warn(t.message),""}return n}function Ob(n){return Promise.all(n.map(t=>t.catch(i=>i)))}function qM(n,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(n,t)),i}function FM(n,t){const i=qM("firebase-js-sdk-policy",{createScriptURL:jM}),r=document.createElement("script"),o=`${Zp}?l=${n}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function HM(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function GM(n,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const p=(await Ob(i)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){Sn.error(d)}n("config",o,u)}async function KM(n,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Ob(i);for(const p of h){const g=d.find(E=>E.measurementId===p),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){Sn.error(u)}}function QM(n,t,i,r){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await KM(n,t,i,d,p)}else if(u==="config"){const[d,p]=h;await GM(n,t,i,r,d,p)}else if(u==="consent"){const[d,p]=h;n("consent",d,p)}else if(u==="get"){const[d,p,g]=h;n("get",d,p,g)}else if(u==="set"){const[d]=h;n("set",d)}else n(u,...h)}catch(d){Sn.error(d)}}return o}function YM(n,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=QM(u,n,t,i),{gtagCore:u,wrappedGtag:window[o]}}function XM(n){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Zp)&&i.src.includes(n))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=30,ZM=1e3;class WM{constructor(t={},i=ZM){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Nb=new WM;function JM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tx(n){var t;const{appId:i,apiKey:r}=n,o={method:"GET",headers:JM(r)},u=BM.replace("{app-id}",i),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((t=p.error)===null||t===void 0)&&t.message&&(d=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function ex(n,t=Nb,i){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw On.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw On.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new sx;return setTimeout(async()=>{d.abort()},kM),Pb({appId:r,apiKey:o,measurementId:u},h,d,t)}async function Pb(n,{throttleEndTimeMillis:t,backoffCount:i},r,o=Nb){var u;const{appId:h,measurementId:d}=n;try{await nx(r,t)}catch(p){if(d)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await tx(n);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!ix(g)){if(o.deleteThrottleMetadata(h),d)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?F0(i,o.intervalMillis,$M):F0(i,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(h,E),Sn.debug(`Calling attemptFetch again in ${v} millis`),Pb(n,E,r,o)}}function nx(n,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);n.addEventListener(()=>{clearTimeout(u),r(On.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ix(n){if(!(n instanceof hr)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class sx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rx(n,t,i,r,o){if(o&&o.global){n("event",i,r);return}else{const u=await t,h=Object.assign(Object.assign({},r),{send_to:u});n("event",i,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(){if(fp())try{await dp()}catch(n){return Sn.warn(On.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Sn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ox(n,t,i,r,o,u,h){var d;const p=ex(n);p.then(V=>{i[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Sn.error(V)),t.push(p);const g=ax().then(V=>{if(V)return r.getId()}),[v,E]=await Promise.all([p,g]);XM(u)||FM(u,v.measurementId),o("js",new Date);const S=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return S[UM]="firebase",S.update=!0,E!=null&&(S[LM]=E),o("config",v.measurementId,S),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.app=t}_delete(){return delete ql[this.app.options.appId],Promise.resolve()}}let ql={},J_=[];const tT={};let om="dataLayer",ux="gtag",eT,Lb,nT=!1;function cx(){const n=[];if(VE()&&n.push("This is a browser extension environment."),ME()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=On.create("invalid-analytics-context",{errorInfo:t});Sn.warn(i.message)}}function hx(n,t,i){cx();const r=n.options.appId;if(!r)throw On.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(ql[r]!=null)throw On.create("already-exists",{id:r});if(!nT){HM(om);const{wrappedGtag:u,gtagCore:h}=YM(ql,J_,tT,om,ux);Lb=u,eT=h,nT=!0}return ql[r]=ox(n,J_,tT,t,eT,om,i),new lx(n)}function fx(n=PE()){n=oi(n);const t=cu(n,gh);return t.isInitialized()?t.getImmediate():dx(n)}function dx(n,t={}){const i=cu(n,gh);if(i.isInitialized()){const o=i.getImmediate();if(Ql(t,i.getOptions()))return o;throw On.create("already-initialized")}return i.initialize({options:t})}async function mx(){if(VE()||!ME()||!fp())return!1;try{return await dp()}catch{return!1}}function Ub(n,t,i,r){n=oi(n),rx(Lb,ql[n.app.options.appId],t,i,r).catch(o=>Sn.error(o))}const iT="@firebase/analytics",sT="0.10.12";function px(){nr(new ls(gh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return hx(r,o,i)},"PUBLIC")),nr(new ls("analytics-internal",n,"PRIVATE")),Ri(iT,sT),Ri(iT,sT,"esm2017");function n(t){try{const i=t.getProvider(gh).getImmediate();return{logEvent:(r,o,u)=>Ub(i,r,o,u)}}catch(i){throw On.create("interop-component-reg-failed",{reason:i})}}}px();const kb={apiKey:"AIzaSyBDD29_0DyHGF2J6804sOothQileESrLuA",authDomain:"fragen-katalog.firebaseapp.com",projectId:"fragen-katalog",storageBucket:"fragen-katalog.firebasestorage.app",messagingSenderId:"208859056966",appId:"1:208859056966:web:039f86d0b8722e4395f347",measurementId:"G-STMLG4PCQ1"},Bb=NE(kb),Fm=IV(Bb);let Hm=null;mx().then(n=>{if(n){let i=function(){dataLayer.push(arguments)};var t=i;Hm=fx(Bb),window.dataLayer=window.dataLayer||[],i("js",new Date),i("config",kb.measurementId,{debug_mode:!0}),console.log("📈 Firebase Analytics initialized with debug_mode")}else console.warn("⚠️ Firebase Analytics not supported on this device.")});function rs(n,t={}){Hm?(Ub(Hm,n,t),console.log(`📊 Logged: ${n}`,t)):console.warn(`⚠️ Analytics not initialized – could not log ${n}`)}function gx({onClose:n}){const[t,i]=yt.useState("de"),r=h=>{h.target.classList.contains("about-modal-overlay")&&(rs("modal_closed_without_click",{modal:"about"}),u())},o=h=>{i(h)},u=()=>{rs("about_language_read",{language:t}),n()};return st.jsx("div",{className:"about-modal-overlay",onClick:r,children:st.jsxs("div",{className:"about-modal overflow-y-auto max-h-[90vh] flex flex-col relative pb-[180px]",children:[st.jsxs("div",{className:"w-full flex justify-between items-center px-4 mb-4",children:[st.jsxs("h2",{className:"text-xl font-bold flex items-center gap-4",children:["Über",st.jsxs("span",{className:"flex gap-2",children:[st.jsx("button",{onClick:()=>o("de"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="de"?1:.4},"aria-label":"Deutsch",children:"🇩🇪"}),st.jsx("button",{onClick:()=>o("en"),style:{fontSize:"18px",background:"none",border:"none",cursor:"pointer",opacity:t==="en"?1:.4},"aria-label":"English",children:"🇬🇧"})]})]}),st.jsx("button",{className:"close-button",onClick:u,children:"×"})]}),st.jsx("div",{className:"max-w-prose w-full px-4 text-center",children:t==="de"?st.jsxs(st.Fragment,{children:[st.jsx("p",{className:"text-base mb-3",children:"Ich habe diese Website als Lernhilfe für den Einbürgerungstest „Leben in Deutschland“ erstellt. Die Fragen basieren auf dem offiziellen Fragenkatalog der Bundeszentrale für politische Bildung – inklusive des landesspezifischen Teils für Berlin. Ich übernehme keine Gewähr für Richtigkeit oder Aktualität. Dies ist ein rein privates Nebenprojekt – keine Anmeldung, keine Werbung, keine Verbindung zu staatlichen Stellen."}),st.jsx("p",{className:"text-base mb-3",children:"Diese Website verwendet Google Analytics, um anonyme Nutzungsstatistiken zu erfassen. Es werden keine persönlichen Daten gespeichert oder weitergegeben."})]}):st.jsxs(st.Fragment,{children:[st.jsx("p",{className:"text-base mb-3",children:"I built this website as a personal study tool for the “Leben in Deutschland” naturalization test. The questions are based on the official public catalog — including the state-specific questions for Berlin. Some states have different regional questions. I can’t guarantee accuracy or updates. This is a private side project — no login, no ads, no government affiliation."}),st.jsx("p",{className:"text-base mb-3",children:"This site uses Google Analytics to collect anonymous usage data. No personal data is stored or shared."})]})}),st.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",width:"90%",gap:"70px"},children:[st.jsx("a",{href:"mailto:fragen@fragen-katalog.com",className:"text-base text-center",style:{textDecoration:"underline",color:"var(--color-primary)",fontWeight:500},children:"fragen@fragen-katalog.com"}),st.jsx("button",{onClick:()=>window.open("https://www.buymeacoffee.com/roiesh","_blank"),className:"controls-button",style:{width:"100%",maxWidth:"200px",textAlign:"center"},children:"Buy me a coffee"})]})]})})}const zb=yt.createContext({});function yx(n){const t=yt.useRef(null);return t.current===null&&(t.current=n()),t.current}const Wp=typeof window<"u",vx=Wp?yt.useLayoutEffect:yt.useEffect,Jp=yt.createContext(null),jb=yt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function _x(n=!0){const t=yt.useContext(Jp);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=yt.useId();yt.useEffect(()=>{if(n)return o(u)},[n]);const h=yt.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}function tg(n,t){n.indexOf(t)===-1&&n.push(t)}function eg(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Nn=n=>n;let qb=Nn;const Tx={useManualTiming:!1};function ng(n){let t;return()=>(t===void 0&&(t=n()),t)}const go=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class ig{constructor(){this.subscriptions=[]}add(t){return tg(this.subscriptions,t),()=>eg(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=n=>n*1e3,os=n=>n/1e3;function Fb(n,t){return t?n*(1e3/t):0}const Ex=ng(()=>window.ScrollTimeline!==void 0);class Ax{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,i){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=i}attachTimeline(t,i){const r=this.animations.map(o=>{if(Ex()&&o.attachTimeline)return o.attachTimeline(t);if(typeof i=="function")return i(o)});return()=>{r.forEach((o,u)=>{o&&o(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let i=0;i<this.animations.length;i++)t=Math.max(t,this.animations[i].duration);return t}runAll(t){this.animations.forEach(i=>i[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bx extends Ax{then(t,i){return Promise.all(this.animations).then(t).catch(i)}}function sg(n,t){return n?n[t]||n.default||n:void 0}const Gm=2e4;function Hb(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Gm;)t+=i,r=n.next(t);return t>=Gm?1/0:t}function rg(n){return typeof n=="function"}function rT(n,t){n.timeline=t,n.onfinish=null}const ag=n=>Array.isArray(n)&&typeof n[0]=="number",Sx={linearEasing:void 0};function wx(n,t){const i=ng(n);return()=>{var r;return(r=Sx[t])!==null&&r!==void 0?r:i()}}const yh=wx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gb=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=n(go(0,o-1,u))+", ";return`linear(${r.substring(0,r.length-2)})`};function Kb(n){return!!(typeof n=="function"&&yh()||!n||typeof n=="string"&&(n in Km||yh())||ag(n)||Array.isArray(n)&&n.every(Kb))}const Ll=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,Km={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ll([0,.65,.55,1]),circOut:Ll([.55,0,1,.45]),backIn:Ll([.31,.01,.66,-.59]),backOut:Ll([.33,1.53,.69,.99])};function Qb(n,t){if(n)return typeof n=="function"&&yh()?Gb(n,t):ag(n)?Ll(n):Array.isArray(n)?n.map(i=>Qb(i,t)||Km.easeOut):Km[n]}const Hc=["read","resolveKeyframes","update","preRender","render","postRender"],aT={value:null};function Rx(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){h.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,S=!1,V=!1)=>{const j=V&&o?i:r;return S&&h.add(E),j.has(E)||j.add(E),E},cancel:E=>{r.delete(E),h.delete(E)},process:E=>{if(d=E,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(g),t&&aT.value&&aT.value.frameloop[t].push(p),p=0,i.clear(),o=!1,u&&(u=!1,v.process(E))}};return v}const Cx=40;function Yb(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=Hc.reduce((Q,tt)=>(Q[tt]=Rx(u,t?tt:void 0),Q),{}),{read:d,resolveKeyframes:p,update:g,preRender:v,render:E,postRender:S}=h,V=()=>{const Q=performance.now();i=!1,o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,Cx),1),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(V))},U=()=>{i=!0,r=!0,o.isProcessing||n(V)};return{schedule:Hc.reduce((Q,tt)=>{const nt=h[tt];return Q[tt]=(_t,rt=!1,gt=!1)=>(i||U(),nt.schedule(_t,rt,gt)),Q},{}),cancel:Q=>{for(let tt=0;tt<Hc.length;tt++)h[Hc[tt]].cancel(Q)},state:o,steps:h}}const{schedule:ae,cancel:ur,state:We,steps:lm}=Yb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0),{schedule:og}=Yb(queueMicrotask,!1);let Jc;function Dx(){Jc=void 0}const Mi={now:()=>(Jc===void 0&&Mi.set(We.isProcessing||Tx.useManualTiming?We.timestamp:performance.now()),Jc),set:n=>{Jc=n,queueMicrotask(Dx)}},ai={x:!1,y:!1};function Xb(){return ai.x||ai.y}function Vx(n){return n==="x"||n==="y"?ai[n]?null:(ai[n]=!0,()=>{ai[n]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function Mx(n,t,i){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const u=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return u?Array.from(u):[]}return Array.from(n)}function $b(n,t){const i=Mx(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function oT(n){return!(n.pointerType==="touch"||Xb())}function xx(n,t,i={}){const[r,o,u]=$b(n,i),h=d=>{if(!oT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{oT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(d=>{d.addEventListener("pointerenter",h,o)}),u}function lT(n,t){const i=`${t}PointerCapture`;if(n.target instanceof Element&&i in n.target&&n.pointerId!==void 0)try{n.target[i](n.pointerId)}catch{}}const Zb=(n,t)=>t?n===t?!0:Zb(n,t.parentElement):!1,lg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Ix=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ox(n){return Ix.has(n.tagName)||n.tabIndex!==-1}const Ul=new WeakSet;function uT(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Nx=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=uT(()=>{if(Ul.has(i))return;um(i,"down");const o=uT(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function cT(n){return lg(n)&&!Xb()}function Px(n,t,i={}){const[r,o,u]=$b(n,i),h=d=>{const p=d.currentTarget;if(!p||!cT(d)||Ul.has(p))return;Ul.add(p),lT(d,"set");const g=t(p,d),v=(V,U)=>{p.removeEventListener("pointerup",E),p.removeEventListener("pointercancel",S),lT(V,"release"),!(!cT(V)||!Ul.has(p))&&(Ul.delete(p),typeof g=="function"&&g(V,{success:U}))},E=V=>{(V.isTrusted?Lx(V,p instanceof Element?p.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(V,!1):v(V,!(p instanceof Element)||Zb(p,V.target))},S=V=>{v(V,!1)};p.addEventListener("pointerup",E,o),p.addEventListener("pointercancel",S,o),p.addEventListener("lostpointercapture",S,o)};return r.forEach(d=>{d=i.useGlobalTarget?window:d;let p=!1;d instanceof HTMLElement&&(p=!0,!Ox(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",h,o),p&&d.addEventListener("focus",g=>Nx(g,o),o)}),u}function Lx(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}const hT=30,Ux=n=>!isNaN(parseFloat(n));class kx{constructor(t,i={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const u=Mi.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ux(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new ig);const r=this.events[t].add(i);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t,i=!0){!i||!this.passiveEffect?this.updateAndNotify(t,i):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,hT);return Fb(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iu(n,t){return new kx(n,t)}const Wb=yt.createContext({strict:!1}),fT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yo={};for(const n in fT)yo[n]={isEnabled:t=>fT[n].some(i=>!!t[i])};function Bx(n){for(const t in n)yo[t]={...yo[t],...n[t]}}const zx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zx.has(n)}let Jb=n=>!vh(n);function jx(n){n&&(Jb=t=>t.startsWith("on")?!vh(t):n(t))}try{jx(require("@emotion/is-prop-valid").default)}catch{}function qx(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(Jb(o)||i===!0&&vh(o)||!t&&!vh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function Fx(n){if(typeof Proxy>"u")return n;const t=new Map,i=(...r)=>n(...r);return new Proxy(i,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,n(o)),t.get(o))})}const Hh=yt.createContext({});function Gh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function su(n){return typeof n=="string"||Array.isArray(n)}const ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cg=["initial",...ug];function Kh(n){return Gh(n.animate)||cg.some(t=>su(n[t]))}function tS(n){return!!(Kh(n)||n.variants)}function Hx(n,t){if(Kh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||su(i)?i:void 0,animate:su(r)?r:void 0}}return n.inherit!==!1?t:{}}function Gx(n){const{initial:t,animate:i}=Hx(n,yt.useContext(Hh));return yt.useMemo(()=>({initial:t,animate:i}),[dT(t),dT(i)])}function dT(n){return Array.isArray(n)?n.join(" "):n}const Kx=Symbol.for("motionComponentSymbol");function no(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Qx(n,t,i){return yt.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):no(i)&&(i.current=r))},[t])}const hg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yx="framerAppearId",eS="data-"+hg(Yx),nS=yt.createContext({});function Xx(n,t,i,r,o){var u,h;const{visualElement:d}=yt.useContext(Hh),p=yt.useContext(Wb),g=yt.useContext(Jp),v=yt.useContext(jb).reducedMotion,E=yt.useRef(null);r=r||p.renderer,!E.current&&r&&(E.current=r(n,{visualState:t,parent:d,props:i,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const S=E.current,V=yt.useContext(nS);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&$x(E.current,i,o,V);const U=yt.useRef(!1);yt.useInsertionEffect(()=>{S&&U.current&&S.update(i,g)});const j=i[eS],k=yt.useRef(!!j&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,j))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,j)));return vx(()=>{S&&(U.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),og.render(S.render),k.current&&S.animationState&&S.animationState.animateChanges())}),yt.useEffect(()=>{S&&(!k.current&&S.animationState&&S.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)===null||Q===void 0||Q.call(window,j)}),k.current=!1))}),S}function $x(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:g}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:iS(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||d&&no(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:g})}function iS(n){if(n)return n.options.allowProjection!==!1?n.projection:iS(n.parent)}function Zx({preloadedFeatures:n,createVisualElement:t,useRender:i,useVisualState:r,Component:o}){var u,h;n&&Bx(n);function d(g,v){let E;const S={...yt.useContext(jb),...g,layoutId:Wx(g)},{isStatic:V}=S,U=Gx(g),j=r(g,V);if(!V&&Wp){Jx();const k=tI(S);E=k.MeasureLayout,U.visualElement=Xx(o,j,S,t,k.ProjectionNode)}return st.jsxs(Hh.Provider,{value:U,children:[E&&U.visualElement?st.jsx(E,{visualElement:U.visualElement,...S}):null,i(o,g,Qx(j,U.visualElement,v),j,V,U.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(h=(u=o.displayName)!==null&&u!==void 0?u:o.name)!==null&&h!==void 0?h:""})`}`;const p=yt.forwardRef(d);return p[Kx]=o,p}function Wx({layoutId:n}){const t=yt.useContext(zb).id;return t&&n!==void 0?t+"-"+n:n}function Jx(n,t){yt.useContext(Wb).strict}function tI(n){const{drag:t,layout:i}=yo;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(n)||i!=null&&i.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const sS=n=>t=>typeof t=="string"&&t.startsWith(n),fg=sS("--"),eI=sS("var(--"),dg=n=>eI(n)?nI.test(n.split("/*")[0].trim()):!1,nI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ru={};function iI(n){for(const t in n)ru[t]=n[t],fg(t)&&(ru[t].isCSSVariable=!0)}const bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ua=new Set(bo);function rS(n,{layout:t,layoutId:i}){return ua.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!ru[n]||n==="opacity")}const hn=n=>!!(n&&n.getVelocity),aS=(n,t)=>t&&typeof n=="number"?t.transform(n):n,fs=(n,t,i)=>i>t?t:i<n?n:i,So={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},au={...So,transform:n=>fs(0,1,n)},Gc={...So,default:1},pu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Xs=pu("deg"),xi=pu("%"),wt=pu("px"),sI=pu("vh"),rI=pu("vw"),mT={...xi,parse:n=>xi.parse(n)/100,transform:n=>xi.transform(n*100)},aI={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt},oI={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:Gc,scaleX:Gc,scaleY:Gc,scaleZ:Gc,skew:Xs,skewX:Xs,skewY:Xs,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:au,originX:mT,originY:mT,originZ:wt},pT={...So,transform:Math.round},mg={...aI,...oI,zIndex:pT,size:wt,fillOpacity:au,strokeOpacity:au,numOctaves:pT},lI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uI=bo.length;function cI(n,t,i){let r="",o=!0;for(let u=0;u<uI;u++){const h=bo[u],d=n[h];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(h.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||i){const g=aS(d,mg[h]);if(!p){o=!1;const v=lI[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function pg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,d=!1;for(const p in t){const g=t[p];if(ua.has(p)){h=!0;continue}else if(fg(p)){o[p]=g;continue}else{const v=aS(g,mg[p]);p.startsWith("origin")?(d=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=cI(t,n.transform,i):r.transform&&(r.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const gg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oS(n,t,i){for(const r in t)!hn(t[r])&&!rS(r,i)&&(n[r]=t[r])}function hI({transformTemplate:n},t){return yt.useMemo(()=>{const i=gg();return pg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function fI(n,t){const i=n.style||{},r={};return oS(r,i,n),Object.assign(r,hI(n,t)),r}function dI(n,t){const i={},r=fI(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const mI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(n){return typeof n!="string"||n.includes("-")?!1:!!(mI.indexOf(n)>-1||/[A-Z]/u.test(n))}const pI={offset:"stroke-dashoffset",array:"stroke-dasharray"},gI={offset:"strokeDashoffset",array:"strokeDasharray"};function yI(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?pI:gI;n[u.offset]=wt.transform(-r);const h=wt.transform(t),d=wt.transform(i);n[u.array]=`${h} ${d}`}function gT(n,t,i){return typeof n=="string"?n:wt.transform(t+i*n)}function vI(n,t,i){const r=gT(t,n.x,n.width),o=gT(i,n.y,n.height);return`${r} ${o}`}function vg(n,{attrX:t,attrY:i,attrScale:r,originX:o,originY:u,pathLength:h,pathSpacing:d=1,pathOffset:p=0,...g},v,E){if(pg(n,g,E),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:V,dimensions:U}=n;S.transform&&(U&&(V.transform=S.transform),delete S.transform),U&&(o!==void 0||u!==void 0||V.transform)&&(V.transformOrigin=vI(U,o!==void 0?o:.5,u!==void 0?u:.5)),t!==void 0&&(S.x=t),i!==void 0&&(S.y=i),r!==void 0&&(S.scale=r),h!==void 0&&yI(S,h,d,p,!1)}const lS=()=>({...gg(),attrs:{}}),_g=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _I(n,t,i,r){const o=yt.useMemo(()=>{const u=lS();return vg(u,t,_g(r),n.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};oS(u,n.style,n),o.style={...u,...o.style}}return o}function TI(n=!1){return(i,r,o,{latestValues:u},h)=>{const p=(yg(i)?_I:dI)(r,u,h,i),g=qx(r,typeof i=="string",n),v=i!==yt.Fragment?{...g,...p,ref:o}:{},{children:E}=r,S=yt.useMemo(()=>hn(E)?E.get():E,[E]);return yt.createElement(i,{...v,children:S})}}function yT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Tg(n,t,i,r){if(typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}const Qm=n=>Array.isArray(n),EI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),AI=n=>Qm(n)?n[n.length-1]||0:n;function th(n){const t=hn(n)?n.get():n;return EI(t)?t.toValue():t}function bI({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:i},r,o,u){const h={latestValues:SI(r,o,u,n),renderState:t()};return i&&(h.onMount=d=>i({props:r,current:d,...h}),h.onUpdate=d=>i(d)),h}const uS=n=>(t,i)=>{const r=yt.useContext(Hh),o=yt.useContext(Jp),u=()=>bI(n,t,r,o);return i?u():yx(u)};function SI(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=th(u[S]);let{initial:h,animate:d}=n;const p=Kh(n),g=tS(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),d===void 0&&(d=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?d:h;if(E&&typeof E!="boolean"&&!Gh(E)){const S=Array.isArray(E)?E:[E];for(let V=0;V<S.length;V++){const U=Tg(n,S[V]);if(U){const{transitionEnd:j,transition:k,...Q}=U;for(const tt in Q){let nt=Q[tt];if(Array.isArray(nt)){const _t=v?nt.length-1:0;nt=nt[_t]}nt!==null&&(o[tt]=nt)}for(const tt in j)o[tt]=j[tt]}}}return o}function Eg(n,t,i){var r;const{style:o}=n,u={};for(const h in o)(hn(o[h])||t.style&&hn(t.style[h])||rS(h,n)||((r=i==null?void 0:i.getValue(h))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(u[h]=o[h]);return u}const wI={useVisualState:uS({scrapeMotionValuesFromProps:Eg,createRenderState:gg})};function cS(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function hS(n,{style:t,vars:i},r,o){Object.assign(n.style,t,o&&o.getProjectionStyles(r));for(const u in i)n.style.setProperty(u,i[u])}const fS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dS(n,t,i,r){hS(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(fS.has(o)?o:hg(o),t.attrs[o])}function mS(n,t,i){const r=Eg(n,t,i);for(const o in n)if(hn(n[o])||hn(t[o])){const u=bo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const vT=["x","y","width","height","cx","cy","r"],RI={useVisualState:uS({scrapeMotionValuesFromProps:mS,createRenderState:lS,onUpdate:({props:n,prevProps:t,current:i,renderState:r,latestValues:o})=>{if(!i)return;let u=!!n.drag;if(!u){for(const d in o)if(ua.has(d)){u=!0;break}}if(!u)return;let h=!t;if(t)for(let d=0;d<vT.length;d++){const p=vT[d];n[p]!==t[p]&&(h=!0)}h&&ae.read(()=>{cS(i,r),ae.render(()=>{vg(r,o,_g(i.tagName),n.transformTemplate),dS(i,r)})})}})};function CI(n,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const h={...yg(r)?RI:wI,preloadedFeatures:n,useRender:TI(o),createVisualElement:t,Component:r};return Zx(h)}}function ou(n,t,i){const r=n.getProps();return Tg(r,t,i!==void 0?i:r.custom,n)}const pS=new Set(["width","height","top","left","right","bottom",...bo]);function DI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,iu(i))}function VI(n,t){const i=ou(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const d=AI(u[h]);DI(n,h,d)}}function MI(n){return!!(hn(n)&&n.add)}function Ym(n,t){const i=n.getValue("willChange");if(MI(i))return i.add(t)}function gS(n){return n.props[eS]}const yS=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,xI=1e-7,II=12;function OI(n,t,i,r,o){let u,h,d=0;do h=t+(i-t)/2,u=yS(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>xI&&++d<II);return h}function gu(n,t,i,r){if(n===t&&i===r)return Nn;const o=u=>OI(u,0,1,n,i);return u=>u===0||u===1?u:yS(o(u),t,r)}const vS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,_S=n=>t=>1-n(1-t),TS=gu(.33,1.53,.69,.99),Ag=_S(TS),ES=vS(Ag),AS=n=>(n*=2)<1?.5*Ag(n):.5*(2-Math.pow(2,-10*(n-1))),bg=n=>1-Math.sin(Math.acos(n)),bS=_S(bg),SS=vS(bg),wS=n=>/^0[^.\s]+$/u.test(n);function NI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||wS(n):!0}const Fl=n=>Math.round(n*1e5)/1e5,Sg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PI(n){return n==null}const LI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wg=(n,t)=>i=>!!(typeof i=="string"&&LI.test(i)&&i.startsWith(n)||t&&!PI(i)&&Object.prototype.hasOwnProperty.call(i,t)),RS=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,d]=r.match(Sg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},UI=n=>fs(0,255,n),cm={...So,transform:n=>Math.round(UI(n))},Jr={test:wg("rgb","red"),parse:RS("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+cm.transform(n)+", "+cm.transform(t)+", "+cm.transform(i)+", "+Fl(au.transform(r))+")"};function kI(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Xm={test:wg("#"),parse:kI,transform:Jr.transform},io={test:wg("hsl","hue"),parse:RS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+xi.transform(Fl(t))+", "+xi.transform(Fl(i))+", "+Fl(au.transform(r))+")"},ln={test:n=>Jr.test(n)||Xm.test(n)||io.test(n),parse:n=>Jr.test(n)?Jr.parse(n):io.test(n)?io.parse(n):Xm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Jr.transform(n):io.transform(n)},BI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zI(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Sg))===null||t===void 0?void 0:t.length)||0)+(((i=n.match(BI))===null||i===void 0?void 0:i.length)||0)>0}const CS="number",DS="color",jI="var",qI="var(",_T="${}",FI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(FI,p=>(ln.test(p)?(r.color.push(u),o.push(DS),i.push(ln.parse(p))):p.startsWith(qI)?(r.var.push(u),o.push(jI),i.push(p)):(r.number.push(u),o.push(CS),i.push(parseFloat(p))),++u,_T)).split(_T);return{values:i,split:d,indexes:r,types:o}}function VS(n){return lu(n).values}function MS(n){const{split:t,types:i}=lu(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const d=i[h];d===CS?u+=Fl(o[h]):d===DS?u+=ln.transform(o[h]):u+=o[h]}return u}}const HI=n=>typeof n=="number"?0:n;function GI(n){const t=VS(n);return MS(n)(t.map(HI))}const cr={test:zI,parse:VS,createTransformer:MS,getAnimatableNone:GI},KI=new Set(["brightness","contrast","saturate","opacity"]);function QI(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Sg)||[];if(!r)return n;const o=i.replace(r,"");let u=KI.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const YI=/\b([a-z-]*)\(.*?\)/gu,$m={...cr,getAnimatableNone:n=>{const t=n.match(YI);return t?t.map(QI).join(" "):n}},XI={...mg,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:$m,WebkitFilter:$m},xS=n=>XI[n];function IS(n,t){let i=xS(n);return i!==$m&&(i=cr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const $I=new Set(["auto","none","0"]);function ZI(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!$I.has(u)&&lu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=IS(i,o)}const ta=n=>n*180/Math.PI,Zm=n=>{const t=ta(Math.atan2(n[1],n[0]));return Wm(t)},WI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Zm,rotateZ:Zm,skewX:n=>ta(Math.atan(n[1])),skewY:n=>ta(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Wm=n=>(n=n%360,n<0&&(n+=360),n),TT=Zm,ET=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),AT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ET,scaleY:AT,scale:n=>(ET(n)+AT(n))/2,rotateX:n=>Wm(ta(Math.atan2(n[6],n[5]))),rotateY:n=>Wm(ta(Math.atan2(-n[2],n[0]))),rotateZ:TT,rotate:TT,skewX:n=>ta(Math.atan(n[4])),skewY:n=>ta(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function bT(n){return n.includes("scale")?1:0}function Jm(n,t){if(!n||n==="none")return bT(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=JI,o=i;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=WI,o=d}if(!o)return bT(t);const u=r[t],h=o[1].split(",").map(eO);return typeof u=="function"?u(h):h[u]}const tO=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Jm(i,t)};function eO(n){return parseFloat(n.trim())}const ST=n=>n===So||n===wt,nO=new Set(["x","y","z"]),iO=bo.filter(n=>!nO.has(n));function sO(n){const t=[];return iO.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const vo={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Jm(t,"x"),y:(n,{transform:t})=>Jm(t,"y")};vo.translateX=vo.x;vo.translateY=vo.y;const na=new Set;let tp=!1,ep=!1;function OS(){if(ep){const n=Array.from(na).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=sO(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{var d;(d=r.getValue(u))===null||d===void 0||d.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ep=!1,tp=!1,na.forEach(n=>n.complete()),na.clear()}function NS(){na.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ep=!0)})}function rO(){NS(),OS()}class Rg{constructor(t,i,r,o,u,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(na.add(this),tp||(tp=!0,ae.read(NS),ae.resolveKeyframes(OS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const h=o==null?void 0:o.get(),d=t[t.length-1];if(h!==void 0)t[0]=h;else if(r&&i){const p=r.readValue(i,d);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=d),o&&h===void 0&&o.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),na.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,na.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),aO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oO(n){const t=aO.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function LS(n,t,i=1){const[r,o]=oO(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return PS(h)?parseFloat(h):h}return dg(o)?LS(o,t,i+1):o}const US=n=>t=>t.test(n),lO={test:n=>n==="auto",parse:n=>n},kS=[So,wt,xi,Xs,rI,sI,lO],wT=n=>kS.find(US(n));class BS extends Rg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),dg(g))){const v=LS(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!pS.has(r)||t.length!==2)return;const[o,u]=t,h=wT(o),d=wT(u);if(h!==d)if(ST(h)&&ST(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)NI(t[o])&&r.push(o);r.length&&ZI(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:i,name:r,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const u=i.getValue(r);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,d=o[h];o[h]=vo[r](i.measureViewportBox(),window.getComputedStyle(i.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([p,g])=>{i.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const RT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(cr.test(n)||n==="0")&&!n.startsWith("url("));function uO(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function cO(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=RT(o,t),d=RT(u,t);return!h||!d?!1:uO(n)||(i==="spring"||rg(i))&&r}const hO=n=>n!==null;function Qh(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(hO),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const fO=40;class zS{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mi.now(),this.options={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rO(),this._resolved}onKeyframesResolved(t,i){this.resolvedAt=Mi.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:u,delay:h,onComplete:d,onUpdate:p,isGenerator:g}=this.options;if(!g&&!cO(t,r,o,u))if(h)this.options.duration=0;else{p&&p(Qh(t,this.options,i)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,i);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:i,...v},this.onPostResolved())}onPostResolved(){}then(t,i){return this.currentFinishedPromise.then(t,i)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fe=(n,t,i)=>n+(t-n)*i;function hm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function dO({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const d=i<.5?i*(1+t):i+t-i*t,p=2*i-d;o=hm(p,d,n+1/3),u=hm(p,d,n),h=hm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function _h(n,t){return i=>i>0?t:n}const fm=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},mO=[Xm,Jr,io],pO=n=>mO.find(t=>t.test(n));function CT(n){const t=pO(n);if(!t)return!1;let i=t.parse(n);return t===io&&(i=dO(i)),i}const DT=(n,t)=>{const i=CT(n),r=CT(t);if(!i||!r)return _h(n,t);const o={...i};return u=>(o.red=fm(i.red,r.red,u),o.green=fm(i.green,r.green,u),o.blue=fm(i.blue,r.blue,u),o.alpha=fe(i.alpha,r.alpha,u),Jr.transform(o))},gO=(n,t)=>i=>t(n(i)),yu=(...n)=>n.reduce(gO),np=new Set(["none","hidden"]);function yO(n,t){return np.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function vO(n,t){return i=>fe(n,t,i)}function Cg(n){return typeof n=="number"?vO:typeof n=="string"?dg(n)?_h:ln.test(n)?DT:EO:Array.isArray(n)?jS:typeof n=="object"?ln.test(n)?DT:_O:_h}function jS(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>Cg(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function _O(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Cg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function TO(n,t){var i;const r=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const h=t.types[u],d=n.indexes[h][o[h]],p=(i=n.values[d])!==null&&i!==void 0?i:0;r[u]=p,o[h]++}return r}const EO=(n,t)=>{const i=cr.createTransformer(t),r=lu(n),o=lu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?np.has(n)&&!o.values.length||np.has(t)&&!r.values.length?yO(n,t):yu(jS(TO(r,o),o.values),i):_h(n,t)};function qS(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?fe(n,t,i):Cg(n)(n,t)}const AO=5;function FS(n,t,i){const r=Math.max(t-AO,0);return Fb(i-n(r),t-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VT=.001;function bO({duration:n=_e.duration,bounce:t=_e.bounce,velocity:i=_e.velocity,mass:r=_e.mass}){let o,u,h=1-t;h=fs(_e.minDamping,_e.maxDamping,h),n=fs(_e.minDuration,_e.maxDuration,os(n)),h<1?(o=g=>{const v=g*h,E=v*n,S=v-i,V=ip(g,h),U=Math.exp(-E);return VT-S/V*U},u=g=>{const E=g*h*n,S=E*i+i,V=Math.pow(h,2)*Math.pow(g,2)*n,U=Math.exp(-E),j=ip(Math.pow(g,2),h);return(-o(g)+VT>0?-1:1)*((S-V)*U)/j}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const d=5/n,p=wO(o,u,d);if(n=as(n),isNaN(p))return{stiffness:_e.stiffness,damping:_e.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const SO=12;function wO(n,t,i){let r=i;for(let o=1;o<SO;o++)r=r-n(r)/t(r);return r}function ip(n,t){return n*Math.sqrt(1-t*t)}const RO=["duration","bounce"],CO=["stiffness","damping","mass"];function MT(n,t){return t.some(i=>n[i]!==void 0)}function DO(n){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...n};if(!MT(n,CO)&&MT(n,RO))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*fs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:_e.mass,stiffness:o,damping:u}}else{const i=bO(n);t={...t,...i,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function HS(n=_e.visualDuration,t=_e.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:V}=DO({...i,velocity:-os(i.velocity||0)}),U=S||0,j=g/(2*Math.sqrt(p*v)),k=h-u,Q=os(Math.sqrt(p/v)),tt=Math.abs(k)<5;r||(r=tt?_e.restSpeed.granular:_e.restSpeed.default),o||(o=tt?_e.restDelta.granular:_e.restDelta.default);let nt;if(j<1){const rt=ip(Q,j);nt=gt=>{const O=Math.exp(-j*Q*gt);return h-O*((U+j*Q*k)/rt*Math.sin(rt*gt)+k*Math.cos(rt*gt))}}else if(j===1)nt=rt=>h-Math.exp(-Q*rt)*(k+(U+Q*k)*rt);else{const rt=Q*Math.sqrt(j*j-1);nt=gt=>{const O=Math.exp(-j*Q*gt),R=Math.min(rt*gt,300);return h-O*((U+j*Q*k)*Math.sinh(R)+rt*k*Math.cosh(R))/rt}}const _t={calculatedDuration:V&&E||null,next:rt=>{const gt=nt(rt);if(V)d.done=rt>=E;else{let O=0;j<1&&(O=rt===0?as(U):FS(nt,rt,gt));const R=Math.abs(O)<=r,C=Math.abs(h-gt)<=o;d.done=R&&C}return d.value=d.done?h:gt,d},toString:()=>{const rt=Math.min(Hb(_t),Gm),gt=Gb(O=>_t.next(rt*O).value,rt,30);return rt+"ms "+gt}};return _t}function xT({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},V=R=>d!==void 0&&R<d||p!==void 0&&R>p,U=R=>d===void 0?p:p===void 0||Math.abs(d-R)<Math.abs(p-R)?d:p;let j=i*t;const k=E+j,Q=h===void 0?k:h(k);Q!==k&&(j=Q-E);const tt=R=>-j*Math.exp(-R/r),nt=R=>Q+tt(R),_t=R=>{const C=tt(R),x=nt(R);S.done=Math.abs(C)<=g,S.value=S.done?Q:x};let rt,gt;const O=R=>{V(S.value)&&(rt=R,gt=HS({keyframes:[S.value,U(S.value)],velocity:FS(nt,R,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return O(0),{calculatedDuration:null,next:R=>{let C=!1;return!gt&&rt===void 0&&(C=!0,_t(R),O(R)),rt!==void 0&&R>=rt?gt.next(R-rt):(!C&&_t(R),S)}}}const VO=gu(.42,0,1,1),MO=gu(0,0,.58,1),GS=gu(.42,0,.58,1),xO=n=>Array.isArray(n)&&typeof n[0]!="number",IO={linear:Nn,easeIn:VO,easeInOut:GS,easeOut:MO,circIn:bg,circInOut:SS,circOut:bS,backIn:Ag,backInOut:ES,backOut:TS,anticipate:AS},IT=n=>{if(ag(n)){qb(n.length===4);const[t,i,r,o]=n;return gu(t,i,r,o)}else if(typeof n=="string")return IO[n];return n};function OO(n,t,i){const r=[],o=i||qS,u=n.length-1;for(let h=0;h<u;h++){let d=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||Nn:t;d=yu(p,d)}r.push(d)}return r}function NO(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(qb(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=OO(t,r,o),p=d.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=go(n[E],n[E+1],v);return d[E](S)};return i?v=>g(fs(n[0],n[u-1],v)):g}function PO(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=go(0,t,r);n.push(fe(i,1,o))}}function LO(n){const t=[0];return PO(t,n.length-1),t}function UO(n,t){return n.map(i=>i*t)}function kO(n,t){return n.map(()=>t||GS).splice(0,n.length-1)}function Th({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=xO(r)?r.map(IT):IT(r),u={done:!1,value:t[0]},h=UO(i&&i.length===t.length?i:LO(t),n),d=NO(h,t,{ease:Array.isArray(o)?o:kO(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const BO=n=>{const t=({timestamp:i})=>n(i);return{start:()=>ae.update(t,!0),stop:()=>ur(t),now:()=>We.isProcessing?We.timestamp:Mi.now()}},zO={decay:xT,inertia:xT,tween:Th,keyframes:Th,spring:HS},jO=n=>n/100;class Dg extends zS{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:i,motionValue:r,element:o,keyframes:u}=this.options,h=(o==null?void 0:o.KeyframeResolver)||Rg,d=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new h(u,d,i,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=this.options,d=rg(i)?i:zO[i]||Th;let p,g;d!==Th&&typeof t[0]!="number"&&(p=yu(jO,qS(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});u==="mirror"&&(g=d({...this.options,keyframes:[...t].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=Hb(v));const{calculatedDuration:E}=v,S=E+o,V=S*(r+1)-o;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:E,resolvedDuration:S,totalDuration:V}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,i=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:o,generator:u,mirroredGenerator:h,mapPercentToKeyframes:d,keyframes:p,calculatedDuration:g,totalDuration:v,resolvedDuration:E}=r;if(this.startTime===null)return u.next(0);const{delay:S,repeat:V,repeatType:U,repeatDelay:j,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),i?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const Q=this.currentTime-S*(this.speed>=0?1:-1),tt=this.speed>=0?Q<0:Q>v;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let nt=this.currentTime,_t=u;if(V){const R=Math.min(this.currentTime,v)/E;let C=Math.floor(R),x=R%1;!x&&R>=1&&(x=1),x===1&&C--,C=Math.min(C,V+1),!!(C%2)&&(U==="reverse"?(x=1-x,j&&(x-=j/E)):U==="mirror"&&(_t=h)),nt=fs(0,1,x)*E}const rt=tt?{done:!1,value:p[0]}:_t.next(nt);d&&(rt.value=d(rt.value));let{done:gt}=rt;!tt&&g!==null&&(gt=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&gt);return O&&o!==void 0&&(rt.value=Qh(p,this.options,o)),k&&k(rt.value),O&&this.finish(),rt}get duration(){const{resolved:t}=this;return t?os(t.calculatedDuration):0}get time(){return os(this.currentTime)}set time(t){t=as(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=os(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BO,onPlay:i,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),i&&i();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qO=new Set(["opacity","clipPath","filter","transform"]);function FO(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:d="easeInOut",times:p}={}){const g={[t]:i};p&&(g.offset=p);const v=Qb(d,o);return Array.isArray(v)&&(g.easing=v),n.animate(g,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"})}const HO=ng(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eh=10,GO=2e4;function KO(n){return rg(n.type)||n.type==="spring"||!Kb(n.ease)}function QO(n,t){const i=new Dg({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let u=0;for(;!r.done&&u<GO;)r=i.sample(u),o.push(r.value),u+=Eh;return{times:void 0,keyframes:o,duration:u-Eh,ease:"linear"}}const KS={anticipate:AS,backInOut:ES,circInOut:SS};function YO(n){return n in KS}class OT extends zS{constructor(t){super(t);const{name:i,motionValue:r,element:o,keyframes:u}=this.options;this.resolver=new BS(u,(h,d)=>this.onKeyframesResolved(h,d),i,r,o),this.resolver.scheduleResolve()}initPlayback(t,i){let{duration:r=300,times:o,ease:u,type:h,motionValue:d,name:p,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&yh()&&YO(u)&&(u=KS[u]),KO(this.options)){const{onComplete:E,onUpdate:S,motionValue:V,element:U,...j}=this.options,k=QO(t,j);t=k.keyframes,t.length===1&&(t[1]=t[0]),r=k.duration,o=k.times,u=k.ease,h="keyframes"}const v=FO(d.owner.current,p,t,{...this.options,duration:r,times:o,ease:u});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(rT(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;d.set(Qh(t,this.options,i)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:h,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:i}=t;return os(i)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:i}=t;return os(i.currentTime||0)}set time(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.currentTime=as(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:i}=t;return i.playbackRate}set speed(t){const{resolved:i}=this;if(!i)return;const{animation:r}=i;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:i}=t;return i.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:i}=t;return i.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:i}=this;if(!i)return Nn;const{animation:r}=i;rT(r,t)}return Nn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:i,keyframes:r,duration:o,type:u,ease:h,times:d}=t;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:E,element:S,...V}=this.options,U=new Dg({...V,keyframes:r,duration:o,type:u,ease:h,times:d,isGenerator:!0}),j=as(this.time);g.setWithVelocity(U.sample(j-Eh).value,U.sample(j).value,Eh)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:i,name:r,repeatDelay:o,repeatType:u,damping:h,type:d}=t;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=i.owner.getProps();return HO()&&r&&qO.has(r)&&!p&&!g&&!o&&u!=="mirror"&&h!==0&&d!=="inertia"}}const XO={type:"spring",stiffness:500,damping:25,restSpeed:10},$O=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),ZO={type:"keyframes",duration:.8},WO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JO=(n,{keyframes:t})=>t.length>2?ZO:ua.has(n)?n.startsWith("scale")?$O(t[1]):XO:WO;function tN({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Vg=(n,t,i,r={},o,u)=>h=>{const d=sg(r,n)||{},p=d.delay||r.delay||0;let{elapsed:g=0}=r;g=g-as(p);let v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};tN(d)||(v={...v,...JO(n,v)}),v.duration&&(v.duration=as(v.duration)),v.repeatDelay&&(v.repeatDelay=as(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=Qh(v.keyframes,d);if(S!==void 0)return ae.update(()=>{v.onUpdate(S),v.onComplete()}),new bx([])}return!u&&OT.supports(v)?new OT(v):new Dg(v)};function eN({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function QS(n,t,{delay:i=0,transitionOverride:r,type:o}={}){var u;let{transition:h=n.getDefaultTransition(),transitionEnd:d,...p}=t;r&&(h=r);const g=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const E in p){const S=n.getValue(E,(u=n.latestValues[E])!==null&&u!==void 0?u:null),V=p[E];if(V===void 0||v&&eN(v,E))continue;const U={delay:i,...sg(h||{},E)};let j=!1;if(window.MotionHandoffAnimation){const Q=gS(n);if(Q){const tt=window.MotionHandoffAnimation(Q,E,ae);tt!==null&&(U.startTime=tt,j=!0)}}Ym(n,E),S.start(Vg(E,S,V,n.shouldReduceMotion&&pS.has(E)?{type:!1}:U,n,j));const k=S.animation;k&&g.push(k)}return d&&Promise.all(g).then(()=>{ae.update(()=>{d&&VI(n,d)})}),g}function sp(n,t,i={}){var r;const o=ou(n,t,i.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:u=n.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(u=i.transitionOverride);const h=o?()=>Promise.all(QS(n,o,i)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=u;return nN(n,t,v+g,E,S,i)}:()=>Promise.resolve(),{when:p}=u;if(p){const[g,v]=p==="beforeChildren"?[h,d]:[d,h];return g().then(()=>v())}else return Promise.all([h(),d(i.delay)])}function nN(n,t,i=0,r=0,o=1,u){const h=[],d=(n.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>d-g*r;return Array.from(n.variantChildren).sort(iN).forEach((g,v)=>{g.notify("AnimationStart",t),h.push(sp(g,t,{...u,delay:i+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(h)}function iN(n,t){return n.sortNodePosition(t)}function sN(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>sp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=sp(n,t,i);else{const o=typeof t=="function"?ou(n,t,i.custom):t;r=Promise.all(QS(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function YS(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const rN=cg.length;function XS(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?XS(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<rN;i++){const r=cg[i],o=n.props[r];(su(o)||o===!1)&&(t[r]=o)}return t}const aN=[...ug].reverse(),oN=ug.length;function lN(n){return t=>Promise.all(t.map(({animation:i,options:r})=>sN(n,i,r)))}function uN(n){let t=lN(n),i=NT(),r=!0;const o=p=>(g,v)=>{var E;const S=ou(n,v,p==="exit"?(E=n.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(S){const{transition:V,transitionEnd:U,...j}=S;g={...g,...j,...U}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=XS(n.parent)||{},E=[],S=new Set;let V={},U=1/0;for(let k=0;k<oN;k++){const Q=aN[k],tt=i[Q],nt=g[Q]!==void 0?g[Q]:v[Q],_t=su(nt),rt=Q===p?tt.isActive:null;rt===!1&&(U=k);let gt=nt===v[Q]&&nt!==g[Q]&&_t;if(gt&&r&&n.manuallyAnimateOnMount&&(gt=!1),tt.protectedKeys={...V},!tt.isActive&&rt===null||!nt&&!tt.prevProp||Gh(nt)||typeof nt=="boolean")continue;const O=cN(tt.prevProp,nt);let R=O||Q===p&&tt.isActive&&!gt&&_t||k>U&&_t,C=!1;const x=Array.isArray(nt)?nt:[nt];let N=x.reduce(o(Q),{});rt===!1&&(N={});const{prevResolvedValues:B={}}=tt,I={...B,...N},Dt=ct=>{R=!0,S.has(ct)&&(C=!0,S.delete(ct)),tt.needsAnimating[ct]=!0;const ht=n.getValue(ct);ht&&(ht.liveStyle=!1)};for(const ct in I){const ht=N[ct],Pt=B[ct];if(V.hasOwnProperty(ct))continue;let A=!1;Qm(ht)&&Qm(Pt)?A=!YS(ht,Pt):A=ht!==Pt,A?ht!=null?Dt(ct):S.add(ct):ht!==void 0&&S.has(ct)?Dt(ct):tt.protectedKeys[ct]=!0}tt.prevProp=nt,tt.prevResolvedValues=N,tt.isActive&&(V={...V,...N}),r&&n.blockInitialAnimation&&(R=!1),R&&(!(gt&&O)||C)&&E.push(...x.map(ct=>({animation:ct,options:{type:Q}})))}if(S.size){const k={};if(typeof g.initial!="boolean"){const Q=ou(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(k.transition=Q.transition)}S.forEach(Q=>{const tt=n.getBaseTarget(Q),nt=n.getValue(Q);nt&&(nt.liveStyle=!0),k[Q]=tt??null}),E.push({animation:k})}let j=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(E):Promise.resolve()}function d(p,g){var v;if(i[p].isActive===g)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(S=>{var V;return(V=S.animationState)===null||V===void 0?void 0:V.setActive(p,g)}),i[p].isActive=g;const E=h(p);for(const S in i)i[S].protectedKeys={};return E}return{animateChanges:h,setActive:d,setAnimateFunction:u,getState:()=>i,reset:()=>{i=NT(),r=!0}}}function cN(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!YS(t,n):!1}function Yr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NT(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hN extends mr{constructor(t){super(t),t.animationState||(t.animationState=uN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let fN=0;class dN extends mr{constructor(){super(...arguments),this.id=fN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mN={animation:{Feature:hN},exit:{Feature:dN}};function uu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function vu(n){return{point:{x:n.pageX,y:n.pageY}}}const pN=n=>t=>lg(t)&&n(t,vu(t));function Hl(n,t,i,r){return uu(n,t,pN(i),r)}function $S({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function gN({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function yN(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}const ZS=1e-4,vN=1-ZS,_N=1+ZS,WS=.01,TN=0-WS,EN=0+WS;function yn(n){return n.max-n.min}function AN(n,t,i){return Math.abs(n-t)<=i}function PT(n,t,i,r=.5){n.origin=r,n.originPoint=fe(t.min,t.max,n.origin),n.scale=yn(i)/yn(t),n.translate=fe(i.min,i.max,n.origin)-n.originPoint,(n.scale>=vN&&n.scale<=_N||isNaN(n.scale))&&(n.scale=1),(n.translate>=TN&&n.translate<=EN||isNaN(n.translate))&&(n.translate=0)}function Gl(n,t,i,r){PT(n.x,t.x,i.x,r?r.originX:void 0),PT(n.y,t.y,i.y,r?r.originY:void 0)}function LT(n,t,i){n.min=i.min+t.min,n.max=n.min+yn(t)}function bN(n,t,i){LT(n.x,t.x,i.x),LT(n.y,t.y,i.y)}function UT(n,t,i){n.min=t.min-i.min,n.max=n.min+yn(t)}function Kl(n,t,i){UT(n.x,t.x,i.x),UT(n.y,t.y,i.y)}const kT=()=>({translate:0,scale:1,origin:0,originPoint:0}),so=()=>({x:kT(),y:kT()}),BT=()=>({min:0,max:0}),be=()=>({x:BT(),y:BT()});function Wn(n){return[n("x"),n("y")]}function dm(n){return n===void 0||n===1}function rp({scale:n,scaleX:t,scaleY:i}){return!dm(n)||!dm(t)||!dm(i)}function $r(n){return rp(n)||JS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function JS(n){return zT(n.x)||zT(n.y)}function zT(n){return n&&n!=="0%"}function Ah(n,t,i){const r=n-i,o=t*r;return i+o}function jT(n,t,i,r,o){return o!==void 0&&(n=Ah(n,o,r)),Ah(n,i,r)+t}function ap(n,t=0,i=1,r,o){n.min=jT(n.min,t,i,r,o),n.max=jT(n.max,t,i,r,o)}function tw(n,{x:t,y:i}){ap(n.x,t.translate,t.scale,t.originPoint),ap(n.y,i.translate,i.scale,i.originPoint)}const qT=.999999999999,FT=1.0000000000001;function SN(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let d=0;d<o;d++){u=i[d],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ao(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,tw(n,h)),r&&$r(u.latestValues)&&ao(n,u.latestValues))}t.x<FT&&t.x>qT&&(t.x=1),t.y<FT&&t.y>qT&&(t.y=1)}function ro(n,t){n.min=n.min+t,n.max=n.max+t}function HT(n,t,i,r,o=.5){const u=fe(n.min,n.max,o);ap(n,t,i,u,r)}function ao(n,t){HT(n.x,t.x,t.scaleX,t.scale,t.originX),HT(n.y,t.y,t.scaleY,t.scale,t.originY)}function ew(n,t){return $S(yN(n.getBoundingClientRect(),t))}function wN(n,t,i){const r=ew(n,i),{scroll:o}=t;return o&&(ro(r.x,o.offset.x),ro(r.y,o.offset.y)),r}const nw=({current:n})=>n?n.ownerDocument.defaultView:null,GT=(n,t)=>Math.abs(n-t);function RN(n,t){const i=GT(n.x,t.x),r=GT(n.y,t.y);return Math.sqrt(i**2+r**2)}class iw{constructor(t,i,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=pm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,V=RN(E.offset,{x:0,y:0})>=3;if(!S&&!V)return;const{point:U}=E,{timestamp:j}=We;this.history.push({...U,timestamp:j});const{onStart:k,onMove:Q}=this.handlers;S||(k&&k(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=mm(S,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=pm(E.type==="pointercancel"?this.lastMoveEventInfo:mm(S,this.transformPagePoint),this.history);this.startEvent&&V&&V(E,k),U&&U(E,k)},!lg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.contextWindow=o||window;const h=vu(t),d=mm(h,this.transformPagePoint),{point:p}=d,{timestamp:g}=We;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=i;v&&v(t,pm(d,this.history)),this.removeListeners=yu(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function mm(n,t){return t?{point:t(n.point)}:n}function KT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function pm({point:n},t){return{point:n,delta:KT(n,sw(t)),offset:KT(n,CN(t)),velocity:DN(t,.1)}}function CN(n){return n[0]}function sw(n){return n[n.length-1]}function DN(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=sw(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>as(t)));)i--;if(!r)return{x:0,y:0};const u=os(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function VN(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?fe(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?fe(i,n,r.max):Math.min(n,i)),n}function QT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function MN(n,{top:t,left:i,bottom:r,right:o}){return{x:QT(n.x,i,o),y:QT(n.y,t,r)}}function YT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function xN(n,t){return{x:YT(n.x,t.x),y:YT(n.y,t.y)}}function IN(n,t){let i=.5;const r=yn(n),o=yn(t);return o>r?i=go(t.min,t.max-r,n.min):r>o&&(i=go(n.min,n.max-o,t.min)),fs(0,1,i)}function ON(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const op=.35;function NN(n=op){return n===!1?n=0:n===!0&&(n=op),{x:XT(n,"left","right"),y:XT(n,"top","bottom")}}function XT(n,t,i){return{min:$T(n,t),max:$T(n,i)}}function $T(n,t){return typeof n=="number"?n:n[t]||0}const PN=new WeakMap;class LN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:i=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(vu(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:V,onDragStart:U}=this.getProps();if(S&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vx(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(k=>{let Q=this.getAxisMotionValue(k).get()||0;if(xi.test(Q)){const{projection:tt}=this.visualElement;if(tt&&tt.layout){const nt=tt.layout.layoutBox[k];nt&&(Q=yn(nt)*(parseFloat(Q)/100))}}this.originPoint[k]=Q}),U&&ae.postRender(()=>U(v,E)),Ym(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(v,E)=>{const{dragPropagation:S,dragDirectionLock:V,onDirectionLock:U,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=E;if(V&&this.currentDirection===null){this.currentDirection=UN(k),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,k),this.updateAxis("y",E.point,k),this.visualElement.render(),j&&j(v,E)},d=(v,E)=>this.stop(v,E),p=()=>Wn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new iw(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:nw(this.visualElement)})}stop(t,i){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&ae.postRender(()=>u(t,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Kc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=VN(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){var t;const{dragConstraints:i,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,u=this.constraints;i&&no(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=MN(o.layoutBox,i):this.constraints=!1,this.elastic=NN(r),u!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Wn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=ON(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!no(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=wN(r,o.root,this.visualElement.getTransformPagePoint());let h=xN(o.layout.layoutBox,u);if(i){const d=i(gN(h));this.hasMutatedConstraints=!!d,d&&(h=$S(d))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Wn(v=>{if(!Kc(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const S=o?200:1e6,V=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(d)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Ym(this.visualElement,t),r.start(Vg(t,r,0,i,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(i=>{const{drag:r}=this.getProps();if(!Kc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:d}=o.layout.layoutBox[i];u.set(t[i]-fe(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!no(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Wn(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const p=d.get();o[h]=IN({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(h=>{if(!Kc(h,t,null))return;const d=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];d.set(fe(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;PN.set(this.visualElement,this);const t=this.visualElement.current,i=Hl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();no(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const h=uu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Wn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=op,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:d}}}function Kc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function UN(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class kN extends mr{constructor(t){super(t),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new LN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZT=n=>(t,i)=>{n&&ae.postRender(()=>n(t,i))};class BN extends mr{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(t){this.session=new iw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ZT(t),onStart:ZT(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&ae.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const xl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(wt.test(n))n=parseFloat(n);else return n;const i=WT(n,t.target.x),r=WT(n,t.target.y);return`${i}% ${r}%`}},zN={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=cr.parse(n);if(o.length>5)return r;const u=cr.createTransformer(n),h=typeof o[0]!="number"?1:0,d=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=d,o[1+h]/=p;const g=fe(d,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};class jN extends yt.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;iI(qN),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,h=r.projection;return h&&(h.isPresent=u,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||ae.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),og.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rw(n){const[t,i]=_x(),r=yt.useContext(zb);return st.jsx(jN,{...n,layoutGroup:r,switchLayoutGroup:yt.useContext(nS),isPresent:t,safeToRemove:i})}const qN={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:zN};function FN(n,t,i){const r=hn(n)?n:iu(n);return r.start(Vg("",r,t,i)),r.animation}function HN(n){return n instanceof SVGElement&&n.tagName!=="svg"}const GN=(n,t)=>n.depth-t.depth;class KN{constructor(){this.children=[],this.isDirty=!1}add(t){tg(this.children,t),this.isDirty=!0}remove(t){eg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GN),this.isDirty=!1,this.children.forEach(t)}}function QN(n,t){const i=Mi.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(ur(r),n(u-t))};return ae.read(r,!0),()=>ur(r)}const aw=["TopLeft","TopRight","BottomLeft","BottomRight"],YN=aw.length,JT=n=>typeof n=="string"?parseFloat(n):n,tE=n=>typeof n=="number"||wt.test(n);function XN(n,t,i,r,o,u){o?(n.opacity=fe(0,i.opacity!==void 0?i.opacity:1,$N(r)),n.opacityExit=fe(t.opacity!==void 0?t.opacity:1,0,ZN(r))):u&&(n.opacity=fe(t.opacity!==void 0?t.opacity:1,i.opacity!==void 0?i.opacity:1,r));for(let h=0;h<YN;h++){const d=`border${aw[h]}Radius`;let p=eE(t,d),g=eE(i,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||tE(p)===tE(g)?(n[d]=Math.max(fe(JT(p),JT(g),r),0),(xi.test(g)||xi.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||i.rotate)&&(n.rotate=fe(t.rotate||0,i.rotate||0,r))}function eE(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const $N=ow(0,.5,bS),ZN=ow(.5,.95,Nn);function ow(n,t,i){return r=>r<n?0:r>t?1:i(go(n,t,r))}function nE(n,t){n.min=t.min,n.max=t.max}function Zn(n,t){nE(n.x,t.x),nE(n.y,t.y)}function iE(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function sE(n,t,i,r,o){return n-=t,n=Ah(n,1/i,r),o!==void 0&&(n=Ah(n,1/o,r)),n}function WN(n,t=0,i=1,r=.5,o,u=n,h=n){if(xi.test(t)&&(t=parseFloat(t),t=fe(h.min,h.max,t/100)-h.min),typeof t!="number")return;let d=fe(u.min,u.max,r);n===u&&(d-=t),n.min=sE(n.min,t,i,d,o),n.max=sE(n.max,t,i,d,o)}function rE(n,t,[i,r,o],u,h){WN(n,t[i],t[r],t[o],t.scale,u,h)}const JN=["x","scaleX","originX"],tP=["y","scaleY","originY"];function aE(n,t,i,r){rE(n.x,t,JN,i?i.x:void 0,r?r.x:void 0),rE(n.y,t,tP,i?i.y:void 0,r?r.y:void 0)}function oE(n){return n.translate===0&&n.scale===1}function lw(n){return oE(n.x)&&oE(n.y)}function lE(n,t){return n.min===t.min&&n.max===t.max}function eP(n,t){return lE(n.x,t.x)&&lE(n.y,t.y)}function uE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function uw(n,t){return uE(n.x,t.x)&&uE(n.y,t.y)}function cE(n){return yn(n.x)/yn(n.y)}function hE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class nP{constructor(){this.members=[]}add(t){tg(this.members,t),t.scheduleRender()}remove(t){if(eg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iP(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=(i==null?void 0:i.z)||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:V,skewY:U}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),V&&(r+=`skewX(${V}deg) `),U&&(r+=`skewY(${U}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(r+=`scale(${d}, ${p})`),r||"none"}const gm=["","X","Y","Z"],sP={visibility:"hidden"},fE=1e3;let rP=0;function ym(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function cw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=gS(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&cw(r)}function hw({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},d=t==null?void 0:t()){this.id=rP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lP),this.nodes.forEach(dP),this.nodes.forEach(mP),this.nodes.forEach(uP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new KN)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new ig),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const p=this.eventHandlers.get(h);p&&p.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HN(h),this.instance=h;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||p)&&(this.isLayoutDirty=!0),n){let E;const S=()=>this.root.updateBlockedByResize=!1;n(h,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=QN(S,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(mE))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:S,hasRelativeLayoutChanged:V,layout:U})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||_P,{onLayoutAnimationStart:k,onLayoutAnimationComplete:Q}=v.getProps(),tt=!this.targetLayout||!uw(this.targetLayout,U),nt=!S&&V;if(this.options.layoutRoot||this.resumeFrom||nt||S&&(tt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,nt);const _t={...sg(j,"layout"),onPlay:k,onComplete:Q};(v.shouldReduceMotion||this.options.layoutRoot)&&(_t.delay=0,_t.type=!1),this.startAnimation(_t)}else S||mE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=U})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pP),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dE);return}this.isUpdating||this.nodes.forEach(hP),this.isUpdating=!1,this.nodes.forEach(fP),this.nodes.forEach(aP),this.nodes.forEach(oP),this.clearAllSnapshots();const d=Mi.now();We.delta=fs(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,lm.update.process(We),lm.preRender.process(We),lm.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,og.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cP),this.sharedNodes.forEach(gP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!lw(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&(d||$r(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return h&&(p=this.removeTransform(p)),TP(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:d}=this.options;if(!d)return be();const p=d.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(EP))){const{scroll:v}=this.root;v&&(ro(p.x,v.offset.x),ro(p.y,v.offset.y))}return p}removeElementScroll(h){var d;const p=be();if(Zn(p,h),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&Zn(p,h),ro(p.x,E.offset.x),ro(p.y,E.offset.y))}return p}applyTransform(h,d=!1){const p=be();Zn(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ao(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),$r(v.latestValues)&&ao(p,v.latestValues)}return $r(this.latestValues)&&ao(p,this.latestValues),p}removeTransform(h){const d=be();Zn(d,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!$r(g.latestValues))continue;rp(g.latestValues)&&g.updateSnapshot();const v=be(),E=g.measurePageBox();Zn(v,E),aE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return $r(this.latestValues)&&aE(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var d;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:S}=this.options;if(!(!this.layout||!(E||S))){if(this.resolvedRelativeTargetAt=We.timestamp,!this.targetDelta&&!this.relativeTarget){const V=this.getClosestProjectingParent();V&&V.layout&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Kl(this.relativeTargetOrigin,this.layout.layoutBox,V.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),tw(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const V=this.getClosestProjectingParent();V&&!!V.resumingFrom==!!this.resumingFrom&&!V.options.layoutScroll&&V.target&&this.animationProgress!==1?(this.relativeParent=V,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Kl(this.relativeTargetOrigin,this.target,V.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||JS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const d=this.getLead(),p=!!this.resumingFrom||this!==d;let g=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===We.timestamp&&(g=!1),g)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;Zn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,V=this.treeScale.y;SN(this.layoutCorrected,this.treeScale,this.path,p),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=be());const{target:U}=d;if(!U){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,U,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==V||!hE(this.projectionDelta.x,this.prevProjectionDelta.x)||!hE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",U))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=so(),this.projectionDelta=so(),this.projectionDeltaWithTransform=so()}setAnimationOrigin(h,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=so();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=be(),V=p?p.source:void 0,U=this.layout?this.layout.source:void 0,j=V!==U,k=this.getStack(),Q=!k||k.members.length<=1,tt=!!(j&&!Q&&this.options.crossfade===!0&&!this.path.some(vP));this.animationProgress=0;let nt;this.mixTargetDelta=_t=>{const rt=_t/1e3;pE(E.x,h.x,rt),pE(E.y,h.y,rt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kl(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yP(this.relativeTarget,this.relativeTargetOrigin,S,rt),nt&&eP(this.relativeTarget,nt)&&(this.isProjectionDirty=!1),nt||(nt=be()),Zn(nt,this.relativeTarget)),j&&(this.animationValues=v,XN(v,g,this.latestValues,rt,tt,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{eh.hasAnimatedSinceResize=!0,this.currentAnimation=FN(0,fE,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=h;if(!(!d||!p||!g)){if(this!==h&&this.layout&&g&&fw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||be();const E=yn(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const S=yn(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+S}Zn(d,p),ao(d,v),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new nP),this.sharedNodes.get(h).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&ym("z",h,g,this.animationValues);for(let v=0;v<gm.length;v++)ym(`rotate${gm[v]}`,h,g,this.animationValues),ym(`skew${gm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}getProjectionStyles(h){var d,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sP;const g={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=th(h==null?void 0:h.pointerEvents)||"",g.transform=v?v(this.latestValues,""):"none",g;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=th(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!$r(this.latestValues)&&(j.transform=v?v({},""):"none",this.hasProjected=!1),j}const S=E.animationValues||E.latestValues;this.applyTransformsToTarget(),g.transform=iP(this.projectionDeltaWithTransform,this.treeScale,S),v&&(g.transform=v(S,g.transform));const{x:V,y:U}=this.projectionDelta;g.transformOrigin=`${V.origin*100}% ${U.origin*100}% 0`,E.animationValues?g.opacity=E===this?(p=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=E===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const j in ru){if(S[j]===void 0)continue;const{correct:k,applyTo:Q,isCSSVariable:tt}=ru[j],nt=g.transform==="none"?S[j]:k(S[j],E);if(Q){const _t=Q.length;for(let rt=0;rt<_t;rt++)g[Q[rt]]=nt}else tt?this.options.visualElement.renderState.vars[j]=nt:g[j]=nt}return this.options.layoutId&&(g.pointerEvents=E===this?th(h==null?void 0:h.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(dE),this.root.sharedNodes.clear()}}}function aP(n){n.updateLayout()}function oP(n){var t;const i=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,h=i.source!==n.layout.source;u==="size"?Wn(E=>{const S=h?i.measuredBox[E]:i.layoutBox[E],V=yn(S);S.min=r[E].min,S.max=S.min+V}):fw(u,i.layoutBox,r)&&Wn(E=>{const S=h?i.measuredBox[E]:i.layoutBox[E],V=yn(r[E]);S.max=S.min+V,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+V)});const d=so();Gl(d,r,i.layoutBox);const p=so();h?Gl(p,n.applyTransform(o,!0),i.measuredBox):Gl(p,r,i.layoutBox);const g=!lw(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:V}=E;if(S&&V){const U=be();Kl(U,i.layoutBox,S.layoutBox);const j=be();Kl(j,r,V.layoutBox),uw(U,j)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=U,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function lP(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function uP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function cP(n){n.clearSnapshot()}function dE(n){n.clearMeasurements()}function hP(n){n.isLayoutDirty=!1}function fP(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function mE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dP(n){n.resolveTargetDelta()}function mP(n){n.calcProjection()}function pP(n){n.resetSkewAndRotation()}function gP(n){n.removeLeadSnapshot()}function pE(n,t,i){n.translate=fe(t.translate,0,i),n.scale=fe(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function gE(n,t,i,r){n.min=fe(t.min,i.min,r),n.max=fe(t.max,i.max,r)}function yP(n,t,i,r){gE(n.x,t.x,i.x,r),gE(n.y,t.y,i.y,r)}function vP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _P={duration:.45,ease:[.4,0,.1,1]},yE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),vE=yE("applewebkit/")&&!yE("chrome/")?Math.round:Nn;function _E(n){n.min=vE(n.min),n.max=vE(n.max)}function TP(n){_E(n.x),_E(n.y)}function fw(n,t,i){return n==="position"||n==="preserve-aspect"&&!AN(cE(t),cE(i),.2)}function EP(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const AP=hw({attachResizeListener:(n,t)=>uu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},dw=hw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vm.current){const n=new AP({});n.mount(window),n.setOptions({layoutScroll:!0}),vm.current=n}return vm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),bP={pan:{Feature:BN},drag:{Feature:kN,ProjectionNode:dw,MeasureLayout:rw}};function TE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ae.postRender(()=>u(t,vu(t)))}class SP extends mr{mount(){const{current:t}=this.node;t&&(this.unmount=xx(t,(i,r)=>(TE(this.node,r,"Start"),o=>TE(this.node,o,"End"))))}unmount(){}}class wP extends mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yu(uu(this.node.current,"focus",()=>this.onFocus()),uu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ae.postRender(()=>u(t,vu(t)))}class RP extends mr{mount(){const{current:t}=this.node;t&&(this.unmount=Px(t,(i,r)=>(EE(this.node,r,"Start"),(o,{success:u})=>EE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lp=new WeakMap,_m=new WeakMap,CP=n=>{const t=lp.get(n.target);t&&t(n)},DP=n=>{n.forEach(CP)};function VP({root:n,...t}){const i=n||document;_m.has(i)||_m.set(i,{});const r=_m.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(DP,{root:n,...t})),r[o]}function MP(n,t,i){const r=VP(t);return lp.set(n,i),r.observe(n),()=>{lp.delete(n),r.unobserve(n)}}const xP={some:0,all:1};class IP extends mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:xP[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return MP(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(OP(t,i))&&this.startObserver()}unmount(){}}function OP({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const NP={inView:{Feature:IP},tap:{Feature:RP},focus:{Feature:wP},hover:{Feature:SP}},PP={layout:{ProjectionNode:dw,MeasureLayout:rw}},up={current:null},mw={current:!1};function LP(){if(mw.current=!0,!!Wp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>up.current=n.matches;n.addListener(t),t()}else up.current=!1}const UP=[...kS,ln,cr],kP=n=>UP.find(US(n)),BP=new WeakMap;function zP(n,t,i){for(const r in t){const o=t[r],u=i[r];if(hn(o))n.addValue(r,o);else if(hn(u))n.addValue(r,iu(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,iu(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const AE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jP{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const V=Mi.now();this.renderScheduledAt<V&&(this.renderScheduledAt=V,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:v}=h;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Kh(i),this.isVariantNode=tS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(i,{},this);for(const V in S){const U=S[V];p[V]!==void 0&&hn(U)&&U.set(p[V],!1)}}mount(t){this.current=t,BP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),mw.current||LP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:up.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ua.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yo){const i=yo[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<AE.length;r++){const o=AE[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=zP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=iu(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(PS(o)||wS(o))?o=parseFloat(o):!kP(o)&&cr.test(i)&&(o=IS(t,i)),this.setBaseTarget(t,hn(o)?o.get():o)),hn(o)?o.get():o}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var i;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const h=Tg(this.props,r,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);h&&(o=h[t])}if(r&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!hn(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new ig),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}}class pw extends jP{constructor(){super(...arguments),this.KeyframeResolver=BS}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function qP(n){return window.getComputedStyle(n)}class FP extends pw{constructor(){super(...arguments),this.type="html",this.renderInstance=hS}readValueFromInstance(t,i){if(ua.has(i))return tO(t,i);{const r=qP(t),o=(fg(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return ew(t,i)}build(t,i,r){pg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Eg(t,i,r)}}class HP extends pw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&cS(this.current,this.renderState)}}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ua.has(i)){const r=xS(i);return r&&r.default||0}return i=fS.has(i)?i:hg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return mS(t,i,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ae.postRender(this.updateDimensions)}build(t,i,r){vg(t,i,this.isSVGTag,r.transformTemplate)}renderInstance(t,i,r,o){dS(t,i,r,o)}mount(t){this.isSVGTag=_g(t.tagName),super.mount(t)}}const GP=(n,t)=>yg(n)?new HP(t):new FP(t,{allowProjection:n!==yt.Fragment}),KP=CI({...mN,...NP,...bP,...PP},GP),QP=Fx(KP);var _u={};(function n(t,i,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=function(){if(!t.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),D=A.getContext("2d");D.fillRect(0,0,1,1);var Z=A.transferToImageBitmap();try{D.createPattern(Z,"no-repeat")}catch{return!1}return!0}();function p(){}function g(A){var D=i.exports.Promise,Z=D!==void 0?D:t.Promise;return typeof Z=="function"?new Z(A):(A(p,p),null)}var v=function(A,D){return{transform:function(Z){if(A)return Z;if(D.has(Z))return D.get(Z);var X=new OffscreenCanvas(Z.width,Z.height),J=X.getContext("2d");return J.drawImage(Z,0,0),D.set(Z,X),X},clear:function(){D.clear()}}}(d,new Map),E=function(){var A=Math.floor(16.666666666666668),D,Z,X={},J=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(D=function(lt){var ut=Math.random();return X[ut]=requestAnimationFrame(function dt(ft){J===ft||J+A-1<ft?(J=ft,delete X[ut],lt()):X[ut]=requestAnimationFrame(dt)}),ut},Z=function(lt){X[lt]&&cancelAnimationFrame(X[lt])}):(D=function(lt){return setTimeout(lt,A)},Z=function(lt){return clearTimeout(lt)}),{frame:D,cancel:Z}}(),S=function(){var A,D,Z={};function X(J){function lt(ut,dt){J.postMessage({options:ut||{},callback:dt})}J.init=function(dt){var ft=dt.transferControlToOffscreen();J.postMessage({canvas:ft},[ft])},J.fire=function(dt,ft,Rt){if(D)return lt(dt,null),D;var At=Math.random().toString(36).slice(2);return D=g(function(Ot){function Yt(Wt){Wt.data.callback===At&&(delete Z[At],J.removeEventListener("message",Yt),D=null,v.clear(),Rt(),Ot())}J.addEventListener("message",Yt),lt(dt,At),Z[At]=Yt.bind(null,{data:{callback:At}})}),D},J.reset=function(){J.postMessage({reset:!0});for(var dt in Z)Z[dt](),delete Z[dt]}}return function(){if(A)return A;if(!r&&u){var J=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([J])))}catch(lt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",lt),null}X(A)}return A}}(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function U(A,D){return D?D(A):A}function j(A){return A!=null}function k(A,D,Z){return U(A&&j(A[D])?A[D]:V[D],Z)}function Q(A){return A<0?0:Math.floor(A)}function tt(A,D){return Math.floor(Math.random()*(D-A))+A}function nt(A){return parseInt(A,16)}function _t(A){return A.map(rt)}function rt(A){var D=String(A).replace(/[^0-9a-f]/gi,"");return D.length<6&&(D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2]),{r:nt(D.substring(0,2)),g:nt(D.substring(2,4)),b:nt(D.substring(4,6))}}function gt(A){var D=k(A,"origin",Object);return D.x=k(D,"x",Number),D.y=k(D,"y",Number),D}function O(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function R(A){var D=A.getBoundingClientRect();A.width=D.width,A.height=D.height}function C(A){var D=document.createElement("canvas");return D.style.position="fixed",D.style.top="0px",D.style.left="0px",D.style.pointerEvents="none",D.style.zIndex=A,D}function x(A,D,Z,X,J,lt,ut,dt,ft){A.save(),A.translate(D,Z),A.rotate(lt),A.scale(X,J),A.arc(0,0,1,ut,dt,ft),A.restore()}function N(A){var D=A.angle*(Math.PI/180),Z=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-D+(.5*Z-Math.random()*Z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function B(A,D){D.x+=Math.cos(D.angle2D)*D.velocity+D.drift,D.y+=Math.sin(D.angle2D)*D.velocity+D.gravity,D.velocity*=D.decay,D.flat?(D.wobble=0,D.wobbleX=D.x+10*D.scalar,D.wobbleY=D.y+10*D.scalar,D.tiltSin=0,D.tiltCos=0,D.random=1):(D.wobble+=D.wobbleSpeed,D.wobbleX=D.x+10*D.scalar*Math.cos(D.wobble),D.wobbleY=D.y+10*D.scalar*Math.sin(D.wobble),D.tiltAngle+=.1,D.tiltSin=Math.sin(D.tiltAngle),D.tiltCos=Math.cos(D.tiltAngle),D.random=Math.random()+2);var Z=D.tick++/D.totalTicks,X=D.x+D.random*D.tiltCos,J=D.y+D.random*D.tiltSin,lt=D.wobbleX+D.random*D.tiltCos,ut=D.wobbleY+D.random*D.tiltSin;if(A.fillStyle="rgba("+D.color.r+", "+D.color.g+", "+D.color.b+", "+(1-Z)+")",A.beginPath(),h&&D.shape.type==="path"&&typeof D.shape.path=="string"&&Array.isArray(D.shape.matrix))A.fill(ct(D.shape.path,D.shape.matrix,D.x,D.y,Math.abs(lt-X)*.1,Math.abs(ut-J)*.1,Math.PI/10*D.wobble));else if(D.shape.type==="bitmap"){var dt=Math.PI/10*D.wobble,ft=Math.abs(lt-X)*.1,Rt=Math.abs(ut-J)*.1,At=D.shape.bitmap.width*D.scalar,Ot=D.shape.bitmap.height*D.scalar,Yt=new DOMMatrix([Math.cos(dt)*ft,Math.sin(dt)*ft,-Math.sin(dt)*Rt,Math.cos(dt)*Rt,D.x,D.y]);Yt.multiplySelf(new DOMMatrix(D.shape.matrix));var Wt=A.createPattern(v.transform(D.shape.bitmap),"no-repeat");Wt.setTransform(Yt),A.globalAlpha=1-Z,A.fillStyle=Wt,A.fillRect(D.x-At/2,D.y-Ot/2,At,Ot),A.globalAlpha=1}else if(D.shape==="circle")A.ellipse?A.ellipse(D.x,D.y,Math.abs(lt-X)*D.ovalScalar,Math.abs(ut-J)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI):x(A,D.x,D.y,Math.abs(lt-X)*D.ovalScalar,Math.abs(ut-J)*D.ovalScalar,Math.PI/10*D.wobble,0,2*Math.PI);else if(D.shape==="star")for(var It=Math.PI/2*3,le=4*D.scalar,Te=8*D.scalar,Ke=D.x,nn=D.y,vn=5,ke=Math.PI/vn;vn--;)Ke=D.x+Math.cos(It)*Te,nn=D.y+Math.sin(It)*Te,A.lineTo(Ke,nn),It+=ke,Ke=D.x+Math.cos(It)*le,nn=D.y+Math.sin(It)*le,A.lineTo(Ke,nn),It+=ke;else A.moveTo(Math.floor(D.x),Math.floor(D.y)),A.lineTo(Math.floor(D.wobbleX),Math.floor(J)),A.lineTo(Math.floor(lt),Math.floor(ut)),A.lineTo(Math.floor(X),Math.floor(D.wobbleY));return A.closePath(),A.fill(),D.tick<D.totalTicks}function I(A,D,Z,X,J){var lt=D.slice(),ut=A.getContext("2d"),dt,ft,Rt=g(function(At){function Ot(){dt=ft=null,ut.clearRect(0,0,X.width,X.height),v.clear(),J(),At()}function Yt(){r&&!(X.width===o.width&&X.height===o.height)&&(X.width=A.width=o.width,X.height=A.height=o.height),!X.width&&!X.height&&(Z(A),X.width=A.width,X.height=A.height),ut.clearRect(0,0,X.width,X.height),lt=lt.filter(function(Wt){return B(ut,Wt)}),lt.length?dt=E.frame(Yt):Ot()}dt=E.frame(Yt),ft=Ot});return{addFettis:function(At){return lt=lt.concat(At),Rt},canvas:A,promise:Rt,reset:function(){dt&&E.cancel(dt),ft&&ft()}}}function Dt(A,D){var Z=!A,X=!!k(D||{},"resize"),J=!1,lt=k(D,"disableForReducedMotion",Boolean),ut=u&&!!k(D||{},"useWorker"),dt=ut?S():null,ft=Z?O:R,Rt=A&&dt?!!A.__confetti_initialized:!1,At=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ot;function Yt(It,le,Te){for(var Ke=k(It,"particleCount",Q),nn=k(It,"angle",Number),vn=k(It,"spread",Number),ke=k(It,"startVelocity",Number),ds=k(It,"decay",Number),wo=k(It,"gravity",Number),pr=k(It,"drift",Number),Qe=k(It,"colors",_t),ca=k(It,"ticks",Number),me=k(It,"shapes"),we=k(It,"scalar"),Jn=!!k(It,"flat"),gr=gt(It),ms=Ke,yr=[],Ni=A.width*gr.x,li=A.height*gr.y;ms--;)yr.push(N({x:Ni,y:li,angle:nn,spread:vn,startVelocity:ke,color:Qe[ms%Qe.length],shape:me[tt(0,me.length)],ticks:ca,decay:ds,gravity:wo,drift:pr,scalar:we,flat:Jn}));return Ot?Ot.addFettis(yr):(Ot=I(A,yr,ft,le,Te),Ot.promise)}function Wt(It){var le=lt||k(It,"disableForReducedMotion",Boolean),Te=k(It,"zIndex",Number);if(le&&At)return g(function(ke){ke()});Z&&Ot?A=Ot.canvas:Z&&!A&&(A=C(Te),document.body.appendChild(A)),X&&!Rt&&ft(A);var Ke={width:A.width,height:A.height};dt&&!Rt&&dt.init(A),Rt=!0,dt&&(A.__confetti_initialized=!0);function nn(){if(dt){var ke={getBoundingClientRect:function(){if(!Z)return A.getBoundingClientRect()}};ft(ke),dt.postMessage({resize:{width:ke.width,height:ke.height}});return}Ke.width=Ke.height=null}function vn(){Ot=null,X&&(J=!1,t.removeEventListener("resize",nn)),Z&&A&&(document.body.contains(A)&&document.body.removeChild(A),A=null,Rt=!1)}return X&&!J&&(J=!0,t.addEventListener("resize",nn,!1)),dt?dt.fire(It,Ke,vn):Yt(It,Ke,vn)}return Wt.reset=function(){dt&&dt.reset(),Ot&&Ot.reset()},Wt}var qt;function at(){return qt||(qt=Dt(null,{useWorker:!0,resize:!0})),qt}function ct(A,D,Z,X,J,lt,ut){var dt=new Path2D(A),ft=new Path2D;ft.addPath(dt,new DOMMatrix(D));var Rt=new Path2D;return Rt.addPath(ft,new DOMMatrix([Math.cos(ut)*J,Math.sin(ut)*J,-Math.sin(ut)*lt,Math.cos(ut)*lt,Z,X])),Rt}function ht(A){if(!h)throw new Error("path confetti are not supported in this browser");var D,Z;typeof A=="string"?D=A:(D=A.path,Z=A.matrix);var X=new Path2D(D),J=document.createElement("canvas"),lt=J.getContext("2d");if(!Z){for(var ut=1e3,dt=ut,ft=ut,Rt=0,At=0,Ot,Yt,Wt=0;Wt<ut;Wt+=2)for(var It=0;It<ut;It+=2)lt.isPointInPath(X,Wt,It,"nonzero")&&(dt=Math.min(dt,Wt),ft=Math.min(ft,It),Rt=Math.max(Rt,Wt),At=Math.max(At,It));Ot=Rt-dt,Yt=At-ft;var le=10,Te=Math.min(le/Ot,le/Yt);Z=[Te,0,0,Te,-Math.round(Ot/2+dt)*Te,-Math.round(Yt/2+ft)*Te]}return{type:"path",path:D,matrix:Z}}function Pt(A){var D,Z=1,X="#000000",J='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?D=A:(D=A.text,Z="scalar"in A?A.scalar:Z,J="fontFamily"in A?A.fontFamily:J,X="color"in A?A.color:X);var lt=10*Z,ut=""+lt+"px "+J,dt=new OffscreenCanvas(lt,lt),ft=dt.getContext("2d");ft.font=ut;var Rt=ft.measureText(D),At=Math.ceil(Rt.actualBoundingBoxRight+Rt.actualBoundingBoxLeft),Ot=Math.ceil(Rt.actualBoundingBoxAscent+Rt.actualBoundingBoxDescent),Yt=2,Wt=Rt.actualBoundingBoxLeft+Yt,It=Rt.actualBoundingBoxAscent+Yt;At+=Yt+Yt,Ot+=Yt+Yt,dt=new OffscreenCanvas(At,Ot),ft=dt.getContext("2d"),ft.font=ut,ft.fillStyle=X,ft.fillText(D,Wt,It);var le=1/Z;return{type:"bitmap",bitmap:dt.transferToImageBitmap(),matrix:[le,0,0,le,-At*le/2,-Ot*le/2]}}i.exports=function(){return at().apply(this,arguments)},i.exports.reset=function(){at().reset()},i.exports.create=Dt,i.exports.shapeFromPath=ht,i.exports.shapeFromText=Pt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),_u,!1);const bE=_u.exports;_u.exports.create;const SE=17;function YP({streak:n,triggerCelebration:t,onResetStreak:i}){const r=Math.min(n/SE*100,100),o=n===SE;return yt.useEffect(()=>{o&&(bE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}}),setTimeout(()=>{bE({particleCount:500,startVelocity:60,spread:90,angle:90,gravity:.5,origin:{y:1.2}})},500))},[o]),st.jsx("div",{className:"streak-wrapper",children:st.jsxs("div",{className:"streak-bar-background",children:[st.jsx(QP.div,{className:"streak-bar-fill",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.4}}),st.jsxs("div",{className:"streak-bar-content",children:[st.jsx("span",{className:"streak-text",children:"17 richtige Fragen"}),o&&st.jsx("button",{className:"streak-reset-inline",onClick:i,children:"Reset"})]})]})})}function XP({onClose:n,questions:t}){const[i,r]=yt.useState([]),[o,u]=yt.useState(0),[h,d]=yt.useState(0);yt.useEffect(()=>{rs("stats_modal_opened")},[]),yt.useEffect(()=>{const V=XV(xV(Fm,"questionStats"),U=>{const j=[];let k=0,Q=0;U.forEach(tt=>{const nt=tt.data();j.push({id:tt.id,...nt}),k+=nt.total||0,Q+=nt.correct||0}),r(j),u(k),d(Q)});return()=>V()},[]);const p=o?Math.round(h/o*100):0,g=[...i].filter(V=>V.correct>0).sort((V,U)=>U.correct-V.correct).slice(0,3),v=[...i].filter(V=>V.wrong>0).sort((V,U)=>U.wrong-V.wrong).slice(0,3),E=V=>{if(!Array.isArray(t))return`Frage #${V}`;const U=t.find(j=>String(j.id)===String(V));return(U==null?void 0:U.question)||`Frage #${V}`},S=(V,U)=>{rs("stats_question_clicked",{question_id:V,type:U});const j=t.findIndex(k=>String(k.id)===String(V));j!==-1&&n(j)};return st.jsx("div",{className:"about-modal-overlay",onClick:V=>{V.target.classList.contains("about-modal-overlay")&&n()},children:st.jsxs("div",{className:"about-modal",children:[st.jsx("button",{className:"close-button",onClick:()=>n(),children:"×"}),st.jsx("h2",{className:"text-xl font-bold mb-4",children:"Statistiken"}),st.jsxs("div",{className:"modal-content",children:[st.jsxs("div",{className:"stats-summary",children:[st.jsxs("div",{className:"stats-summary-box",children:[st.jsxs("p",{className:"text-sm",children:["Beantwortete",st.jsx("br",{}),"Fragen"]}),st.jsx("p",{className:"big-number",children:o})]}),st.jsxs("div",{className:"stats-summary-box",children:[st.jsxs("p",{className:"text-sm",children:["Richtig",st.jsx("br",{}),"beantwortete"]}),st.jsxs("p",{className:"big-number",children:[p,"%"]})]})]}),st.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",st.jsx("span",{className:"green-text",children:"Richtig"})," beantwortete Fragen"]}),st.jsx("div",{className:"answer-list mb-4",children:g.map(V=>st.jsx("div",{className:"answer-button text-sm",onClick:()=>S(V.id,"correct"),children:E(V.id)},V.id))}),st.jsxs("h3",{className:"modal-subtitle text-lg font-semibold mb-2",children:["Top 3 ",st.jsx("span",{className:"red-text",children:"Falsch"})," beantwortete Fragen"]}),st.jsx("div",{className:"answer-list",children:v.map(V=>st.jsx("div",{className:"answer-button text-sm",onClick:()=>S(V.id,"wrong"),children:E(V.id)},V.id))})]})]})})}function $P({onConsentGiven:n}){const[t,i]=yt.useState(!1);yt.useEffect(()=>{localStorage.getItem("consentGiven")?n():i(!0)},[n]);const r=()=>{localStorage.setItem("consentGiven","true"),i(!1),n()};return t?st.jsx("div",{className:"consent-backdrop",children:st.jsxs("div",{className:"consent-modal",children:[st.jsx("h2",{children:"Willkommen bei Fragen-Katalog!"}),st.jsx("p",{children:"Ich habe dieses Projekt als Lernhilfe für mich (und vielleicht auch für dich?) gebaut – es ist komplett kostenlos, ohne Werbung oder Anmeldung."}),st.jsx("p",{children:"Um die Seite weiterzuentwickeln, verwende ich anonyme Statistikdaten. Bitte akzeptiere die Nutzung von Cookies, damit ich besser verstehen kann, was funktioniert."}),st.jsx("p",{style:{fontStyle:"italic",fontSize:"0.9rem"},children:"I built this as a personal learning project – completely free, ad-free, no login. I'd be grateful if you accept cookies to help me understand how it's used."}),st.jsx("button",{className:"consent-button",onClick:r,children:"Einverstanden / Accept"})]})}):null}function ZP(){var C,x,N,B,I;const[n,t]=yt.useState(!1),[i,r]=yt.useState([]),[o,u]=yt.useState(0),[h,d]=yt.useState(null),[p,g]=yt.useState(!0),[v,E]=yt.useState(!1),[S,V]=yt.useState(!1),[U,j]=yt.useState(0),[k,Q]=yt.useState(!1),tt=new Set([21,55,70,130,176,181,187,209,216,226,235,301,308]);yt.useEffect(()=>{rs("session_start"),fetch("/data/questions.json").then(Dt=>Dt.json()).then(Dt=>{const qt=Dt.map(at=>{var ht;const ct=at.question_number;return{id:ct??"N/A",question:at.question??"No question provided",answers:at.options??[],correct:((ht=at.options)==null?void 0:ht.indexOf(at.correct_answer))??-1,imageId:tt.has(ct)?ct:null}});r(qt),g(!1)}).catch(Dt=>{console.error("❌ Failed to load questions:",Dt),g(!1)})},[]);const nt=async Dt=>{var ht,Pt;const qt=Dt===((ht=i[o])==null?void 0:ht.correct);d(Dt);const at=qt?U+1:0;j(at),at===17&&(rs("completed_streak_17"),Q(!0),setTimeout(()=>Q(!1),3e3));const ct=String((Pt=i[o])==null?void 0:Pt.id);rs("question_answered",{question_id:ct,correct:qt});try{const A=Q_(Fm,"questionStats",ct);await YV(A,{total:Ml(1),correct:Ml(qt?1:0),wrong:Ml(qt?0:1)})}catch(A){A.code==="not-found"?await QV(Q_(Fm,"questionStats",ct),{total:1,correct:qt?1:0,wrong:qt?0:1}):console.error("❌ Firestore update failed:",A)}},_t=()=>{d(null),u(Dt=>(Dt+1)%i.length)},rt=()=>{d(null),u(Dt=>(Dt-1+i.length)%i.length)},gt=()=>{d(null),u(Math.floor(Math.random()*i.length)),rs("random_question_clicked")},O=()=>{V(!1),E(!0),rs("about_modal_opened")},R=()=>{E(!1),V(!0)};return n?st.jsxs("div",{className:"app-wrapper",children:[st.jsx("header",{className:"app-header",children:st.jsxs("div",{className:"header-inner",children:[st.jsxs("div",{className:"header-titles",children:[st.jsx("h1",{className:"app-title",children:"Fragen-Katalog"}),st.jsx("p",{className:"subtitle",children:"Under Construction"})]}),st.jsxs("div",{className:"header-links",children:[st.jsx("a",{href:"#",className:"about-link",onClick:Dt=>{Dt.preventDefault(),R()},children:"Statistiken"}),st.jsx("a",{href:"#",className:"about-link",onClick:Dt=>{Dt.preventDefault(),O()},children:"Über"})]})]})}),st.jsx("main",{className:"main-content",children:p?st.jsx("p",{className:"loading-text",children:"Loading questions..."}):st.jsxs(st.Fragment,{children:[st.jsx(YP,{streak:U,triggerCelebration:k,onResetStreak:()=>j(0)}),st.jsx(J1,{id:(C=i[o])==null?void 0:C.id,question:(x=i[o])==null?void 0:x.question,answers:(N=i[o])==null?void 0:N.answers,correctIndex:(B=i[o])==null?void 0:B.correct,selectedAnswer:h,onSelectAnswer:nt,imageId:(I=i[o])==null?void 0:I.imageId}),st.jsxs("div",{className:"controls",children:[st.jsx("button",{className:"controls-button",onClick:rt,children:"◀︎ Zurück"}),st.jsx("button",{className:"controls-button",onClick:gt,children:"Zufällig"}),st.jsx("button",{className:"controls-button",onClick:_t,children:"Weiter ▶︎"})]}),st.jsx("div",{className:"info-footer",children:st.jsxs("p",{className:"total-questions",children:["Insgesamt: ",i.length," Fragen"]})})]})}),v&&!S&&st.jsx(gx,{onClose:()=>E(!1)}),S&&!v&&st.jsx(XP,{onClose:Dt=>{V(!1),typeof Dt=="number"&&u(Dt)},questions:i})]}):st.jsx($P,{onConsentGiven:()=>t(!0)})}W1.createRoot(document.getElementById("root")).render(st.jsx(H1.StrictMode,{children:st.jsx(ZP,{})}))});export default WP();
